(function(e){function t(t){for(var s,a,l=t[0],o=t[1],r=t[2],u=0,d=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&d.push(c[a][0]),c[a]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);b&&b(t);while(d.length)d.shift()();return i.push.apply(i,r||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,l=1;l<n.length;l++){var o=n[l];0!==c[o]&&(s=!1)}s&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},c={app:0},i=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/frontend-bankapi-vue/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var r=0;r<l.length;r++)t(l[r]);var b=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},3108:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var s=n("7a23");function c(e,t,n,c,i,a){const l=Object(s["P"])("navigation"),o=Object(s["P"])("router-view");return Object(s["H"])(),Object(s["h"])(s["a"],null,[Object(s["l"])(l),Object(s["l"])(o)],64)}const i={class:"navbar navbar-expand-md navbar-dark bg-primary"},a={class:"container-fluid"},l=Object(s["i"])("button",{class:"navbar-toggler ms-auto",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseNavbar"},[Object(s["i"])("span",{class:"navbar-toggler-icon"})],-1),o={class:"navbar-collapse collapse",id:"collapseNavbar"},r={key:0,class:"navbar-nav"},b={class:"navbar-nav ms-auto"},u={key:0,class:"nav-item dropdown"},d=Object(s["i"])("a",{class:"nav-link text-white mr-2 dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{"margin-right":"2.5rem"}}," Employee menu ",-1),p={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},h={key:1,class:"nav-item"},O={key:2,class:"nav-item"};function j(e,t,n,c,j,m){const g=Object(s["P"])("router-link");return Object(s["H"])(),Object(s["h"])("nav",i,[Object(s["i"])("div",a,[Object(s["l"])(g,{to:"/home",class:"navbar-brand abs",href:"#"},{default:Object(s["db"])(()=>[Object(s["k"])("Inholland Bank")]),_:1}),l,Object(s["i"])("div",o,[e.isLoggedIn?(Object(s["H"])(),Object(s["h"])("ul",r,[Object(s["l"])(g,{to:"/deposit",class:"nav-link nav-item"},{default:Object(s["db"])(()=>[Object(s["k"])(" Deposit ")]),_:1}),Object(s["l"])(g,{to:"/withdraw",class:"nav-link nav-item"},{default:Object(s["db"])(()=>[Object(s["k"])(" Withdraw ")]),_:1}),Object(s["l"])(g,{to:"/transaction",class:"nav-link nav-item"},{default:Object(s["db"])(()=>[Object(s["k"])(" Transaction ")]),_:1})])):Object(s["g"])("",!0),Object(s["i"])("ul",b,[e.isAdmin?(Object(s["H"])(),Object(s["h"])("li",u,[d,Object(s["i"])("ul",p,[Object(s["i"])("li",null,[Object(s["l"])(g,{to:"/accounts",class:"dropdown-item"},{default:Object(s["db"])(()=>[Object(s["k"])("Accounts")]),_:1})]),Object(s["i"])("li",null,[Object(s["l"])(g,{class:"dropdown-item",to:"/transaction"},{default:Object(s["db"])(()=>[Object(s["k"])("Transactions")]),_:1})]),Object(s["i"])("li",null,[Object(s["l"])(g,{to:"/users",class:"dropdown-item"},{default:Object(s["db"])(()=>[Object(s["k"])("Users without account")]),_:1})]),Object(s["i"])("li",null,[Object(s["l"])(g,{to:"/usersall",class:"dropdown-item"},{default:Object(s["db"])(()=>[Object(s["k"])("All users")]),_:1})])])])):Object(s["g"])("",!0),e.isLoggedIn?Object(s["g"])("",!0):(Object(s["H"])(),Object(s["h"])("li",h,[Object(s["l"])(g,{to:"/login",class:"nav-link"},{default:Object(s["db"])(()=>[Object(s["k"])("Login")]),_:1})])),e.isLoggedIn?(Object(s["H"])(),Object(s["h"])("li",O,[Object(s["i"])("a",{onClick:t[0]||(t[0]=(...e)=>m.logout&&m.logout(...e)),class:"nav-link"},"Logout")])):Object(s["g"])("",!0)])])])])}var m=n("5502"),g={name:"Navigation",computed:{...Object(m["b"])(["isLoggedIn"]),...Object(m["b"])(["getUserRole"]),...Object(m["b"])(["isAdmin"])},methods:{logout(){localStorage.clear(),this.$router.go("/login")}}},f=n("6b0d"),v=n.n(f);const y=v()(g,[["render",j]]);var _=y,w={components:{Navigation:_},name:"App",watch:{$route:{immediate:!0,handler(){document.title="InHolland Bank"}}},created(){this.$store.dispatch("autoLogin")}};const k=v()(w,[["render",c]]);var x=k,A=n("6605"),T=n("bc3a"),I=n.n(T);const U=I.a.create({baseURL:"https://backend-springboot-ykvy.onrender.com/BankAPI/"});var S=U;const C=Object(m["a"])({state(){return{token:null,username:null,userrole:null,userID:null}},getters:{isLoggedIn(e){return!!e.token},getUserName(e){return e.username},isAdmin(e){if(e.userrole)return!!e.userrole.toString().includes("ROLE_EMPLOYEE")},getUserRole(e){return e.userrole},getuserID(e){return e.userID}},mutations:{authenticateUser(e,t){e.token=t.token,e.username=t.username,e.userrole=t.userrole,e.userID=t.userID}},actions:{login({commit:e},t){return new Promise((n,s)=>{S.post("login",{username:t.username,password:t.password}).then(t=>{S.defaults.headers.common["Authorization"]="Bearer "+t.data.token,e("authenticateUser",t.data),localStorage.setItem("token",t.data.token),localStorage.setItem("userrole",t.data.userrole),localStorage.setItem("userID",t.data.userID),localStorage.setItem("username",t.data.username),n()}).catch(e=>{s(e)})})},autoLogin({commit:e}){const t=localStorage.getItem("token"),n=localStorage.getItem("username"),s=localStorage.getItem("userrole"),c=localStorage.getItem("userID");t&&n&&(S.defaults.headers.common["Authorization"]="Bearer "+t,e("authenticateUser",{token:t,username:n,userrole:s,userID:c}))}}});var H=C,F=n("d6b9"),D=n.n(F);const N=e=>(Object(s["K"])("data-v-8959bc88"),e=e(),Object(s["I"])(),e),L={key:0,class:"ftco-section"},$={class:"container"},M={class:"row justify-content-center"},V={class:"col-md-7 col-lg-5"},q={class:"wrap text-center"},P=N(()=>Object(s["i"])("img",{class:"w-50 mt-4",src:D.a},null,-1)),B={class:"text-muted login-wrap p-2 p-md-2"},E=N(()=>Object(s["i"])("div",{class:"d-flex"},[Object(s["i"])("div",{class:"w-100"},[Object(s["i"])("h3",{class:"mb-4"},"Sign In")])],-1)),K={class:"form-group mt-3"},z=N(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"username"},"Username",-1)),R={class:"form-group"},J=N(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"password"},"Password",-1)),G=N(()=>Object(s["i"])("span",{toggle:"#password-field",class:"fa fa-fw fa-eye field-icon toggle-password"},null,-1)),W={class:"text-center mt-4 form-group"},Y=["disabled"],Z={key:0},Q={key:1},X=N(()=>Object(s["i"])("i",{class:"fa fa-spinner fa-spin"},null,-1)),ee=["v-if"],te=N(()=>Object(s["i"])("span",null,"Register",-1)),ne=[te];function se(e,t,n,c,i,a){return e.isLoggedIn?Object(s["g"])("",!0):(Object(s["H"])(),Object(s["h"])("section",L,[Object(s["i"])("div",$,[Object(s["i"])("div",M,[Object(s["i"])("div",V,[Object(s["i"])("div",q,[P,Object(s["i"])("div",B,[E,Object(s["i"])("form",{onSubmit:t[2]||(t[2]=Object(s["gb"])((...e)=>a.login&&a.login(...e),["prevent"]))},[Object(s["i"])("div",K,[z,Object(s["eb"])(Object(s["i"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e),required:""},null,512),[[s["ab"],i.username]])]),Object(s["i"])("div",R,[J,Object(s["eb"])(Object(s["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),id:"password-field",type:"password",class:"form-control",required:""},null,512),[[s["ab"],i.password]]),G]),Object(s["i"])("div",W,[Object(s["i"])("button",{class:"btn w-100 text-center submit vue-butt btn-success btn-lg",disabled:i.loading},[i.loading?(Object(s["H"])(),Object(s["h"])("span",Q,[X,Object(s["k"])(" Signing in...")])):(Object(s["H"])(),Object(s["h"])("span",Z,"Sign in 🔓"))],8,Y),Object(s["i"])("span",{"v-if":i.errorms,class:"w-100 text-danger"},Object(s["T"])(i.errorms),9,ee)])],32),Object(s["i"])("a",{onClick:t[3]||(t[3]=e=>a.register()),style:{},class:"mt-2 btn w-100 text-center submit vue-butt btn-primary btn-lg"},ne)])])])])])]))}var ce={name:"Login",data(){return{username:"",password:"",errorms:"",loading:!1}},computed:{...Object(m["b"])(["isLoggedIn"]),...Object(m["b"])(["isAdmin"])},methods:{register(){this.$router.replace("/register")},login(){this.loading=!0,this.$store.dispatch("login",{username:this.username,password:this.password}).then(()=>{this.loading=!1,this.$router.replace("/home")}).catch(e=>{this.loading=!1,this.errorms=e.response.data.reason})}}};n("d0f2");const ie=v()(ce,[["render",se],["__scopeId","data-v-8959bc88"]]);var ae=ie;const le=e=>(Object(s["K"])("data-v-3a97f75e"),e=e(),Object(s["I"])(),e),oe={class:"ftco-section"},re={class:"container"},be={class:"row justify-content-center"},ue={class:"col-md-7 col-lg-5"},de={class:"wrap text-center"},pe=le(()=>Object(s["i"])("img",{class:"w-50 mt-4",src:D.a},null,-1)),he={class:"text-muted login-wrap p-2 p-md-2"},Oe=le(()=>Object(s["i"])("div",{class:"d-flex"},[Object(s["i"])("div",{class:"w-100"},[Object(s["i"])("h3",{class:"mb-4"},"Register an account")])],-1)),je={class:"form-group mt-3"},me=le(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"username"},"Username",-1)),ge={class:"form-group"},fe=le(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"password"},"Password",-1)),ve=le(()=>Object(s["i"])("span",{toggle:"#password-field",class:"fa fa-fw fa-eye field-icon toggle-password"},null,-1)),ye={class:"form-group"},_e=le(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"firstname"},"Firstname",-1)),we={class:"form-group"},ke=le(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"lastname"},"Lastname",-1)),xe={class:"form-group"},Ae=le(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"dob"},"Date of birth",-1)),Te={class:"form-group"},Ie=le(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"address"},"Address",-1)),Ue={class:"form-group"},Se=le(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"email"},"E-mail",-1)),Ce={class:"form-group"},He=le(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"phone"},"Phonenumber",-1)),Fe={class:"text-center mt-4 form-group"},De=["disabled"],Ne={key:0},Le={key:1},$e=le(()=>Object(s["i"])("i",{class:"fa fa-spinner fa-spin"},null,-1)),Me=le(()=>Object(s["i"])("span",null,null,-1)),Ve=["v-if"],qe=["v-if"];function Pe(e,t,n,c,i,a){const l=Object(s["P"])("Datepicker");return Object(s["H"])(),Object(s["h"])("section",oe,[Object(s["i"])("div",re,[Object(s["i"])("div",be,[Object(s["i"])("div",ue,[Object(s["i"])("div",de,[pe,Object(s["i"])("div",he,[Oe,Object(s["i"])("form",{onSubmit:[t[8]||(t[8]=(...t)=>e.checkForm&&e.checkForm(...t)),t[9]||(t[9]=Object(s["gb"])((...e)=>a.registerUser&&a.registerUser(...e),["prevent"]))]},[Object(s["i"])("div",je,[me,Object(s["eb"])(Object(s["i"])("input",{type:"text",class:"form-control",required:"required","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e)},null,512),[[s["ab"],i.username]])]),Object(s["i"])("div",ge,[fe,Object(s["eb"])(Object(s["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),id:"password-field",type:"password",class:"form-control",required:"required"},null,512),[[s["ab"],i.password]]),ve]),Object(s["i"])("div",ye,[_e,Object(s["eb"])(Object(s["i"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>i.firstname=e),required:"required"},null,512),[[s["ab"],i.firstname]])]),Object(s["i"])("div",we,[ke,Object(s["eb"])(Object(s["i"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>i.lastname=e),required:"required"},null,512),[[s["ab"],i.lastname]])]),Object(s["i"])("div",xe,[Ae,Object(s["l"])(l,{format:"yyyy/MM/dd",modelValue:i.dob,"onUpdate:modelValue":t[4]||(t[4]=e=>i.dob=e)},null,8,["modelValue"])]),Object(s["i"])("div",Te,[Ie,Object(s["eb"])(Object(s["i"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>i.address=e),required:"required"},null,512),[[s["ab"],i.address]])]),Object(s["i"])("div",Ue,[Se,Object(s["eb"])(Object(s["i"])("input",{type:"email",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>i.email=e),required:"required"},null,512),[[s["ab"],i.email]])]),Object(s["i"])("div",Ce,[He,Object(s["eb"])(Object(s["i"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>i.phone=e),required:"required"},null,512),[[s["ab"],i.phone]])]),Object(s["i"])("div",Fe,[Object(s["i"])("button",{style:{},type:"submit",class:"btn w-100 text-center submit vue-butt btn-primary btn-lg",disabled:i.loading},[i.loading?(Object(s["H"])(),Object(s["h"])("span",Le,[$e,Object(s["k"])(" Signing in...")])):(Object(s["H"])(),Object(s["h"])("span",Ne,"Register 🔓"))],8,De),Me,Object(s["i"])("span",{"v-if":i.errorms,class:"w-100 text-danger"},Object(s["T"])(i.errorms),9,Ve),Object(s["i"])("span",{"v-if":i.successms,class:"w-100 text-success"},Object(s["T"])(i.successms),9,qe)])],32)])])])])])])}var Be=n("5141"),Ee=(n("1465"),{components:{Datepicker:Be["a"]},name:"Register",data(){return{username:null,password:null,firstname:null,lastname:null,dob:null,address:null,email:null,phone:null,registeredOn:null,active:!0,dayLimit:0,transLimit:0,errorms:"",successms:"",loading:!1}},computed:{...Object(m["b"])(["isLoggedIn"]),...Object(m["b"])(["isAdmin"])},methods:{isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},registerUser(){this.loading=!0;let e={headers:{Accept:"application/json","Content-Type":"application/json"}};var t=new Date;const n=JSON.stringify({userTypes:["ROLE_CUSTOMER"],username:this.username,password:this.password,firstname:this.firstname,lastname:this.lastname,dob:this.dob,address:this.address,email:this.email,phone:this.phone,registeredOn:t.toJSON(),dayLimit:parseFloat(this.dayLimit),transLimit:parseFloat(this.transLimit),active:!0});S.post("users",n,e).then(e=>{this.loading=!1,this.$router.replace("/login"),console.log(e)}).catch(e=>{this.errorms=e.response.data.reason,this.loading=!1,console.log(e)})}}});n("62b6");const Ke=v()(Ee,[["render",Pe],["__scopeId","data-v-3a97f75e"]]);var ze=Ke;n("14d9");const Re={key:0,class:"table-accounts mx-4 p-4"},Je={class:"container"},Ge={class:"button-container p-2 my-2"},We=Object(s["i"])("h1",{class:"text-center text-muted"}," Here are all users who don't own a bank account yet ",-1),Ye={class:"table align-middle mb-0 bg-white shadow-sm"},Ze=Object(s["i"])("thead",{class:"bg-light"},[Object(s["i"])("tr",null,[Object(s["i"])("th",null,"id"),Object(s["i"])("th",null,"Username"),Object(s["i"])("th",null,"Fullname"),Object(s["i"])("th",null,"Email"),Object(s["i"])("th",null,"Phone"),Object(s["i"])("th",null,"Account")])],-1),Qe={key:0},Xe=["user"],et={class:"d-flex align-items-center"},tt={class:"ms-3"},nt={class:"text-muted mb-0"},st={class:"fw-normal mb-1"},ct={class:"badge text-primary badge-success rounded-pill d-inline"},it=["onClick"],at=["onClick"];function lt(e,t,n,c,i,a){return e.isAdmin?(Object(s["H"])(),Object(s["h"])("section",Re,[Object(s["i"])("div",Je,[Object(s["i"])("div",Ge,[Object(s["i"])("button",{onClick:t[0]||(t[0]=e=>this.$router.push("/home")),class:"py-2 mx-2 btn btn-danger"}," Go Back ")]),We,Object(s["i"])("table",Ye,[Ze,i.users?(Object(s["H"])(),Object(s["h"])("tbody",Qe,[(Object(s["H"])(!0),Object(s["h"])(s["a"],null,Object(s["N"])(i.users,e=>(Object(s["H"])(),Object(s["h"])("tr",{key:e.id,user:e},[Object(s["i"])("td",null,[Object(s["i"])("div",et,[Object(s["i"])("div",tt,[Object(s["i"])("p",nt,Object(s["T"])(e.id),1)])])]),Object(s["i"])("td",null,[Object(s["i"])("p",st,Object(s["T"])(e.username),1)]),Object(s["i"])("td",null,[Object(s["i"])("span",ct,Object(s["T"])(e.firstname+" "+e.lastname),1)]),Object(s["i"])("td",null,Object(s["T"])(e.email),1),Object(s["i"])("td",null,Object(s["T"])(e.phone),1),Object(s["i"])("td",null,[Object(s["i"])("button",{onClick:t=>this.$router.push({path:"/addaccount",query:{username:e.username}}),class:"py-2 mx-2 btn btn-primary"}," Add new Account ",8,it),Object(s["i"])("button",{onClick:t=>this.$router.push({path:"/edituser",query:{username:e.username}}),class:"py-2 mx-2 btn btn-secondary"}," Edit User ",8,at)])],8,Xe))),128))])):Object(s["g"])("",!0)])])])):Object(s["g"])("",!0)}var ot={name:"Users",computed:{...Object(m["b"])(["isAdmin"])},setup(){},data(){return{users:[]}},mounted(){let e=localStorage.getItem("token");S.request({url:"users/getAllWithoutAccount",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then(e=>{this.users=e.data}).catch(e=>{console.log(e),this.errored=!0}).finally(()=>this.loading=!1)}};const rt=v()(ot,[["render",lt]]);var bt=rt;const ut={key:0,class:"table-accounts mx-4 p-4"},dt={class:"container"},pt={class:"button-container p-2 my-2"},ht=Object(s["i"])("h1",{class:"text-center text-muted"},"Here are all users",-1),Ot={class:"table align-middle mb-0 bg-white shadow-sm"},jt=Object(s["i"])("thead",{class:"bg-light"},[Object(s["i"])("tr",null,[Object(s["i"])("th",null,"id"),Object(s["i"])("th",null,"Username"),Object(s["i"])("th",null,"Fullname"),Object(s["i"])("th",null,"Email"),Object(s["i"])("th",null,"Phone"),Object(s["i"])("th",null,"Account")])],-1),mt={key:0},gt=["user"],ft={class:"d-flex align-items-center"},vt={class:"ms-3"},yt={class:"text-muted mb-0"},_t={class:"fw-normal mb-1"},wt={class:"badge text-primary badge-success rounded-pill d-inline"},kt=["onClick"],xt=["onClick"];function At(e,t,n,c,i,a){return e.isAdmin?(Object(s["H"])(),Object(s["h"])("section",ut,[Object(s["i"])("div",dt,[Object(s["i"])("div",pt,[Object(s["i"])("button",{onClick:t[0]||(t[0]=e=>this.$router.push("/home")),class:"py-2 mx-2 btn btn-danger"}," Go Back ")]),ht,Object(s["i"])("table",Ot,[jt,i.users?(Object(s["H"])(),Object(s["h"])("tbody",mt,[(Object(s["H"])(!0),Object(s["h"])(s["a"],null,Object(s["N"])(i.users,e=>(Object(s["H"])(),Object(s["h"])("tr",{key:e.id,user:e},[Object(s["i"])("td",null,[Object(s["i"])("div",ft,[Object(s["i"])("div",vt,[Object(s["i"])("p",yt,Object(s["T"])(e.id),1)])])]),Object(s["i"])("td",null,[Object(s["i"])("p",_t,Object(s["T"])(e.username),1)]),Object(s["i"])("td",null,[Object(s["i"])("span",wt,Object(s["T"])(e.firstname+" "+e.lastname),1)]),Object(s["i"])("td",null,Object(s["T"])(e.email),1),Object(s["i"])("td",null,Object(s["T"])(e.phone),1),Object(s["i"])("td",null,[Object(s["i"])("button",{onClick:t=>this.$router.push({path:"/addaccount",query:{username:e.username}}),class:"py-2 mx-2 btn btn-primary"}," ➕ Add new Account ",8,kt),Object(s["i"])("button",{onClick:t=>this.$router.push({path:"/edituser",query:{username:e.username}}),class:"py-2 mx-2 btn btn-secondary"}," ✏️ Edit User ",8,xt)])],8,gt))),128))])):Object(s["g"])("",!0)])])])):Object(s["g"])("",!0)}var Tt={name:"Users",computed:{...Object(m["b"])(["isAdmin"])},setup(){},data(){return{users:[]}},mounted(){let e=localStorage.getItem("token");S.request({url:"users",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then(e=>{this.users=e.data}).catch(e=>{console.log(e),this.errored=!0}).finally(()=>this.loading=!1)}};const It=v()(Tt,[["render",At]]);var Ut=It;const St=e=>(Object(s["K"])("data-v-0f10e9cf"),e=e(),Object(s["I"])(),e),Ct={class:"ftco-section"},Ht={class:"container h-100"},Ft={class:"row vh-100 justify-content-center"},Dt={class:"col-md-7 col-lg-5"},Nt={class:"wrap text-center"},Lt={class:"text-muted login-wrap p-2 p-md-2"},$t=St(()=>Object(s["i"])("div",{class:"d-flex"},[Object(s["i"])("div",{class:"w-100"},[Object(s["i"])("h3",{class:"mb-4"},"Edit a user limit")])],-1)),Mt={class:"form-group mt-3"},Vt=St(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"username"},"Username",-1)),qt={class:"form-group"},Pt=St(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"firstname",disabled:""},"Firstname",-1)),Bt={class:"form-group"},Et=St(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"lastname",disabled:""},"Lastname",-1)),Kt={class:"form-group"},zt=St(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"daylimit"},"Daylimit",-1)),Rt={class:"form-group"},Jt=St(()=>Object(s["i"])("label",{class:"form-control-placeholder",for:"translimit"},"Transaction limit",-1)),Gt={class:"text-center mt-4 form-group"},Wt=["disabled"],Yt={key:0},Zt={key:1},Qt=St(()=>Object(s["i"])("i",{class:"fa fa-spinner fa-spin"},null,-1)),Xt=St(()=>Object(s["i"])("span",null,null,-1)),en=["v-if"],tn=["v-if"];function nn(e,t,n,c,i,a){return Object(s["H"])(),Object(s["h"])("section",Ct,[Object(s["i"])("div",Ht,[Object(s["i"])("div",Ft,[Object(s["i"])("div",Dt,[Object(s["i"])("div",Nt,[Object(s["i"])("div",Lt,[$t,Object(s["i"])("form",{onSubmit:[t[7]||(t[7]=(...t)=>e.checkForm&&e.checkForm(...t)),t[8]||(t[8]=Object(s["gb"])((...e)=>a.updateUser&&a.updateUser(...e),["prevent"]))]},[Object(s["i"])("div",Mt,[Vt,Object(s["eb"])(Object(s["i"])("input",{type:"text",class:"form-control",required:"required","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e),disabled:""},null,512),[[s["ab"],i.username]])]),Object(s["i"])("div",qt,[Pt,Object(s["eb"])(Object(s["i"])("input",{disabled:"",type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>i.firstname=e),required:"required"},null,512),[[s["ab"],i.firstname]])]),Object(s["i"])("div",Bt,[Et,Object(s["eb"])(Object(s["i"])("input",{disabled:"",type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>i.lastname=e),required:"required"},null,512),[[s["ab"],i.lastname]])]),Object(s["i"])("div",Kt,[zt,Object(s["eb"])(Object(s["i"])("input",{onKeypress:t[3]||(t[3]=e=>a.isNumber(e)),type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>i.dayLimit=e),required:"required"},null,544),[[s["ab"],i.dayLimit]])]),Object(s["i"])("div",Rt,[Jt,Object(s["eb"])(Object(s["i"])("input",{onKeypress:t[5]||(t[5]=e=>a.isNumber(e)),type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>i.transLimit=e),required:"required"},null,544),[[s["ab"],i.transLimit]])]),Object(s["i"])("div",Gt,[Object(s["i"])("button",{style:{},type:"submit",class:"btn w-100 text-center submit vue-butt btn-primary btn-lg",disabled:i.loading},[i.loading?(Object(s["H"])(),Object(s["h"])("span",Zt,[Qt,Object(s["k"])(" Updating...")])):(Object(s["H"])(),Object(s["h"])("span",Yt,"Update user 🔄"))],8,Wt),Xt,Object(s["i"])("span",{"v-if":i.errorms,class:"w-100 text-danger"},Object(s["T"])(i.errorms),9,en),Object(s["i"])("span",{"v-if":i.successms,class:"w-100 text-success"},Object(s["T"])(i.successms),9,tn)])],32)])])])])])])}var sn={name:"Register",data(){return{username:this.$route.query.username||"",password:null,firstname:null,lastname:null,dob:null,address:null,email:null,phone:null,registeredOn:null,active:!0,dayLimit:0,transLimit:0,errorms:"",successms:"",loading:!1}},mounted(){this.searchUser()},computed:{...Object(m["b"])(["isLoggedIn"]),...Object(m["b"])(["isAdmin"])},methods:{searchUser(){console.log(this.username),S.get("users/username/"+this.username).then(e=>{this.firstname=e.data.firstname,this.lastname=e.data.lastname,this.dob=e.data.dob,this.address=e.data.address,this.email=e.data.email,this.phone=e.data.phone,this.dayLimit=e.data.dayLimit,this.transLimit=e.data.transLimit,this.fetchedUser=JSON.stringify(e.data),this.errMsg="",console.log(this.fetchedUser),this.disable=!1}).catch(e=>{this.errMsg="User not found",console.log("gaat niet goed"),console.log(e)})},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t&&45!==t))return!0;e.preventDefault()},updateUser(){this.loading=!0;let e={headers:{Accept:"application/json","Content-Type":"application/json"}};const t=parseFloat(this.dayLimit),n=parseFloat(this.transLimit);if(console.log(t),console.log(n),null==t||null==n)return void(this.errorms="no good values provided.");let s=JSON.stringify({dayLimit:t,transLimit:n});console.log("data: "+s),S.put("/users/"+this.username,s,e).then(e=>{this.loading=!1,this.$router.replace("/home"),console.log(e)}).catch(e=>{this.errorms=e.response.data.reason,this.loading=!1,console.log(e)})}}};n("79f1");const cn=v()(sn,[["render",nn],["__scopeId","data-v-0f10e9cf"]]);var an=cn;const ln=e=>(Object(s["K"])("data-v-549e63bd"),e=e(),Object(s["I"])(),e),on={class:"container"},rn={key:0,class:"hello"},bn={key:0,class:"admin-menu"},un={class:"text-center"},dn=ln(()=>Object(s["i"])("h2",{class:"text-center text-info"},"Employee menu",-1)),pn={class:"row"},hn={class:"col-sm-3"},On={class:"card"},jn={class:"card-body"},mn=ln(()=>Object(s["i"])("h5",{class:"card-title"},"Manage accounts",-1)),gn=ln(()=>Object(s["i"])("p",{class:"card-text"},"This is quick access to manage the accounts",-1)),fn={class:"col-sm-3"},vn={class:"card"},yn={class:"card-body"},_n=ln(()=>Object(s["i"])("h5",{class:"card-title"},"Manage users",-1)),wn=ln(()=>Object(s["i"])("p",{class:"card-text"},"This is quick access to manage the users",-1)),kn={class:"col-sm-3"},xn={class:"card"},An={class:"card-body"},Tn=ln(()=>Object(s["i"])("h5",{class:"card-title"},"Manage users without account",-1)),In=ln(()=>Object(s["i"])("p",{class:"card-text"},"This is quick access to manage the users",-1)),Un={class:"col-sm-3"},Sn={class:"card"},Cn={class:"card-body"},Hn=ln(()=>Object(s["i"])("h5",{class:"card-title"},"All transactions",-1)),Fn=ln(()=>Object(s["i"])("p",{class:"card-text"},"This is quick access to view all transactions",-1)),Dn={class:"admin-menu"},Nn=ln(()=>Object(s["i"])("h2",{class:"text-center text-muted"},"Customer menu",-1)),Ln={class:"row"},$n={class:"col-sm-4"},Mn={class:"card"},Vn={class:"card-body"},qn=ln(()=>Object(s["i"])("h5",{class:"card-title"},"Deposit",-1)),Pn=ln(()=>Object(s["i"])("p",{class:"card-text"},"This is quick access to make a deposit",-1)),Bn={class:"col-sm-4"},En={class:"card"},Kn={class:"card-body"},zn=ln(()=>Object(s["i"])("h5",{class:"card-title"},"Withdraw",-1)),Rn=ln(()=>Object(s["i"])("p",{class:"card-text"},"This is quick access to make a withdrawal",-1)),Jn={class:"col-sm-4"},Gn={class:"card"},Wn={class:"card-body"},Yn=ln(()=>Object(s["i"])("h5",{class:"card-title"},"Make a transaction",-1)),Zn=ln(()=>Object(s["i"])("p",{class:"card-text"},"This is quick access to make a transaction",-1)),Qn={class:"col-sm-4"},Xn={class:"card mt-4"},es={class:"card-body"},ts=ln(()=>Object(s["i"])("h5",{class:"card-title"},"View Transactions",-1)),ns=ln(()=>Object(s["i"])("p",{class:"card-text"},"This is quick access to view your transactions",-1)),ss={key:0,class:"col-sm-4"},cs={class:"card mt-4"},is={class:"card-body"},as=ln(()=>Object(s["i"])("h5",{class:"card-title"},"View My Accounts",-1)),ls=ln(()=>Object(s["i"])("p",{class:"card-text"},"This is quick access to view your accounts",-1)),os={key:1,class:"text-center"},rs=ln(()=>Object(s["i"])("p",null,"You are not logged in. Please login!",-1)),bs=ln(()=>Object(s["i"])("span",null,"Go to login",-1));function us(e,t,n,c,i,a){const l=Object(s["P"])("router-link");return Object(s["H"])(),Object(s["h"])("div",on,[e.isLoggedIn?(Object(s["H"])(),Object(s["h"])("div",rn,[e.isAdmin?(Object(s["H"])(),Object(s["h"])("div",bn,[Object(s["i"])("h1",un,"Welcome! "+Object(s["T"])(e.getUserName),1),dn,Object(s["i"])("div",pn,[Object(s["i"])("div",hn,[Object(s["i"])("div",On,[Object(s["i"])("div",jn,[mn,gn,Object(s["l"])(l,{to:"/accounts",class:"btn btn-primary"},{default:Object(s["db"])(()=>[Object(s["k"])("Accounts view")]),_:1})])])]),Object(s["i"])("div",fn,[Object(s["i"])("div",vn,[Object(s["i"])("div",yn,[_n,wn,Object(s["l"])(l,{to:"/usersall",class:"btn btn-primary"},{default:Object(s["db"])(()=>[Object(s["k"])("User view")]),_:1})])])]),Object(s["i"])("div",kn,[Object(s["i"])("div",xn,[Object(s["i"])("div",An,[Tn,In,Object(s["l"])(l,{to:"/users",class:"btn btn-primary"},{default:Object(s["db"])(()=>[Object(s["k"])("User view")]),_:1})])])]),Object(s["i"])("div",Un,[Object(s["i"])("div",Sn,[Object(s["i"])("div",Cn,[Hn,Fn,Object(s["l"])(l,{to:"/transactions/employee",class:"btn btn-primary"},{default:Object(s["db"])(()=>[Object(s["k"])("Transactions view")]),_:1})])])])])])):Object(s["g"])("",!0),Object(s["i"])("div",Dn,[Nn,Object(s["i"])("div",Ln,[Object(s["i"])("div",$n,[Object(s["i"])("div",Mn,[Object(s["i"])("div",Vn,[qn,Pn,Object(s["l"])(l,{to:"/deposit",class:"btn btn-success text-white"},{default:Object(s["db"])(()=>[Object(s["k"])("Deposit")]),_:1})])])]),Object(s["i"])("div",Bn,[Object(s["i"])("div",En,[Object(s["i"])("div",Kn,[zn,Rn,Object(s["l"])(l,{to:"/withdraw",class:"btn btn-info text-white"},{default:Object(s["db"])(()=>[Object(s["k"])("Withdraw")]),_:1})])])]),Object(s["i"])("div",Jn,[Object(s["i"])("div",Gn,[Object(s["i"])("div",Wn,[Yn,Zn,Object(s["l"])(l,{to:"/transaction",class:"btn btn-warning text-white"},{default:Object(s["db"])(()=>[Object(s["k"])("Make transaction")]),_:1})])])]),Object(s["i"])("div",Qn,[Object(s["i"])("div",Xn,[Object(s["i"])("div",es,[ts,ns,Object(s["l"])(l,{to:"/transactions",class:"btn btn-primary"},{default:Object(s["db"])(()=>[Object(s["k"])("View Transactions")]),_:1})])])]),e.isAdmin?Object(s["g"])("",!0):(Object(s["H"])(),Object(s["h"])("div",ss,[Object(s["i"])("div",cs,[Object(s["i"])("div",is,[as,ls,Object(s["l"])(l,{to:"/Accounts",class:"btn btn-danger"},{default:Object(s["db"])(()=>[Object(s["k"])("View accounts")]),_:1})])])]))])])])):Object(s["g"])("",!0),e.isLoggedIn?Object(s["g"])("",!0):(Object(s["H"])(),Object(s["h"])("div",os,[rs,Object(s["l"])(l,{to:"/login",class:"btn w-100 text-center submit vue-butt btn-success btn-lg"},{default:Object(s["db"])(()=>[bs]),_:1})]))])}var ds={name:"HelloWorld",computed:{...Object(m["b"])(["isLoggedIn"]),...Object(m["b"])(["getUserName"]),...Object(m["b"])(["getUserRole"]),...Object(m["b"])(["isAdmin"])}};n("cadf");const ps=v()(ds,[["render",us],["__scopeId","data-v-549e63bd"]]);var hs=ps;const Os={class:"table-accounts mx-4 p-4"},js={class:"container"},ms={key:1},gs={key:2,class:"form-control"},fs={class:"input-group mb-3 w-70"},vs=Object(s["i"])("span",{class:"input-group-text"},"Search on firstname and lastname",-1),ys={class:"table align-middle mb-0 bg-white shadow-sm"},_s={class:"bg-light"},ws=Object(s["i"])("th",null,"IBan",-1),ks=Object(s["i"])("th",null,"AccountType",-1),xs=Object(s["i"])("th",null,"ActiveStatus",-1),As=Object(s["i"])("th",null,"Balance",-1),Ts=Object(s["i"])("th",null,"AbsLimit",-1),Is=Object(s["i"])("th",null,"Owner",-1),Us=Object(s["i"])("th",null,"Fname",-1),Ss=Object(s["i"])("th",null,"Lname",-1),Cs={key:0},Hs=["account"],Fs={class:"d-flex align-items-center"},Ds={class:"ms-3"},Ns={class:"text-muted mb-0"},Ls={class:"fw-normal mb-1"},$s={class:"badge text-primary badge-success rounded-pill d-inline"},Ms={key:0},Vs=["onClick"],qs={key:4,class:"form-control"},Ps={class:"button-container p-2 my-2 d-flex"},Bs={key:0,class:"table-accounts mx-4 p-4"},Es={class:"container"},Ks=Object(s["i"])("div",{class:"button-container p-2 my-2"},null,-1),zs={key:0,class:"text-center text-muted"},Rs={class:"table align-middle mb-0 bg-white shadow-sm"},Js=Object(s["i"])("thead",{class:"bg-light"},[Object(s["i"])("tr",null,[Object(s["i"])("th",null,"Username"),Object(s["i"])("th",null,"Fullname"),Object(s["i"])("th",null,"Email"),Object(s["i"])("th",null,"Phone"),Object(s["i"])("th",null,"DayLimit"),Object(s["i"])("th",null,"TransLimit")])],-1),Gs={key:0},Ws={class:"fw-normal mb-1"},Ys={class:"badge text-primary badge-success rounded-pill d-inline"};function Zs(e,t,n,c,i,a){const l=Object(s["P"])("vue-awesome-paginate");return Object(s["H"])(),Object(s["h"])(s["a"],null,[Object(s["i"])("section",Os,[Object(s["i"])("div",js,[e.isAdmin?Object(s["g"])("",!0):(Object(s["H"])(),Object(s["h"])("button",{key:0,onClick:t[0]||(t[0]=e=>this.$router.push("/home")),class:"py-2 mx-2 btn btn-danger"}," Go Back ")),e.isAdmin?Object(s["g"])("",!0):(Object(s["H"])(),Object(s["h"])("h4",ms,"Accounts")),e.isAdmin?(Object(s["H"])(),Object(s["h"])("div",gs,[Object(s["i"])("div",fs,[vs,Object(s["eb"])(Object(s["i"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.firstnameInput=t),class:"form-control",placeholder:"Firstname..."},null,512),[[s["ab"],e.firstnameInput]]),Object(s["eb"])(Object(s["i"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.lastnameInput=t),class:"form-control",placeholder:"Lastname..."},null,512),[[s["ab"],e.lastnameInput]]),Object(s["i"])("button",{type:"button",class:"btn btn-success",onClick:t[3]||(t[3]=(...e)=>a.searchAccounts&&a.searchAccounts(...e))}," Search for user ")])])):Object(s["g"])("",!0),Object(s["i"])("table",ys,[Object(s["i"])("thead",_s,[Object(s["i"])("tr",null,[ws,ks,xs,As,Ts,Is,Us,Ss,e.isAdmin?(Object(s["H"])(),Object(s["h"])("th",Cs,"Actions")):Object(s["g"])("",!0)])]),Object(s["i"])("tbody",null,[(Object(s["H"])(!0),Object(s["h"])(s["a"],null,Object(s["N"])(i.accounts,t=>(Object(s["H"])(),Object(s["h"])("tr",{key:t.id,account:t},[Object(s["i"])("td",null,[Object(s["i"])("div",Fs,[Object(s["i"])("div",Ds,[Object(s["i"])("p",Ns,Object(s["T"])(t.iban),1)])])]),Object(s["i"])("td",null,[Object(s["i"])("p",Ls,Object(s["T"])(t.accountType),1)]),Object(s["i"])("td",null,[Object(s["i"])("span",$s,Object(s["T"])(t.active),1)]),Object(s["i"])("td",null,"€"+Object(s["T"])(t.balance),1),Object(s["i"])("td",null,"€"+Object(s["T"])(t.absLimit),1),Object(s["i"])("td",null,Object(s["T"])(t.username),1),Object(s["i"])("td",null,Object(s["T"])(t.firstname),1),Object(s["i"])("td",null,Object(s["T"])(t.lastname),1),e.isAdmin?(Object(s["H"])(),Object(s["h"])("td",Ms,[Object(s["i"])("a",{class:"btn btn-light",onClick:e=>a.editAccount(t.iban)},"Edit ✏️",8,Vs)])):Object(s["g"])("",!0)],8,Hs))),128))])]),e.isAdmin?(Object(s["H"])(),Object(s["f"])(l,{key:3,class:"w-100",modelValue:i.currentPage,"onUpdate:modelValue":t[4]||(t[4]=e=>i.currentPage=e),"total-items":i.totalElements,"items-per-page":i.size,"max-pages-shown":5,onClick:a.handlePageChange},null,8,["modelValue","total-items","items-per-page","onClick"])):Object(s["g"])("",!0),e.isAdmin?(Object(s["H"])(),Object(s["h"])("div",qs,[Object(s["i"])("div",Ps,[Object(s["i"])("button",{onClick:t[5]||(t[5]=e=>this.$router.push("/home")),class:"py-2 mx-2 btn btn-danger"}," Go Back "),Object(s["i"])("button",{onClick:t[6]||(t[6]=e=>this.$router.push("/addaccount")),class:"py-2 mx-2 btn btn-primary"}," Add new Account ")])])):Object(s["g"])("",!0)])]),e.isAdmin?Object(s["g"])("",!0):(Object(s["H"])(),Object(s["h"])("section",Bs,[Object(s["i"])("div",Es,[Ks,i.user?(Object(s["H"])(),Object(s["h"])("h1",zs," Here is your userinfo: "+Object(s["T"])(i.user.username),1)):Object(s["g"])("",!0),Object(s["i"])("table",Rs,[Js,i.user?(Object(s["H"])(),Object(s["h"])("tbody",Gs,[Object(s["i"])("tr",null,[Object(s["i"])("td",null,[Object(s["i"])("p",Ws,Object(s["T"])(i.user.username),1)]),Object(s["i"])("td",null,[Object(s["i"])("span",Ys,Object(s["T"])(i.user.firstname+" "+i.user.lastname),1)]),Object(s["i"])("td",null,Object(s["T"])(i.user.email),1),Object(s["i"])("td",null,Object(s["T"])(i.user.phone),1),Object(s["i"])("td",null,Object(s["T"])(i.user.dayLimit),1),Object(s["i"])("td",null,Object(s["T"])(i.user.transLimit),1)])])):Object(s["g"])("",!0)])])]))],64)}var Qs={name:"Index",computed:{...Object(m["b"])(["isAdmin"]),...Object(m["b"])(["getUserName"])},setup(){},data(){return{currentPage:1,size:5,accounts:[],user:null,totalPages:0,totalElements:0,setUsername:"",setType:""}},methods:{editAccount(e){this.$router.push({name:"EditAccount",params:{iban:e}})},handlePageChange(e){this.currentPage=e,console.log(e),this.searchAccounts()},searchUser(){console.log(this.getUserName),S.get("users/username/"+this.getUserName).then(e=>{this.user=e.data,this.fetchedUser=JSON.stringify(e.data),this.errMsg="",console.log("fefeef: "+this.fetchedUser)}).catch(e=>{this.errMsg="User not found",console.log("gaat niet goed"),console.log(e)})},searchAccounts(){let e=localStorage.getItem("token"),t={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e};this.isAdmin||(this.setUsername=this.getUserName);let n={firstname:this.firstnameInput,lastname:this.lastnameInput,username:this.setUsername,iban:"",size:this.size,page:this.currentPage-1};S.get("accounts/search",{params:n,headers:t}).then(e=>{this.totalPages=e.data.totalPages,this.totalElements=e.data.totalElements,console.log(e.data.totalElements),console.log(e.data.totalPages),console.log(e.data.pageable),this.accounts=e.data.content}).catch(e=>{console.log(e),this.errored=!0}).finally(()=>this.loading=!1)}},mounted(){this.searchAccounts(),this.searchUser()}};n("af85");const Xs=v()(Qs,[["render",Zs]]);var ec=Xs;const tc={key:0,class:"table-accounts mx-4 p-4"},nc={class:"container"},sc={class:"button-container p-2 my-2"},cc={class:"form-container"},ic={class:"input-group mb-3"},ac=Object(s["i"])("span",{class:"input-group-text"},"Search for user",-1),lc=["disabled"],oc=["disabled"],rc={class:"input-group mb-3"},bc=["placeholder"],uc={class:"form-container"},dc=Object(s["i"])("h2",{class:"mt-3 mt-lg-5"},"Create an Account",-1),pc=Object(s["i"])("h5",{class:"mb-4"},null,-1),hc={id:"mainForm"},Oc={class:"input-group mb-3"},jc=Object(s["i"])("span",{class:"input-group-text"},"Absolute limit",-1),mc=["disabled"],gc={class:"input-group mb-3"},fc=Object(s["i"])("span",{class:"input-group-text"},"Accounttype",-1),vc={class:""},yc=["disabled"],_c={class:"input-group mb-3"},wc=Object(s["i"])("span",{class:"input-group-text"},"Balance",-1),kc=["disabled"],xc={class:"input-group mb-3"},Ac=Object(s["i"])("span",{class:"input-group-text"},"Pincode",-1),Tc={class:"input-wrapper"},Ic={class:"input-group"},Uc=["disabled"],Sc=["disabled"],Cc=["disabled"],Hc=["disabled"],Fc={class:"input-group mt-4"},Dc=["v-if"];function Nc(e,t,n,c,i,a){return e.isAdmin?(Object(s["H"])(),Object(s["h"])("section",tc,[Object(s["i"])("div",nc,[Object(s["i"])("div",sc,[Object(s["i"])("button",{onClick:t[0]||(t[0]=e=>this.$router.push("/accounts")),class:"py-2 mx-2 btn btn-danger"}," Go Back ")]),Object(s["i"])("div",cc,[Object(s["i"])("form",{onSubmit:t[3]||(t[3]=Object(s["gb"])((...e)=>a.addAccount&&a.addAccount(...e),["prevent"])),ref:"form"},[Object(s["i"])("div",ic,[ac,Object(s["eb"])(Object(s["i"])("input",{disabled:!i.disable,type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>i.username=e),class:"form-control"},null,8,lc),[[s["ab"],i.username]]),Object(s["i"])("button",{type:"button",disabled:!i.disable,onClick:t[2]||(t[2]=e=>a.searchUser()),class:"btn btn-success"}," Search User ",8,oc)]),Object(s["i"])("div",rc,[Object(s["i"])("input",{disabled:"",type:"text",placeholder:i.placeHolder,class:"text-center form-control"},null,8,bc)])],544)]),Object(s["i"])("div",uc,[dc,pc,Object(s["i"])("form",hc,[Object(s["i"])("div",Oc,[jc,Object(s["eb"])(Object(s["i"])("input",{onKeypress:t[4]||(t[4]=e=>a.isNumberOrNegative(e)),disabled:i.disable,"onUpdate:modelValue":t[5]||(t[5]=e=>i.abs=e),required:"required",type:"text",class:"required form-control"},null,40,mc),[[s["ab"],i.abs]])]),Object(s["i"])("div",gc,[fc,Object(s["i"])("div",vc,[Object(s["eb"])(Object(s["i"])("select",{disabled:i.disable,"onUpdate:modelValue":t[6]||(t[6]=e=>i.selected=e)},[(Object(s["H"])(!0),Object(s["h"])(s["a"],null,Object(s["N"])(i.options,e=>(Object(s["H"])(),Object(s["h"])("option",{key:{value:e.value,text:e.text}},Object(s["T"])(e.text),1))),128))],8,yc),[[s["Z"],i.selected]])])]),Object(s["i"])("div",_c,[wc,Object(s["eb"])(Object(s["i"])("input",{onKeypress:t[7]||(t[7]=e=>a.isNumber(e)),disabled:i.disable,"onUpdate:modelValue":t[8]||(t[8]=e=>i.balance=e),required:"",type:"text",class:"form-control"},null,40,kc),[[s["ab"],i.balance]])]),Object(s["i"])("div",xc,[Ac,Object(s["i"])("div",Tc,[Object(s["i"])("div",null,[Object(s["i"])("div",Ic,[Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[9]||(t[9]=e=>i.pin_0=e),onKeyup:t[10]||(t[10]=Object(s["fb"])(e=>a.pin_focus("pin_1"),["right"])),onKeypress:t[11]||(t[11]=e=>a.is_valid_pin_value(e,"pin_0")),ref:"pin_0",type:"text",placeholder:"0"},null,40,Uc),[[s["ab"],i.pin_0,void 0,{number:!0}]]),Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[12]||(t[12]=e=>i.pin_1=e),onKeyup:[t[13]||(t[13]=Object(s["fb"])(e=>a.pin_focus("pin_0"),["left"])),t[14]||(t[14]=Object(s["fb"])(e=>a.pin_focus("pin_2"),["right"]))],onKeypress:t[15]||(t[15]=e=>a.is_valid_pin_value(e,"pin_1")),ref:"pin_1",type:"text",placeholder:"0"},null,40,Sc),[[s["ab"],i.pin_1,void 0,{number:!0}]]),Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[16]||(t[16]=e=>i.pin_2=e),onKeyup:[t[17]||(t[17]=Object(s["fb"])(e=>a.pin_focus("pin_1"),["left"])),t[18]||(t[18]=Object(s["fb"])(e=>a.pin_focus("pin_3"),["right"]))],onKeypress:t[19]||(t[19]=e=>a.is_valid_pin_value(e,"pin_2")),ref:"pin_2",type:"text",placeholder:"0"},null,40,Cc),[[s["ab"],i.pin_2,void 0,{number:!0}]]),Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[20]||(t[20]=e=>i.pin_3=e),onKeyup:t[21]||(t[21]=Object(s["fb"])(e=>a.pin_focus("pin_2"),["left"])),onKeypress:t[22]||(t[22]=e=>a.is_valid_pin_value(e,"pin_3")),ref:"pin_3",type:"text",placeholder:"0"},null,40,Hc),[[s["ab"],i.pin_3,void 0,{number:!0}]])])])])]),Object(s["i"])("div",Fc,[Object(s["i"])("button",{type:"button",class:"btn btn-primary",onClick:t[23]||(t[23]=e=>a.addAccount())}," Create Account "),Object(s["i"])("button",{type:"button",class:"btn btn-danger",onClick:t[24]||(t[24]=e=>this.$router.push("/accounts"))}," Cancel "),Object(s["i"])("span",{"v-if":i.errMsg,class:"w-100 text-danger"},Object(s["T"])(i.errMsg),9,Dc)])])])])])):Object(s["g"])("",!0)}var Lc={name:"AddAccount",computed:{...Object(m["b"])(["isLoggedIn"]),...Object(m["b"])(["isAdmin"])},watch:{pin:function(){this.$bus.$emit("PIN/change",this.pin)},pin_0:function(e){0!==e.toString().length&&(this.$refs.pin_1.focus(),this.$refs.pin_1.select())},pin_1:function(e){0!==e.toString().length&&(this.$refs.pin_2.focus(),this.$refs.pin_2.select())},pin_2:function(e){0!==e.toString().length&&(this.$refs.pin_3.focus(),this.$refs.pin_3.select())}},data(){return{selected:"current",pin_0:null,pin_1:null,pin_2:null,pin_3:null,pinfull:null,options:[{text:"current",value:"current"},{text:"savings",value:"savings"}],username:this.$route.query.username||"",placeHolder:"",fetchedUser:"",balance:"",ownerId:"",abs:"",errMsg:"",disable:!0}},mounted(){this.username&&this.searchUser()},methods:{pin_focus:function(e){this.$refs[e].focus(),this.$refs[e].select()},is_valid_pin_value:function(e,t){const n=String.fromCharCode(e.keyCode),s=null!==this[t]&&0===this.$refs[t].selectionStart&&this.$refs[t].selectionEnd===this[t].toString().length;if((null===this[t]||0===this[t].toString().length||s)&&parseInt(n,10)>=0&&parseInt(n,10)<=9)return!0;e.preventDefault()},isInt:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(t=t<=57)return!0;e.preventDefault()},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},isNumberOrNegative:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&45!==t&&46!==t))return!0;e.preventDefault()},searchUser(){console.log(this.username),S.get("users/username/"+this.username).then(e=>{this.placeHolder=e.data.firstname+" "+e.data.lastname,this.ownerId=e.data.id,this.fetchedUser=JSON.stringify(e.data),this.errMsg="",console.log(this.fetchedUser),this.disable=!1}).catch(e=>{this.errMsg="User not found",console.log("gaat niet goed"),console.log(e)})},addAccount(){if(null!=this.pin_0&&null!=this.pin_1&&null!=this.pin_2&&null!=this.pin_3){const e=this.pin_0.toString()+this.pin_1.toString()+this.pin_2.toString()+this.pin_3.toString(),t=JSON.stringify({accountType:this.selected.valueOf(),ownerId:this.ownerId,balance:parseFloat(this.balance),absLimit:parseFloat(this.abs),pinCode:parseInt(e),active:!0});let n=localStorage.getItem("token"),s={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n}};S.post("accounts",t,s).then(e=>{console.log(e),this.$router.replace("/accounts")}).catch(e=>{console.log(e),this.errMsg="please fill in all the fields."})}}}};const $c=v()(Lc,[["render",Nc]]);var Mc=$c;const Vc={key:0,class:"table-accounts mx-4 p-4"},qc={class:"container"},Pc={class:"button-container p-2 my-2"},Bc={class:"form-container"},Ec=Object(s["i"])("div",{class:"input-group mb-3"},null,-1),Kc={class:"input-group mb-3"},zc={class:"form-container"},Rc=Object(s["i"])("h2",{class:"mt-3 mt-lg-5"},"Edit a Account",-1),Jc=Object(s["i"])("h5",{class:"mb-4"},null,-1),Gc={id:"mainForm"},Wc={class:"input-group mb-3"},Yc=Object(s["i"])("span",{class:"input-group-text"},"Absolute limit",-1),Zc=["disabled"],Qc={class:"input-group mb-3"},Xc=Object(s["i"])("span",{class:"input-group-text"},"Accounttype",-1),ei={class:""},ti=["disabled"],ni={class:"input-group mb-3"},si=Object(s["i"])("span",{class:"input-group-text"},"Balance",-1),ci=["disabled"],ii={class:"input-group mb-3"},ai=Object(s["i"])("span",{class:"input-group-text"},"Activestatus",-1),li={class:"input-group mb-3"},oi=Object(s["i"])("span",{class:"input-group-text"},"Pincode",-1),ri={class:"input-wrapper"},bi={class:"input-group"},ui=["disabled"],di=["disabled"],pi=["disabled"],hi=["disabled"],Oi={class:"input-group mt-4"},ji=["v-if"];function mi(e,t,n,c,i,a){return e.isAdmin?(Object(s["H"])(),Object(s["h"])("section",Vc,[Object(s["i"])("div",qc,[Object(s["i"])("div",Pc,[Object(s["i"])("button",{onClick:t[0]||(t[0]=e=>this.$router.push("/accounts")),class:"py-2 mx-2 btn btn-danger"}," Go Back ")]),Object(s["i"])("div",Bc,[Object(s["i"])("form",{onSubmit:t[2]||(t[2]=Object(s["gb"])((...t)=>e.addAccount&&e.addAccount(...t),["prevent"])),ref:"form"},[Ec,Object(s["i"])("div",Kc,[Object(s["eb"])(Object(s["i"])("input",{disabled:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.fullname=t),type:"text",placeholder:"naam",class:"text-center form-control"},null,512),[[s["ab"],e.fullname]])])],544)]),Object(s["i"])("div",zc,[Rc,Jc,Object(s["i"])("form",Gc,[Object(s["i"])("div",Wc,[Yc,Object(s["eb"])(Object(s["i"])("input",{onKeypress:t[3]||(t[3]=e=>a.isNumberOrNegative(e)),disabled:i.disable,"onUpdate:modelValue":t[4]||(t[4]=t=>e.absLimit=t),required:"required",type:"text",class:"required form-control"},null,40,Zc),[[s["ab"],e.absLimit]])]),Object(s["i"])("div",Qc,[Xc,Object(s["i"])("div",ei,[Object(s["eb"])(Object(s["i"])("select",{disabled:i.disable,"onUpdate:modelValue":t[5]||(t[5]=t=>e.accountType=t)},[(Object(s["H"])(!0),Object(s["h"])(s["a"],null,Object(s["N"])(i.options,e=>(Object(s["H"])(),Object(s["h"])("option",{key:{value:e.value,text:e.text}},Object(s["T"])(e.text),1))),128))],8,ti),[[s["Z"],e.accountType]])])]),Object(s["i"])("div",ni,[si,Object(s["eb"])(Object(s["i"])("input",{onKeypress:t[6]||(t[6]=e=>a.isNumber(e)),disabled:i.disable,"onUpdate:modelValue":t[7]||(t[7]=e=>i.balance=e),required:"",type:"text",class:"form-control"},null,40,ci),[[s["ab"],i.balance]])]),Object(s["i"])("div",ii,[ai,Object(s["eb"])(Object(s["i"])("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=e=>i.activeStatus=e)},null,512),[[s["Y"],i.activeStatus]])]),Object(s["i"])("div",li,[oi,Object(s["i"])("div",ri,[Object(s["i"])("div",null,[Object(s["i"])("div",bi,[Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[9]||(t[9]=e=>i.pin_0=e),onKeyup:t[10]||(t[10]=Object(s["fb"])(e=>a.pin_focus("pin_1"),["right"])),onKeypress:t[11]||(t[11]=e=>a.is_valid_pin_value(e,"pin_0")),ref:"pin_0",type:"text",placeholder:"0"},null,40,ui),[[s["ab"],i.pin_0,void 0,{number:!0}]]),Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[12]||(t[12]=e=>i.pin_1=e),onKeyup:[t[13]||(t[13]=Object(s["fb"])(e=>a.pin_focus("pin_0"),["left"])),t[14]||(t[14]=Object(s["fb"])(e=>a.pin_focus("pin_2"),["right"]))],onKeypress:t[15]||(t[15]=e=>a.is_valid_pin_value(e,"pin_1")),ref:"pin_1",type:"text",placeholder:"0"},null,40,di),[[s["ab"],i.pin_1,void 0,{number:!0}]]),Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[16]||(t[16]=e=>i.pin_2=e),onKeyup:[t[17]||(t[17]=Object(s["fb"])(e=>a.pin_focus("pin_1"),["left"])),t[18]||(t[18]=Object(s["fb"])(e=>a.pin_focus("pin_3"),["right"]))],onKeypress:t[19]||(t[19]=e=>a.is_valid_pin_value(e,"pin_2")),ref:"pin_2",type:"text",placeholder:"0"},null,40,pi),[[s["ab"],i.pin_2,void 0,{number:!0}]]),Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[20]||(t[20]=e=>i.pin_3=e),onKeyup:t[21]||(t[21]=Object(s["fb"])(e=>a.pin_focus("pin_2"),["left"])),onKeypress:t[22]||(t[22]=e=>a.is_valid_pin_value(e,"pin_3")),ref:"pin_3",type:"text",placeholder:"0"},null,40,hi),[[s["ab"],i.pin_3,void 0,{number:!0}]])])])])]),Object(s["i"])("div",Oi,[Object(s["i"])("button",{type:"button",class:"btn btn-primary",onClick:t[23]||(t[23]=e=>a.updateAccount())}," Update Account "),Object(s["i"])("button",{type:"button",class:"btn btn-danger",onClick:t[24]||(t[24]=e=>this.$router.push("/accounts"))}," Cancel "),Object(s["i"])("span",{"v-if":i.errMsg,class:"w-100 text-danger"},Object(s["T"])(i.errMsg),9,ji)])])])])])):Object(s["g"])("",!0)}var gi={name:"AddAccount",computed:{iban(){return this.$route.params.iban},...Object(m["b"])(["isLoggedIn"]),...Object(m["b"])(["isAdmin"])},watch:{pin:function(){this.$bus.$emit("PIN/change",this.pin)},pin_0:function(e){0!==e.toString().length&&(this.$refs.pin_1.focus(),this.$refs.pin_1.select())},pin_1:function(e){0!==e.toString().length&&(this.$refs.pin_2.focus(),this.$refs.pin_2.select())},pin_2:function(e){0!==e.toString().length&&(this.$refs.pin_3.focus(),this.$refs.pin_3.select())}},data(){return{selected:"",pin_0:null,pin_1:null,pin_2:null,pin_3:null,pinfull:null,options:[{text:"current",value:"current"},{text:"savings",value:"savings"}],ibanParam:"",placeHolder:"",fetchedUser:"",balance:"",ownerId:"",abs:"",errMsg:"",disable:!0,fetchedAccount:null,activeStatus:null}},mounted(){this.$route.params.iban&&this.searchAccount()},methods:{pin_focus:function(e){this.$refs[e].focus(),this.$refs[e].select()},is_valid_pin_value:function(e,t){const n=String.fromCharCode(e.keyCode),s=null!==this[t]&&0===this.$refs[t].selectionStart&&this.$refs[t].selectionEnd===this[t].toString().length;if((null===this[t]||0===this[t].toString().length||s)&&parseInt(n,10)>=0&&parseInt(n,10)<=9)return!0;e.preventDefault()},isInt:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(t=t<=57)return!0;e.preventDefault()},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},isNumberOrNegative(e){e=e||window.event;var t=e.which?e.which:e.keyCode;return 8===t||9===t||35===t||36===t||37===t||39===t||46===t||(t>=48&&t<=57||45===t||46===t||(e.preventDefault(),!1))},searchAccount(){let e=localStorage.getItem("token"),t={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e};console.log(this.username),S.get("accounts/search",{params:{iban:this.$route.params.iban},headers:t}).then(e=>{console.log("content: "+e.data),this.placeHolder=e.data.firstname+" "+e.data.lastname,this.ownerId=e.data.id,this.fetchedUser=JSON.stringify(e.data.content[0]),console.log(e.data.content[0]),this.fetchedAccount=e.data.content[0],console.log(this.fetchedAccount.absLimit),this.balance=this.fetchedAccount.balance,this.absLimit=this.fetchedAccount.absLimit,this.accountType=this.fetchedAccount.accountType,this.activeStatus=this.fetchedAccount.active,this.fullname=this.fetchedAccount.firstname+" "+this.fetchedAccount.lastname,console.log("pinh_0"+this.fetchedAccount.pinCode.toString()[0]),this.pin_0=this.fetchedAccount.pinCode.toString()[0],this.pin_1=this.fetchedAccount.pinCode.toString()[1],this.pin_2=this.fetchedAccount.pinCode.toString()[2],this.pin_3=this.fetchedAccount.pinCode.toString()[3],this.errMsg="",console.log(this.fetchedUser),this.disable=!1}).catch(e=>{this.errMsg="User not found",console.log("gaat niet goed"),console.log(e)})},updateAccount(){if(null!=this.pin_0&&null!=this.pin_1&&null!=this.pin_2&&null!=this.pin_3){const e=this.pin_0.toString()+this.pin_1.toString()+this.pin_2.toString()+this.pin_3.toString(),t=JSON.stringify({accountType:this.accountType.valueOf(),balance:parseFloat(this.balance),absLimit:parseFloat(this.absLimit),pinCode:parseInt(e),active:this.active});console.log(t);let n=localStorage.getItem("token"),s={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n}};S.put("accounts/"+this.$route.params.iban,t,s).then(e=>{console.log(e),this.$router.replace("/accounts")}).catch(e=>{console.log(e),this.errMsg="please fill in all the fields."})}}}};const fi=v()(gi,[["render",mi]]);var vi=fi;const yi={key:0,class:"container"},_i=Object(s["i"])("h1",{class:"text-center my-2 text-muted"},"Please select an account in the dropdown",-1),wi={class:"form-container"},ki={key:0},xi={class:"text-center text-muted"},Ai={class:"input-group mx-0 text-center mb-3"},Ti=["disabled"],Ii=Object(s["i"])("option",{value:null,disabled:""},"Select Account",-1),Ui=["value"],Si={key:0,class:"form-hider"},Ci={class:"input-group mb-3"},Hi=Object(s["i"])("span",{class:"input-group-text"},"Amount to deposit: €",-1),Fi={class:"input-group mb-3"},Di=Object(s["i"])("span",{class:"input-group-text"},"Pincode",-1),Ni={class:"input-wrapper"},Li={class:"input-group"},$i=["disabled"],Mi=["disabled"],Vi=["disabled"],qi=["disabled"],Pi={class:"input-group mb-3"},Bi={key:0,class:"text-danger"};function Ei(e,t,n,c,i,a){return e.isLoggedIn?(Object(s["H"])(),Object(s["h"])("div",yi,[_i,Object(s["i"])("div",wi,[null!==i.balance?(Object(s["H"])(),Object(s["h"])("div",ki,[Object(s["i"])("h1",xi,"Current account balance: €"+Object(s["T"])(i.balance),1)])):Object(s["g"])("",!0),Object(s["i"])("div",Ai,[Object(s["eb"])(Object(s["i"])("select",{onChange:t[0]||(t[0]=e=>a.onChange(e)),class:"w-100 text-center mx-0",disabled:i.disable,"onUpdate:modelValue":t[1]||(t[1]=e=>i.selected=e)},[Ii,(Object(s["H"])(!0),Object(s["h"])(s["a"],null,Object(s["N"])(i.accounts,e=>(Object(s["H"])(),Object(s["h"])("option",{key:e.iban,value:e.iban}," Iban: "+Object(s["T"])(e.iban)+" Owner: "+Object(s["T"])(e.username)+" AccountType: "+Object(s["T"])(e.accountType),9,Ui))),128))],40,Ti),[[s["Z"],i.selected]])]),Object(s["i"])("form",{onSubmit:t[19]||(t[19]=Object(s["gb"])((...e)=>a.deposit&&a.deposit(...e),["prevent"])),ref:"depoform"},[null!==i.balance?(Object(s["H"])(),Object(s["h"])("div",Si,[Object(s["i"])("div",Ci,[Hi,Object(s["eb"])(Object(s["i"])("input",{onKeypress:t[2]||(t[2]=e=>a.isNumber(e)),type:"text",required:"","onUpdate:modelValue":t[3]||(t[3]=e=>i.balInput=e),class:"text-center form-control"},null,544),[[s["ab"],i.balInput]])]),Object(s["i"])("div",Fi,[Di,Object(s["i"])("div",Ni,[Object(s["i"])("div",Li,[Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[4]||(t[4]=e=>i.pin_0=e),onKeyup:t[5]||(t[5]=Object(s["fb"])(e=>a.pin_focus("pin_1"),["right"])),onKeypress:t[6]||(t[6]=e=>a.is_valid_pin_value(e,"pin_0")),ref:"pin_0",type:"text",placeholder:"0"},null,40,$i),[[s["ab"],i.pin_0,void 0,{number:!0}]]),Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[7]||(t[7]=e=>i.pin_1=e),onKeyup:[t[8]||(t[8]=Object(s["fb"])(e=>a.pin_focus("pin_0"),["left"])),t[9]||(t[9]=Object(s["fb"])(e=>a.pin_focus("pin_2"),["right"]))],onKeypress:t[10]||(t[10]=e=>a.is_valid_pin_value(e,"pin_1")),ref:"pin_1",type:"text",placeholder:"0"},null,40,Mi),[[s["ab"],i.pin_1,void 0,{number:!0}]]),Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[11]||(t[11]=e=>i.pin_2=e),onKeyup:[t[12]||(t[12]=Object(s["fb"])(e=>a.pin_focus("pin_1"),["left"])),t[13]||(t[13]=Object(s["fb"])(e=>a.pin_focus("pin_3"),["right"]))],onKeypress:t[14]||(t[14]=e=>a.is_valid_pin_value(e,"pin_2")),ref:"pin_2",type:"text",placeholder:"0"},null,40,Vi),[[s["ab"],i.pin_2,void 0,{number:!0}]]),Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[15]||(t[15]=e=>i.pin_3=e),onKeyup:t[16]||(t[16]=Object(s["fb"])(e=>a.pin_focus("pin_2"),["left"])),onKeypress:t[17]||(t[17]=e=>a.is_valid_pin_value(e,"pin_3")),ref:"pin_3",type:"text",placeholder:"0"},null,40,qi),[[s["ab"],i.pin_3,void 0,{number:!0}]])])])]),Object(s["i"])("div",Pi,[Object(s["i"])("button",{type:"button",class:"w-100 btn btn-primary",onClick:t[18]||(t[18]=e=>a.deposit())}," Deposit ")]),i.errorMsg?(Object(s["H"])(),Object(s["h"])("p",Bi,Object(s["T"])(i.errorMsg),1)):Object(s["g"])("",!0)])):Object(s["g"])("",!0)],544)])])):Object(s["g"])("",!0)}var Ki={name:"Deposit",computed:{...Object(m["b"])(["isAdmin"]),...Object(m["b"])(["isLoggedIn"]),...Object(m["b"])(["getuserID"])},data(){return{pin_0:null,pin_1:null,pin_2:null,pin_3:null,pinfull:null,pintoCheck:null,selected:null,disable:!1,accounts:[],userID:"",balance:null,balInput:"",errorMsg:"",myIban:"",token:""}},watch:{pin_0:function(e){0!==e.toString().length&&(this.$refs.pin_1.focus(),this.$refs.pin_1.select())},pin_1:function(e){0!==e.toString().length&&(this.$refs.pin_2.focus(),this.$refs.pin_2.select())},pin_2:function(e){0!==e.toString().length&&(this.$refs.pin_3.focus(),this.$refs.pin_3.select())}},mounted(){this.token=localStorage.getItem("token"),this.userID=localStorage.getItem("userID"),this.fetchAccounts()},methods:{fetchAccounts(){S.request({url:"accounts/getByUserId/"+this.userID,method:"get",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+this.token}}).then(e=>{this.accounts=e.data}).catch(e=>{console.error("Error fetching accounts:",e)})},isNumber(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},pin_focus(e){this.$refs[e].focus(),this.$refs[e].select()},is_valid_pin_value(e,t){const n=String.fromCharCode(e.keyCode),s=null!==this[t]&&0===this.$refs[t].selectionStart&&this.$refs[t].selectionEnd===this[t].toString().length;if((null===this[t]||0===this[t].toString().length||s)&&parseInt(n,10)>=0&&parseInt(n,10)<=9)return!0;e.preventDefault()},deposit(){if(""!==this.balInput&&null!=this.pin_0&&null!=this.pin_1&&null!=this.pin_2&&null!=this.pin_3){const e=this.pin_0.toString()+this.pin_1.toString()+this.pin_2.toString()+this.pin_3.toString(),t=parseFloat(this.balInput);e==this.pintoCheck&&t>0?(this.pinfull=parseInt(e),this.depositAxios()):this.errorMsg="Pincode is incorrect or amount must be greater than 0"}else this.errorMsg="Please fill in all the fields"},depositAxios(){const e=new Date,t=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2),n=JSON.stringify({transactionType:"deposit",timestamp:t,amount:parseFloat(this.balInput),userPerforming:this.userID,from:"NL01INHO0000000001",to:this.myIban,pincode:this.pinfull});let s={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.token}};S.post("transactions",n,s).then(e=>{console.log(e),this.$router.replace("/transactions")}).catch(e=>{this.errorMsg=e.response.data.reason})},onChange(e){S.request({url:"accounts/"+e.target.value,method:"get",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+this.token}}).then(e=>{this.pin_0=null,this.pin_1=null,this.pin_2=null,this.pin_3=null,this.balInput=null,this.errorMsg="",this.balance=e.data.balance,this.pintoCheck=e.data.pinCode,this.myIban=e.data.iban,this.$refs.depoform.reset()}).catch(e=>{console.error("Error fetching account details:",e)})}}};const zi=v()(Ki,[["render",Ei]]);var Ri=zi;const Ji={key:0,class:"container"},Gi=Object(s["i"])("h1",{class:"text-center my-2 text-muted"},"Please select an account in the dropdown",-1),Wi={class:"form-container"},Yi={key:0},Zi={class:"text-center text-muted"},Qi={class:"input-group mx-0 text-center mb-3"},Xi=["disabled"],ea=Object(s["i"])("option",{value:null,disabled:""},"Select Account",-1),ta=["value"],na={key:0,class:"form-hider"},sa={class:"input-group mb-3"},ca=Object(s["i"])("span",{class:"input-group-text"},"Amount to withdraw: €",-1),ia={class:"input-group mb-3"},aa=Object(s["i"])("span",{class:"input-group-text"},"Pincode",-1),la={class:"input-wrapper"},oa={class:"input-group"},ra=["disabled"],ba=["disabled"],ua=["disabled"],da=["disabled"],pa={class:"input-group mb-3"},ha={key:0,class:"text-danger"};function Oa(e,t,n,c,i,a){return e.isLoggedIn?(Object(s["H"])(),Object(s["h"])("div",Ji,[Gi,Object(s["i"])("div",Wi,[i.selectedAccount?(Object(s["H"])(),Object(s["h"])("div",Yi,[Object(s["i"])("h1",Zi," Current account balance: €"+Object(s["T"])(i.selectedAccount.balance),1)])):Object(s["g"])("",!0),Object(s["i"])("div",Qi,[Object(s["eb"])(Object(s["i"])("select",{onChange:t[0]||(t[0]=e=>a.onChange(e)),class:"w-100 text-center mx-0",disabled:i.disable,"onUpdate:modelValue":t[1]||(t[1]=e=>i.selected=e)},[ea,(Object(s["H"])(!0),Object(s["h"])(s["a"],null,Object(s["N"])(i.accounts,e=>(Object(s["H"])(),Object(s["h"])("option",{key:e.iban,value:e.iban}," Iban: "+Object(s["T"])(e.iban)+" Owner: "+Object(s["T"])(e.username)+" AccountType: "+Object(s["T"])(e.accountType),9,ta))),128))],40,Xi),[[s["Z"],i.selected]])]),Object(s["i"])("form",{onSubmit:t[19]||(t[19]=Object(s["gb"])((...e)=>a.withdraw&&a.withdraw(...e),["prevent"])),ref:"depoform"},[i.selectedAccount?(Object(s["H"])(),Object(s["h"])("div",na,[Object(s["i"])("div",sa,[ca,Object(s["eb"])(Object(s["i"])("input",{onKeypress:t[2]||(t[2]=e=>a.isNumber(e)),type:"text",required:"","onUpdate:modelValue":t[3]||(t[3]=e=>i.balInput=e),class:"text-center form-control"},null,544),[[s["ab"],i.balInput]])]),Object(s["i"])("div",ia,[aa,Object(s["i"])("div",la,[Object(s["i"])("div",oa,[Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[4]||(t[4]=e=>i.pin_0=e),onKeyup:t[5]||(t[5]=Object(s["fb"])(e=>a.pin_focus("pin_1"),["right"])),onKeypress:t[6]||(t[6]=e=>a.is_valid_pin_value(e,"pin_0")),ref:"pin_0",type:"text",placeholder:"0"},null,40,ra),[[s["ab"],i.pin_0,void 0,{number:!0}]]),Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[7]||(t[7]=e=>i.pin_1=e),onKeyup:[t[8]||(t[8]=Object(s["fb"])(e=>a.pin_focus("pin_0"),["left"])),t[9]||(t[9]=Object(s["fb"])(e=>a.pin_focus("pin_2"),["right"]))],onKeypress:t[10]||(t[10]=e=>a.is_valid_pin_value(e,"pin_1")),ref:"pin_1",type:"text",placeholder:"0"},null,40,ba),[[s["ab"],i.pin_1,void 0,{number:!0}]]),Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[11]||(t[11]=e=>i.pin_2=e),onKeyup:[t[12]||(t[12]=Object(s["fb"])(e=>a.pin_focus("pin_1"),["left"])),t[13]||(t[13]=Object(s["fb"])(e=>a.pin_focus("pin_3"),["right"]))],onKeypress:t[14]||(t[14]=e=>a.is_valid_pin_value(e,"pin_2")),ref:"pin_2",type:"text",placeholder:"0"},null,40,ua),[[s["ab"],i.pin_2,void 0,{number:!0}]]),Object(s["eb"])(Object(s["i"])("input",{class:"form-control",disabled:i.disable,"onUpdate:modelValue":t[15]||(t[15]=e=>i.pin_3=e),onKeyup:t[16]||(t[16]=Object(s["fb"])(e=>a.pin_focus("pin_2"),["left"])),onKeypress:t[17]||(t[17]=e=>a.is_valid_pin_value(e,"pin_3")),ref:"pin_3",type:"text",placeholder:"0"},null,40,da),[[s["ab"],i.pin_3,void 0,{number:!0}]])])])]),Object(s["i"])("div",pa,[Object(s["i"])("button",{type:"button",class:"w-100 btn btn-primary",onClick:t[18]||(t[18]=e=>a.withdraw())}," Withdraw ")]),i.errorMsg?(Object(s["H"])(),Object(s["h"])("p",ha,Object(s["T"])(i.errorMsg),1)):Object(s["g"])("",!0)])):Object(s["g"])("",!0)],544)])])):Object(s["g"])("",!0)}var ja={name:"Withdraw",computed:{...Object(m["b"])(["isAdmin"]),...Object(m["b"])(["isLoggedIn"]),...Object(m["b"])(["getuserID"])},data(){return{pin_0:null,pin_1:null,pin_2:null,pin_3:null,pinfull:null,pintoCheck:null,selected:null,disable:!1,accounts:[],userID:"",balance:null,balInput:"",errorMsg:"",selectedAccount:null,myIban:"",token:""}},watch:{pin_0:function(e){0!==e.toString().length&&(this.$refs.pin_1.focus(),this.$refs.pin_1.select())},pin_1:function(e){0!==e.toString().length&&(this.$refs.pin_2.focus(),this.$refs.pin_2.select())},pin_2:function(e){0!==e.toString().length&&(this.$refs.pin_3.focus(),this.$refs.pin_3.select())}},mounted(){this.token=localStorage.getItem("token"),this.userID=localStorage.getItem("userID"),this.fetchAccounts()},methods:{fetchAccounts(){S.request({url:"accounts/getByUserId/"+this.userID,method:"get",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+this.token}}).then(e=>{this.accounts=e.data}).catch(e=>{console.error("Error fetching accounts:",e)})},isNumber(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},pin_focus(e){this.$refs[e].focus(),this.$refs[e].select()},is_valid_pin_value(e,t){const n=String.fromCharCode(e.keyCode),s=null!==this[t]&&0===this.$refs[t].selectionStart&&this.$refs[t].selectionEnd===this[t].toString().length;if((null===this[t]||0===this[t].toString().length||s)&&parseInt(n,10)>=0&&parseInt(n,10)<=9)return!0;e.preventDefault()},withdraw(){if(""!==this.balInput&&null!=this.pin_0&&null!=this.pin_1&&null!=this.pin_2&&null!=this.pin_3){const e=this.pin_0.toString()+this.pin_1.toString()+this.pin_2.toString()+this.pin_3.toString(),t=parseFloat(this.balInput);t<=0?this.errorMsg="Cannot create transaction; Amount must be greater than 0":e==this.pintoCheck?(this.pinfull=parseInt(e),this.withdrawAxios()):this.errorMsg="Cannot create transaction; Pincode is incorrect"}else this.errorMsg="Please fill in all the fields"},withdrawAxios(){const e=new Date,t=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2),n=JSON.stringify({transactionType:"withdraw",timestamp:t,amount:parseFloat(this.balInput),userPerforming:this.userID,to:"NL01INHO0000000001",from:this.myIban,pincode:this.pinfull});let s={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.token}};S.post("transactions",n,s).then(e=>{console.log(e),this.$router.replace("/transactions")}).catch(e=>{console.log(n),console.log(e),this.errorMsg=e.response.data.reason})},onChange(e){S.request({url:"accounts/"+e.target.value,method:"get",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+this.token}}).then(e=>{this.pin_0=null,this.pin_1=null,this.pin_2=null,this.pin_3=null,this.balInput=null,this.errorMsg="",this.selectedAccount=e.data,this.pintoCheck=e.data.pinCode,this.myIban=e.data.iban,this.balance=e.data.balance}).catch(e=>{console.log(e)})}}};const ma=v()(ja,[["render",Oa]]);var ga=ma;const fa={key:0,class:"container"},va=Object(s["i"])("h1",{class:"text-center my-2 text-muted"},"Please select an account in the dropdown",-1),ya={class:"form-container"},_a={key:0,class:"text-center text-muted"},wa={key:1,class:"text-center text-muted"},ka={class:"input-group mx-0 text-center mb-3"},xa=["disabled"],Aa=Object(s["i"])("option",{value:null,disabled:""},"Select Account",-1),Ta=["value"],Ia={key:0,class:"tabs-container"},Ua={class:"user-transaction"},Sa={key:0,class:"input-group mb-3"},Ca={class:"input-group mb-3 w-70"},Ha=Object(s["i"])("span",{class:"input-group-text"},"Search on firstname and lastname",-1),Fa=["disabled"],Da=["disabled"],Na=["disabled"],La={key:1,class:""},$a={class:"table align-middle mb-0 bg-white shadow-sm"},Ma={class:"bg-light"},Va=Object(s["i"])("th",null,"IBan",-1),qa=Object(s["i"])("th",null,"Balance",-1),Pa=Object(s["i"])("th",null,"AbsLimit",-1),Ba=Object(s["i"])("th",null,"Owner",-1),Ea=Object(s["i"])("th",null,"Owner Name",-1),Ka={key:0},za=Object(s["i"])("th",null,"AccountType [DEMO]",-1),Ra=["account"],Ja={class:"d-flex align-items-center"},Ga={class:"ms-3"},Wa={class:"text-muted mb-0"},Ya={class:"badge text-primary badge-success rounded-pill d-inline"},Za={key:0},Qa=["onClick"],Xa={key:2},el={class:"iban-transaction"},tl={key:0,class:"input-group my-3"},nl=Object(s["i"])("span",{class:"input-group-text"},"Iban to make a deposit to:",-1),sl=["disabled"],cl=["disabled"],il={key:0,class:"form-hider"},al={class:"input-group my-3"},ll=Object(s["i"])("span",{class:"input-group-text"},"Amount to transfer: €",-1),ol=["disabled"],rl={class:"input-group mb-3"},bl={key:0,class:"text-danger"},ul=Object(s["i"])("br",null,null,-1),dl=Object(s["i"])("span",{class:"text-black"},[Object(s["k"])(" Please click "),Object(s["i"])("a",{href:"/transaction",class:"cursor-pointer"},"here"),Object(s["k"])(" to reload the page.")],-1);function pl(e,t,n,c,i,a){const l=Object(s["P"])("tab"),o=Object(s["P"])("tabs");return e.isLoggedIn?(Object(s["H"])(),Object(s["h"])("div",fa,[va,Object(s["i"])("div",ya,[Object(s["i"])("div",null,[i.selectedAccount&&null!==i.selectedAccount.balance?(Object(s["H"])(),Object(s["h"])("h1",_a," Current account balance: €"+Object(s["T"])(i.selectedAccount.balance),1)):Object(s["g"])("",!0),i.selectedAccount&&null===i.selectedAccount.balance?(Object(s["H"])(),Object(s["h"])("h1",wa," Account balance is not available. ")):Object(s["g"])("",!0)]),Object(s["i"])("div",ka,[Object(s["eb"])(Object(s["i"])("select",{onChange:t[0]||(t[0]=e=>a.onChange(e)),class:"w-100 text-center mx-0",disabled:i.disable,"onUpdate:modelValue":t[1]||(t[1]=e=>i.selected=e)},[Aa,(Object(s["H"])(!0),Object(s["h"])(s["a"],null,Object(s["N"])(i.accounts,e=>(Object(s["H"])(),Object(s["h"])("option",{key:e.iban,value:e.iban}," Iban: "+Object(s["T"])(e.iban)+" Owner: "+Object(s["T"])(e.username)+" AccountType: "+Object(s["T"])(e.accountType),9,Ta))),128))],40,xa),[[s["Z"],i.selected]])]),i.selectedAccount&&null!==i.selectedAccount.balance?(Object(s["H"])(),Object(s["h"])("div",Ia,[Object(s["l"])(o,{"nav-item-class":"nav-item"},{default:Object(s["db"])(()=>[Object(s["l"])(l,{"is-disabled":i.isTabDisabled.first,name:"Make transaction By User"},{default:Object(s["db"])(()=>[Object(s["i"])("div",Ua,[i.selectedAccount&&null!==i.selectedAccount.balance?(Object(s["H"])(),Object(s["h"])("div",Sa,[Object(s["i"])("div",Ca,[Ha,Object(s["eb"])(Object(s["i"])("input",{onInput:t[2]||(t[2]=e=>a.searchAccount("second",!0)),type:"text",disabled:i.disable,"onUpdate:modelValue":t[3]||(t[3]=t=>e.firstnameInput=t),class:"form-control",placeholder:"Firstname..."},null,40,Fa),[[s["ab"],e.firstnameInput]]),Object(s["eb"])(Object(s["i"])("input",{onInput:t[4]||(t[4]=e=>a.searchAccount("second",!0)),disabled:i.disable,type:"text","onUpdate:modelValue":t[5]||(t[5]=t=>e.lastnameInput=t),class:"form-control",placeholder:"Lastname..."},null,40,Da),[[s["ab"],e.lastnameInput]]),Object(s["i"])("button",{type:"button",class:"btn btn-success",disabled:i.disable,onClick:t[6]||(t[6]=e=>a.searchAccount("second",!0))}," Search for user ",8,Na)])])):Object(s["g"])("",!0),0!=i.accountsFetched.length?(Object(s["H"])(),Object(s["h"])("div",La,[Object(s["i"])("table",$a,[Object(s["i"])("thead",Ma,[Object(s["i"])("tr",null,[Va,qa,Pa,Ba,Ea,i.selectedToAccount?Object(s["g"])("",!0):(Object(s["H"])(),Object(s["h"])("th",Ka,"Action")),za])]),Object(s["i"])("tbody",null,[(Object(s["H"])(!0),Object(s["h"])(s["a"],null,Object(s["N"])(i.accountsFetched,e=>(Object(s["H"])(),Object(s["h"])("tr",{key:e.id,account:e},[Object(s["i"])("td",null,[Object(s["i"])("div",Ja,[Object(s["i"])("div",Ga,[Object(s["i"])("p",Wa,Object(s["T"])(e.iban),1)])])]),Object(s["i"])("td",null,"€"+Object(s["T"])(e.balance),1),Object(s["i"])("td",null,"€"+Object(s["T"])(e.absLimit),1),Object(s["i"])("td",null,[Object(s["i"])("span",Ya,Object(s["T"])(e.username),1)]),Object(s["i"])("td",null,Object(s["T"])(e.firstname)+" "+Object(s["T"])(e.lastname),1),i.selectedToAccount?Object(s["g"])("",!0):(Object(s["H"])(),Object(s["h"])("td",Za,[Object(s["i"])("a",{onClick:t=>a.selectIban(e,t,"second"),class:"btn btn-secondary"},"Select Account",8,Qa)])),Object(s["i"])("td",null,Object(s["T"])(e.accountType),1)],8,Ra))),128))])])])):(Object(s["H"])(),Object(s["h"])("p",Xa,Object(s["T"])(i.accountsNotFetchedMsg),1))])]),_:1},8,["is-disabled"]),Object(s["l"])(l,{"is-disabled":i.isTabDisabled.second,name:"Make transaction with Iban"},{default:Object(s["db"])(()=>[Object(s["i"])("div",el,[i.selectedAccount&&null!==i.selectedAccount.balance?(Object(s["H"])(),Object(s["h"])("div",tl,[nl,Object(s["eb"])(Object(s["i"])("input",{disabled:i.disable,type:"text","onUpdate:modelValue":t[7]||(t[7]=t=>e.ibanSearch=t),class:"form-control"},null,8,sl),[[s["ab"],e.ibanSearch]]),Object(s["i"])("button",{type:"button",disabled:i.disable,onClick:t[8]||(t[8]=e=>a.searchAccount("first",!1)),class:"btn btn-success"}," Search Iban ",8,cl)])):Object(s["g"])("",!0)])]),_:1},8,["is-disabled"])]),_:1})])):Object(s["g"])("",!0),Object(s["i"])("form",{onSubmit:t[12]||(t[12]=Object(s["gb"])((...t)=>e.login&&e.login(...t),["prevent"])),ref:"depoform"},[i.selectedAccount&&null!==i.selectedAccount.balance?(Object(s["H"])(),Object(s["h"])("div",il,[Object(s["i"])("div",al,[ll,Object(s["eb"])(Object(s["i"])("input",{onKeypress:t[9]||(t[9]=e=>a.isNumber(e)),type:"text",required:"required",disabled:!i.disable,"onUpdate:modelValue":t[10]||(t[10]=e=>i.balInput=e),class:"text-center form-control"},null,40,ol),[[s["ab"],i.balInput]])]),Object(s["i"])("div",rl,[Object(s["i"])("button",{type:"button",class:"w-100 btn btn-primary",onClick:t[11]||(t[11]=e=>a.makeTrans())}," Transfer ")]),i.errorMsg?(Object(s["H"])(),Object(s["h"])("p",bl,[Object(s["k"])(Object(s["T"])(i.errorMsg),1),ul,dl])):Object(s["g"])("",!0)])):Object(s["g"])("",!0)],544)])])):Object(s["g"])("",!0)}var hl={name:"MakeTrans",computed:{...Object(m["b"])(["isAdmin"]),...Object(m["b"])(["isLoggedIn"]),...Object(m["b"])(["getuserID"])},data(){return{AccountType:{SAVINGS:"SAVINGS",CURRENT:"CURRENT"},selected:null,selectedToAccount:null,disable:!1,accounts:[],accountsFetched:[],accountsNotFetchedMsg:"",userID:"",balInput:"",errorMsg:"",username:"",selectedAccount:null,token:"",isTabDisabled:{first:!1,second:!1,third:!1,fourth:!1,fifth:!1}}},mounted(){this.token=localStorage.getItem("token"),this.userID=localStorage.getItem("userID"),S.request({url:"accounts/getByUserId/"+this.userID,method:"get",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+this.token}}).then(e=>{console.log(e.data),this.accounts=e.data}).catch(e=>{console.log(e),this.errored=!0}).finally(()=>this.loading=!1)},methods:{searchAccount(e,t){let n={};n=t?{firstname:this.firstnameInput,lastname:this.lastnameInput}:{iban:this.ibanSearch},console.log("complex search"+n),console.log(this.ibanSearch),S.get("accounts/search",{params:n,...this.config}).then(n=>{t||18==n.data.content[0].iban.length&&(this.selectedToAccount=n.data.content[0].iban,this.disableTab(e),this.disable=!0,this.errorMsg=""),t&&(console.log("trying to echo data complex;"+JSON.stringify(n.data.content)),this.accountsFetched=n.data.content.filter(e=>"current"===e.accountType))}).catch(e=>{this.errorMsg="No account found with provided iban",console.log(e)})},selectIban(e,t,n){this.disableTab(n);const s=t.target.closest("tr"),c=document.querySelectorAll(".is-inactive");c.forEach(e=>{e.classList.remove("is-inactive"),e.classList.add("is-disabled")}),s&&s.classList.add("selected-tr"),this.selectedToAccount=e.iban,this.disable=!0},disableTab(e){Object.prototype.hasOwnProperty.call(this.isTabDisabled,e)&&(this.isTabDisabled[e]=!0)},makeTrans(){const e=parseFloat(this.balInput);isNaN(e)?this.errorMsg="Cannot create transaction; Please enter a valid amount greater than 0.":this.makeTransAxios()},makeTransAxios(){const e=new Date,t=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2),n=JSON.stringify({transactionType:"regular",timestamp:t,amount:this.balInput,userPerforming:this.userID,from:this.selected,to:this.selectedToAccount,pincode:null});let s={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.token}};S.post("transactions",n,s).then(e=>{console.log(e),this.$router.replace("/transactions")}).catch(e=>{this.errorMsg=e.response.data.reason,console.log(e)})},onChange(e){S.request({url:"accounts/"+e.target.value,method:"get",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+this.token}}).then(e=>{this.balInput=null,this.errorMsg="",this.selectedAccount=e.data}).catch(e=>{console.log(e)}).finally(()=>this.loading=!1)},onChange2(e){S.request({url:"accounts/"+e.target.value,method:"get",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+this.token}}).then(e=>{this.errorMsg="",this.selectedToAccount=e.data.iban}).catch(e=>{console.log(e)}).finally(()=>this.loading=!1)},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()}}};const Ol=v()(hl,[["render",pl]]);var jl=Ol;const ml={class:"table-transactions mx-4 p-4"},gl={class:"container"},fl={class:"button-container p-2 my-2"},vl={key:0,class:"filter-container p-2 my-2"},yl=Object(s["i"])("label",{class:"mx-2"},"From Account:",-1),_l=Object(s["i"])("label",{class:"mx-2"},"To Account:",-1),wl=Object(s["i"])("label",{class:"mx-2"},"Amount:",-1),kl=Object(s["i"])("label",{class:"mx-2"},"Filter Type:",-1),xl=Object(s["i"])("option",{value:"equal"},"Equal to",-1),Al=Object(s["i"])("option",{value:"greater"},"Greater than",-1),Tl=Object(s["i"])("option",{value:"less"},"Less than",-1),Il=[xl,Al,Tl],Ul=Object(s["i"])("label",{class:"mx-2"},"Start Time:",-1),Sl=Object(s["i"])("label",{class:"mx-2"},"End Time:",-1),Cl={class:"table align-middle mb-0 bg-white shadow-sm"},Hl=Object(s["i"])("thead",{class:"bg-light"},[Object(s["i"])("tr",null,[Object(s["i"])("th",null,"From"),Object(s["i"])("th",null,"To"),Object(s["i"])("th",null,"Amount"),Object(s["i"])("th",null,"Date"),Object(s["i"])("th",null,"Type")])],-1);function Fl(e,t,n,c,i,a){return Object(s["H"])(),Object(s["h"])("section",ml,[Object(s["i"])("div",gl,[Object(s["i"])("div",fl,[Object(s["i"])("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/home")),class:"py-2 mx-2 btn btn-danger"}," Go Back "),Object(s["i"])("button",{onClick:t[1]||(t[1]=(...e)=>a.toggleFilterOptions&&a.toggleFilterOptions(...e)),class:"py-2 mx-2 btn btn-primary"}," Filter Options ")]),i.showFilterOptions?(Object(s["H"])(),Object(s["h"])("div",vl,[yl,Object(s["eb"])(Object(s["i"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.fromAccountFilter=e),type:"text",class:"form-control mx-2",placeholder:"Enter From Account IBAN",onInput:t[3]||(t[3]=(...e)=>a.fetchFilteredTransactions&&a.fetchFilteredTransactions(...e))},null,544),[[s["ab"],i.fromAccountFilter]]),_l,Object(s["eb"])(Object(s["i"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.toAccountFilter=e),type:"text",class:"form-control mx-2",placeholder:"Enter To Account IBAN",onInput:t[5]||(t[5]=(...e)=>a.fetchFilteredTransactions&&a.fetchFilteredTransactions(...e))},null,544),[[s["ab"],i.toAccountFilter]]),wl,Object(s["eb"])(Object(s["i"])("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.amountFilter=e),type:"number",class:"form-control mx-2",placeholder:"Enter Amount",onInput:t[7]||(t[7]=(...e)=>a.fetchFilteredTransactions&&a.fetchFilteredTransactions(...e))},null,544),[[s["ab"],i.amountFilter,void 0,{number:!0}]]),kl,Object(s["eb"])(Object(s["i"])("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>i.amountFilterType=e),class:"form-control mx-2",onChange:t[9]||(t[9]=(...e)=>a.fetchFilteredTransactions&&a.fetchFilteredTransactions(...e))},Il,544),[[s["Z"],i.amountFilterType]]),Ul,Object(s["eb"])(Object(s["i"])("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>i.startTimeFilter=e),type:"datetime-local",class:"form-control mx-2",onChange:t[11]||(t[11]=(...e)=>a.fetchFilteredTransactions&&a.fetchFilteredTransactions(...e))},null,544),[[s["ab"],i.startTimeFilter]]),Sl,Object(s["eb"])(Object(s["i"])("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>i.endTimeFilter=e),type:"datetime-local",class:"form-control mx-2",onChange:t[13]||(t[13]=(...e)=>a.fetchFilteredTransactions&&a.fetchFilteredTransactions(...e))},null,544),[[s["ab"],i.endTimeFilter]])])):Object(s["g"])("",!0),Object(s["i"])("table",Cl,[Hl,Object(s["i"])("tbody",null,[(Object(s["H"])(!0),Object(s["h"])(s["a"],null,Object(s["N"])(i.transactions,e=>(Object(s["H"])(),Object(s["h"])("tr",{key:e.id},[Object(s["i"])("td",null,Object(s["T"])(a.extractIBAN(e.from)),1),Object(s["i"])("td",null,Object(s["T"])(e.to),1),Object(s["i"])("td",null,"€"+Object(s["T"])(e.amount.toFixed(2)),1),Object(s["i"])("td",null,Object(s["T"])(a.formatDate(e.timestamp)),1),Object(s["i"])("td",null,Object(s["T"])(e.transactionType),1)]))),128))])])])])}var Dl={name:"UserTransactions",data(){return{transactions:[],fromAccountFilter:"",toAccountFilter:"",amountFilter:null,amountFilterType:"equal",startTimeFilter:null,endTimeFilter:null,showFilterOptions:!1}},methods:{formatDate(e){const t=new Date(e);return t.toLocaleString()},extractIBAN(e){const t=e.indexOf("iban=")+5,n=e.indexOf(",",t);return e.substring(t,n)},fetchFilteredTransactions(){const e=localStorage.getItem("token");S.get("transactions/user/filter",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},params:{fromAccount:this.fromAccountFilter,toAccount:this.toAccountFilter,amount:this.amountFilter,amountFilterType:this.amountFilterType,startTime:this.startTimeFilter,endTime:this.endTimeFilter}}).then(e=>{this.transactions=e.data.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))}).catch(e=>{console.error("Error fetching transactions:",e)})},toggleFilterOptions(){this.showFilterOptions=!this.showFilterOptions}},mounted(){this.fetchFilteredTransactions()}};const Nl=v()(Dl,[["render",Fl]]);var Ll=Nl;const $l={class:"table-transactions mx-4 p-4"},Ml={class:"container"},Vl={class:"button-container p-2 my-2"},ql={class:"search-user-form p-2 my-2"},Pl=Object(s["i"])("label",{for:"searchUserInput",class:"form-label"},"Search User:",-1),Bl={class:"d-flex align-items-center"},El={key:0,class:"text-danger"},Kl={key:1,class:"table align-middle mb-0 bg-white shadow-sm"},zl=Object(s["i"])("thead",{class:"bg-light"},[Object(s["i"])("tr",null,[Object(s["i"])("th",null,"From"),Object(s["i"])("th",null,"To"),Object(s["i"])("th",null,"Amount"),Object(s["i"])("th",null,"Date"),Object(s["i"])("th",null,"Initiator"),Object(s["i"])("th",null,"Type")])],-1),Rl={key:2,class:"text-center p-4"};function Jl(e,t,n,c,i,a){return Object(s["H"])(),Object(s["h"])("section",$l,[Object(s["i"])("div",Ml,[Object(s["i"])("div",Vl,[Object(s["i"])("button",{onClick:t[0]||(t[0]=(...e)=>a.goBack&&a.goBack(...e)),class:"py-2 mx-2 btn btn-danger"},"Go Back")]),Object(s["i"])("div",ql,[Pl,Object(s["i"])("div",Bl,[Object(s["eb"])(Object(s["i"])("input",{type:"text",id:"searchUserInput","onUpdate:modelValue":t[1]||(t[1]=e=>i.searchUserQuery=e),class:"form-control",placeholder:"Enter username"},null,512),[[s["ab"],i.searchUserQuery]]),Object(s["i"])("button",{onClick:t[2]||(t[2]=(...e)=>a.searchUser&&a.searchUser(...e)),class:"btn btn-primary ms-2"},"Search")])]),i.errorMessage?(Object(s["H"])(),Object(s["h"])("div",El,Object(s["T"])(i.errorMessage),1)):Object(s["g"])("",!0),i.transactions.length>0?(Object(s["H"])(),Object(s["h"])("table",Kl,[zl,Object(s["i"])("tbody",null,[(Object(s["H"])(!0),Object(s["h"])(s["a"],null,Object(s["N"])(i.transactions,e=>(Object(s["H"])(),Object(s["h"])("tr",{key:e.id},[Object(s["i"])("td",null,Object(s["T"])(a.extractIBAN(e.from)),1),Object(s["i"])("td",null,Object(s["T"])(e.to),1),Object(s["i"])("td",null,"€"+Object(s["T"])(e.amount),1),Object(s["i"])("td",null,Object(s["T"])(a.formatDate(e.timestamp)),1),Object(s["i"])("td",null,Object(s["T"])(a.getUserTypes(e.userPerforming)),1),Object(s["i"])("td",null,Object(s["T"])(e.transactionType),1)]))),128))])])):(Object(s["H"])(),Object(s["h"])("div",Rl,"No transactions found."))])])}n("88e6"),n("70cc"),n("eb03"),n("22e5"),n("c01e"),n("fa76"),n("8306");var Gl={name:"AllTransactions",computed:{...Object(m["b"])(["getUserName"])},data(){return{transactions:[],userMap:{},searchUserQuery:"",selectedUser:null,errorMessage:""}},methods:{formatDate(e){const t=new Date(e);return t.toLocaleString()},extractIBAN(e){const t=e.indexOf("iban=")+5,n=e.indexOf(",",t);return e.substring(t,n)},async fetchTransactions(){try{let e=localStorage.getItem("token");const t=await S.get("transactions/employee",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}});this.transactions=t.data.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)),await this.fetchUserDetails()}catch(e){console.error("Error fetching transactions:",e)}},async fetchUserDetails(){try{const e=localStorage.getItem("token"),t=[...new Set(this.transactions.map(e=>e.userPerforming))],n=t.map(t=>S.get("users/"+t,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}})),s=await Promise.all(n),c={};s.forEach(e=>{const t=e.data.id,n=e.data.userTypes;c[t]=n.includes("ROLE_EMPLOYEE")?"Employee":"Customer"}),this.userMap=c}catch(e){console.error("Error fetching user details:",e)}},async searchUser(){if(""!==this.searchUserQuery.trim())try{const e=localStorage.getItem("token"),t=await S.get("users/username/"+this.searchUserQuery,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}});this.selectedUser=t.data,await this.fetchTransactionsForUser(this.selectedUser.id),this.errorMessage=""}catch(e){console.error("Error searching user:",e),this.errorMessage="User not found.",this.transactions=[]}else this.errorMessage="Please enter a username to search."},async fetchTransactionsForUser(e){try{const t=localStorage.getItem("token"),n=await S.get("transactions/employee?userId="+e,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t}});this.transactions=n.data.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)),this.fetchUserDetails()}catch(t){console.error("Error fetching transactions for user:",t),t.response&&t.response.data&&t.response.data.reason?this.errorMessage=t.response.data.reason:this.errorMessage="An error occurred while fetching transactions.",this.transactions=[]}},goBack(){this.$router.push("/home")},getUserTypes(e){return this.userMap[e]}},mounted(){this.fetchTransactions()}};const Wl=v()(Gl,[["render",Jl]]);var Yl=Wl,Zl=(n("5aea"),n("f742")),Ql=n("34cf");n("2116");const Xl=[{path:"/",component:ae},{path:"/login",component:ae},{path:"/register",component:ze},{path:"/users",component:bt},{path:"/usersall",component:Ut},{path:"/home",component:hs},{path:"/edituser",component:an},{path:"/accounts",component:ec},{path:"/addaccount",component:Mc},{path:"/editaccount/:iban",name:"EditAccount",component:vi},{path:"/deposit",component:Ri},{path:"/withdraw",component:ga},{path:"/transaction",component:jl},{path:"/transactions",component:Ll},{path:"/transactions/employee",component:Yl}],eo=Object(A["a"])({history:Object(A["b"])(),routes:Xl}),to=Object(s["e"])(x).use(Ql["a"]).component("tabs",Zl["b"]).component("tab",Zl["a"]);to.use(eo),to.use(H),to.mount("#app")},"5aea":function(e,t,n){},"62b6":function(e,t,n){"use strict";n("af2d")},"79c1":function(e,t,n){},"79f1":function(e,t,n){"use strict";n("3108")},af2d:function(e,t,n){},af85:function(e,t,n){"use strict";n("ea38")},cadf:function(e,t,n){"use strict";n("79c1")},d0f2:function(e,t,n){"use strict";n("d3c6")},d3c6:function(e,t,n){},d6b9:function(e,t,n){e.exports=n.p+"img/inhollandbank.f5ac0ae1.png"},ea38:function(e,t,n){}});
//# sourceMappingURL=app.8e8a2fde.js.map