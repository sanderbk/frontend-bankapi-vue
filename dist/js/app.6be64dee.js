(function(t){function e(e){for(var c,o,a=e[0],s=e[1],l=e[2],b=0,d=[];b<a.length;b++)o=a[b],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],c=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(c=!1)}c&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var c={},i={app:0},r=[];function o(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=c,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)o.d(n,c,function(e){return t[e]}.bind(null,c));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"124e":function(t,e,n){},"55dd":function(t,e,n){"use strict";n("8e60")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function i(t,e,n,i,r,o){var a=Object(c["M"])("navigation"),s=Object(c["M"])("router-view");return Object(c["E"])(),Object(c["h"])(c["a"],null,[Object(c["l"])(a),Object(c["l"])(s)],64)}var r={class:"navbar navbar-expand-md navbar-dark bg-primary"},o={class:"container-fluid"},a=Object(c["k"])("Inholland Bank"),s=Object(c["i"])("button",{class:"navbar-toggler ms-auto",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseNavbar"},[Object(c["i"])("span",{class:"navbar-toggler-icon"})],-1),l={class:"navbar-collapse collapse",id:"collapseNavbar"},u={key:0,class:"navbar-nav"},b=Object(c["k"])(" Deposit "),d=Object(c["k"])(" Withdraw "),p=Object(c["k"])(" Transaction "),f={class:"navbar-nav ms-auto"},j={key:0,class:"nav-item dropdown"},O=Object(c["i"])("a",{class:"nav-link text-white mr-2 dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{"margin-right":"2.5rem"}}," Employee menu ",-1),h={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},m=Object(c["k"])("Accounts"),g=Object(c["k"])("Transactions"),v=Object(c["k"])("Users"),y={key:1,class:"nav-item"},_=Object(c["k"])("Login"),w={key:2,class:"nav-item"};function k(t,e,n,i,k,x){var I=Object(c["M"])("router-link");return Object(c["E"])(),Object(c["h"])("nav",r,[Object(c["i"])("div",o,[Object(c["l"])(I,{to:"/home",class:"navbar-brand abs",href:"#"},{default:Object(c["W"])((function(){return[a]})),_:1}),s,Object(c["i"])("div",l,[t.isLoggedIn?(Object(c["E"])(),Object(c["h"])("ul",u,[Object(c["l"])(I,{to:"/deposit",class:"nav-link nav-item"},{default:Object(c["W"])((function(){return[b]})),_:1}),Object(c["l"])(I,{to:"/withdraw",class:"nav-link nav-item"},{default:Object(c["W"])((function(){return[d]})),_:1}),Object(c["l"])(I,{to:"/transaction",class:"nav-link nav-item"},{default:Object(c["W"])((function(){return[p]})),_:1})])):Object(c["g"])("",!0),Object(c["i"])("ul",f,[t.isAdmin?(Object(c["E"])(),Object(c["h"])("li",j,[O,Object(c["i"])("ul",h,[Object(c["i"])("li",null,[Object(c["l"])(I,{to:"/accounts",class:"dropdown-item"},{default:Object(c["W"])((function(){return[m]})),_:1})]),Object(c["i"])("li",null,[Object(c["l"])(I,{class:"dropdown-item",to:"/transaction"},{default:Object(c["W"])((function(){return[g]})),_:1})]),Object(c["i"])("li",null,[Object(c["l"])(I,{to:"/users",class:"dropdown-item"},{default:Object(c["W"])((function(){return[v]})),_:1})])])])):Object(c["g"])("",!0),t.isLoggedIn?Object(c["g"])("",!0):(Object(c["E"])(),Object(c["h"])("li",y,[Object(c["l"])(I,{to:"/login",class:"nav-link"},{default:Object(c["W"])((function(){return[_]})),_:1})])),t.isLoggedIn?(Object(c["E"])(),Object(c["h"])("li",w,[Object(c["i"])("a",{onClick:e[0]||(e[0]=function(){return x.logout&&x.logout.apply(x,arguments)}),class:"nav-link"},"Logout")])):Object(c["g"])("",!0)])])])])}var x=n("5530"),I=n("5502"),U={name:"Navigation",computed:Object(x["a"])(Object(x["a"])(Object(x["a"])({},Object(I["b"])(["isLoggedIn"])),Object(I["b"])(["getUserRole"])),Object(I["b"])(["isAdmin"])),methods:{logout:function(){localStorage.clear(),this.$router.go("/login")}}},S=n("6b0d"),A=n.n(S);const C=A()(U,[["render",k]]);var D=C,T={components:{Navigation:D},name:"App",watch:{$route:{immediate:!0,handler:function(){document.title="InHolland Bank"}}},created:function(){this.$store.dispatch("autoLogin")}};const P=A()(T,[["render",i]]);var E=P,$=n("6c02"),M=(n("caad"),n("2532"),n("d3b7"),n("25f0"),n("bc3a")),L=n.n(M),q=L.a.create({baseURL:"localhost:4000/BankAPI"}),B=q,K=Object(I["a"])({state:function(){return{token:null,username:null,userrole:null,userID:null}},getters:{isLoggedIn:function(t){return!!t.token},getUserName:function(t){return t.username},isAdmin:function(t){if(t.userrole)return!!t.userrole.toString().includes("ROLE_EMPLOYEE")},getUserRole:function(t){return t.userrole},getuserID:function(t){return t.userID}},mutations:{authenticateUser:function(t,e){t.token=e.token,t.username=e.username,t.userrole=e.userrole,t.userID=e.userID}},actions:{login:function(t,e){var n=t.commit;return new Promise((function(t,c){B.post("login",{username:e.username,password:e.password}).then((function(e){B.defaults.headers.common["Authorization"]="Bearer "+e.data.token,n("authenticateUser",e.data),localStorage.setItem("token",e.data.token),localStorage.setItem("userrole",e.data.userrole),localStorage.setItem("userID",e.data.userID),localStorage.setItem("username",e.data.username),t()})).catch((function(t){c(t)}))}))},autoLogin:function(t){var e=t.commit,n=localStorage.getItem("token"),c=localStorage.getItem("username"),i=localStorage.getItem("userrole"),r=localStorage.getItem("userID");n&&c&&(B.defaults.headers.common["Authorization"]="Bearer "+n,e("authenticateUser",{token:n,username:c,userrole:i,userID:r}))}}}),V=K,N=n("d6b9"),X=n.n(N),F=function(t){return Object(c["H"])("data-v-63232c47"),t=t(),Object(c["F"])(),t},W={key:0,class:"ftco-section"},Y={class:"container"},z={class:"row justify-content-center"},H={class:"col-md-7 col-lg-5"},R={class:"wrap text-center"},J=F((function(){return Object(c["i"])("img",{class:"w-50 mt-4",src:X.a},null,-1)})),Z={class:"text-muted login-wrap p-2 p-md-2"},G=F((function(){return Object(c["i"])("div",{class:"d-flex"},[Object(c["i"])("div",{class:"w-100"},[Object(c["i"])("h3",{class:"mb-4"},"Sign In")])],-1)})),Q={class:"form-group mt-3"},tt=F((function(){return Object(c["i"])("label",{class:"form-control-placeholder",for:"username"},"Username",-1)})),et={class:"form-group"},nt=F((function(){return Object(c["i"])("label",{class:"form-control-placeholder",for:"password"},"Password",-1)})),ct=F((function(){return Object(c["i"])("span",{toggle:"#password-field",class:"fa fa-fw fa-eye field-icon toggle-password"},null,-1)})),it={class:"text-center mt-4 form-group"},rt=F((function(){return Object(c["i"])("button",{style:{},class:"btn w-100 text-center submit vue-butt btn-success btn-lg"},[Object(c["i"])("span",null,"Sign in ðŸ”“")],-1)})),ot=["v-if"],at=F((function(){return Object(c["i"])("span",null,"Register",-1)})),st=[at];function lt(t,e,n,i,r,o){return t.isLoggedIn?Object(c["g"])("",!0):(Object(c["E"])(),Object(c["h"])("section",W,[Object(c["i"])("div",Y,[Object(c["i"])("div",z,[Object(c["i"])("div",H,[Object(c["i"])("div",R,[J,Object(c["i"])("div",Z,[G,Object(c["i"])("form",{onSubmit:e[2]||(e[2]=Object(c["Z"])((function(){return o.login&&o.login.apply(o,arguments)}),["prevent"]))},[Object(c["i"])("div",Q,[tt,Object(c["X"])(Object(c["i"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=function(t){return r.username=t}),required:""},null,512),[[c["U"],r.username]])]),Object(c["i"])("div",et,[nt,Object(c["X"])(Object(c["i"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return r.password=t}),id:"password-field",type:"password",class:"form-control",required:""},null,512),[[c["U"],r.password]]),ct]),Object(c["i"])("div",it,[rt,Object(c["i"])("span",{"v-if":r.errorms,class:"w-100 text-danger"},Object(c["P"])(r.errorms),9,ot)])],32),Object(c["i"])("a",{onClick:e[3]||(e[3]=function(t){return o.register()}),style:{},class:"mt-2 btn w-100 text-center submit vue-butt btn-primary btn-lg"},st)])])])])])]))}n("ac1f"),n("5319");var ut={name:"Login",data:function(){return{username:"",password:"",errorms:""}},computed:Object(x["a"])(Object(x["a"])({},Object(I["b"])(["isLoggedIn"])),Object(I["b"])(["isAdmin"])),methods:{register:function(){this.$router.replace("/register")},login:function(){var t=this;this.$store.dispatch("login",{username:this.username,password:this.password}).then((function(){t.$router.replace("/home")})).catch((function(e){t.errorms=e.response.data.reason}))}}};n("55dd");const bt=A()(ut,[["render",lt],["__scopeId","data-v-63232c47"]]);var dt=bt,pt=function(t){return Object(c["H"])("data-v-751c72e6"),t=t(),Object(c["F"])(),t},ft={class:"ftco-section"},jt={class:"container"},Ot={class:"row justify-content-center"},ht={class:"col-md-7 col-lg-5"},mt={class:"wrap text-center"},gt=pt((function(){return Object(c["i"])("img",{class:"w-50 mt-4",src:X.a},null,-1)})),vt={class:"text-muted login-wrap p-2 p-md-2"},yt=pt((function(){return Object(c["i"])("div",{class:"d-flex"},[Object(c["i"])("div",{class:"w-100"},[Object(c["i"])("h3",{class:"mb-4"},"Register an account")])],-1)})),_t={class:"form-group mt-3"},wt=pt((function(){return Object(c["i"])("label",{class:"form-control-placeholder",for:"username"},"Username",-1)})),kt={class:"form-group"},xt=pt((function(){return Object(c["i"])("label",{class:"form-control-placeholder",for:"password"},"Password",-1)})),It=pt((function(){return Object(c["i"])("span",{toggle:"#password-field",class:"fa fa-fw fa-eye field-icon toggle-password"},null,-1)})),Ut={class:"form-group"},St=pt((function(){return Object(c["i"])("label",{class:"form-control-placeholder",for:"firstname"},"Firstname",-1)})),At={class:"form-group"},Ct=pt((function(){return Object(c["i"])("label",{class:"form-control-placeholder",for:"lastname"},"Lastname",-1)})),Dt={class:"form-group"},Tt=pt((function(){return Object(c["i"])("label",{class:"form-control-placeholder",for:"dob"},"Date of birth",-1)})),Pt={class:"form-group"},Et=pt((function(){return Object(c["i"])("label",{class:"form-control-placeholder",for:"address"},"Address",-1)})),$t={class:"form-group"},Mt=pt((function(){return Object(c["i"])("label",{class:"form-control-placeholder",for:"email"},"E-mail",-1)})),Lt={class:"form-group"},qt=pt((function(){return Object(c["i"])("label",{class:"form-control-placeholder",for:"phone"},"Phonenumber",-1)})),Bt={class:"form-group"},Kt=pt((function(){return Object(c["i"])("label",{class:"form-control-placeholder",for:"daylimit"},"Daylimit",-1)})),Vt={class:"form-group"},Nt=pt((function(){return Object(c["i"])("label",{class:"form-control-placeholder",for:"translimit"},"Transaction limit",-1)})),Xt={class:"text-center mt-4 form-group"},Ft=pt((function(){return Object(c["i"])("button",{style:{},type:"submit",class:"btn w-100 text-center submit vue-butt btn-primary btn-lg"},[Object(c["i"])("span",null,"Register")],-1)})),Wt=pt((function(){return Object(c["i"])("span",null,null,-1)})),Yt=["v-if"],zt=["v-if"];function Ht(t,e,n,i,r,o){var a=Object(c["M"])("Datepicker");return Object(c["E"])(),Object(c["h"])("section",ft,[Object(c["i"])("div",jt,[Object(c["i"])("div",Ot,[Object(c["i"])("div",ht,[Object(c["i"])("div",mt,[gt,Object(c["i"])("div",vt,[yt,Object(c["i"])("form",{onSubmit:[e[12]||(e[12]=function(){return t.checkForm&&t.checkForm.apply(t,arguments)}),e[13]||(e[13]=Object(c["Z"])((function(){return o.registerUser&&o.registerUser.apply(o,arguments)}),["prevent"]))]},[Object(c["i"])("div",_t,[wt,Object(c["X"])(Object(c["i"])("input",{type:"text",class:"form-control",required:"required","onUpdate:modelValue":e[0]||(e[0]=function(t){return r.username=t})},null,512),[[c["U"],r.username]])]),Object(c["i"])("div",kt,[xt,Object(c["X"])(Object(c["i"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return r.password=t}),id:"password-field",type:"password",class:"form-control",required:"required"},null,512),[[c["U"],r.password]]),It]),Object(c["i"])("div",Ut,[St,Object(c["X"])(Object(c["i"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=function(t){return r.firstname=t}),required:"required"},null,512),[[c["U"],r.firstname]])]),Object(c["i"])("div",At,[Ct,Object(c["X"])(Object(c["i"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=function(t){return r.lastname=t}),required:"required"},null,512),[[c["U"],r.lastname]])]),Object(c["i"])("div",Dt,[Tt,Object(c["l"])(a,{format:"yyyy/MM/dd",modelValue:r.dob,"onUpdate:modelValue":e[4]||(e[4]=function(t){return r.dob=t})},null,8,["modelValue"])]),Object(c["i"])("div",Pt,[Et,Object(c["X"])(Object(c["i"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=function(t){return r.address=t}),required:"required"},null,512),[[c["U"],r.address]])]),Object(c["i"])("div",$t,[Mt,Object(c["X"])(Object(c["i"])("input",{type:"email",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=function(t){return r.email=t}),required:"required"},null,512),[[c["U"],r.email]])]),Object(c["i"])("div",Lt,[qt,Object(c["X"])(Object(c["i"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=function(t){return r.phone=t}),required:"required"},null,512),[[c["U"],r.phone]])]),Object(c["i"])("div",Bt,[Kt,Object(c["X"])(Object(c["i"])("input",{onKeypress:e[8]||(e[8]=function(t){return o.isNumber(t)}),type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=function(t){return r.dayLimit=t}),required:"required"},null,544),[[c["U"],r.dayLimit]])]),Object(c["i"])("div",Vt,[Nt,Object(c["X"])(Object(c["i"])("input",{onKeypress:e[10]||(e[10]=function(t){return o.isNumber(t)}),type:"text",class:"form-control","onUpdate:modelValue":e[11]||(e[11]=function(t){return r.transLimit=t}),required:"required"},null,544),[[c["U"],r.transLimit]])]),Object(c["i"])("div",Xt,[Ft,Wt,Object(c["i"])("span",{"v-if":r.errorms,class:"w-100 text-danger"},Object(c["P"])(r.errorms),9,Yt),Object(c["i"])("span",{"v-if":r.successms,class:"w-100 text-success"},Object(c["P"])(r.successms),9,zt)])],32)])])])])])])}n("e9c4"),n("bf19");var Rt=n("aebf"),Jt=(n("1465"),{components:{Datepicker:Rt["a"]},name:"Register",data:function(){return{username:null,password:null,firstname:null,lastname:null,dob:null,address:null,email:null,phone:null,registeredOn:null,active:!0,dayLimit:0,transLimit:0,errorms:"",successms:""}},computed:Object(x["a"])(Object(x["a"])({},Object(I["b"])(["isLoggedIn"])),Object(I["b"])(["isAdmin"])),methods:{isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)&&46!==e))return!0;t.preventDefault()},registerUser:function(){var t=this,e={headers:{Accept:"application/json","Content-Type":"application/json"}},n=new Date,c=JSON.stringify({userTypes:["ROLE_CUSTOMER"],username:this.username,password:this.password,firstname:this.firstname,lastname:this.lastname,dob:this.dob,address:this.address,email:this.email,phone:this.phone,registeredOn:n.toJSON(),dayLimit:parseFloat(this.dayLimit),transLimit:parseFloat(this.transLimit),active:!0});B.post("users",c,e).then((function(e){t.$router.replace("/login"),console.log(e)})).catch((function(t){console.log(t)}))}}});n("9901");const Zt=A()(Jt,[["render",Ht],["__scopeId","data-v-751c72e6"]]);var Gt=Zt,Qt={key:0,class:"table-accounts mx-4 p-4"},te={class:"container"},ee={class:"button-container p-2 my-2"},ne=Object(c["i"])("h1",{class:"text-center text-muted"}," Here are all users who don't own a bank account yet ",-1),ce={class:"table align-middle mb-0 bg-white shadow-sm"},ie=Object(c["i"])("thead",{class:"bg-light"},[Object(c["i"])("tr",null,[Object(c["i"])("th",null,"id"),Object(c["i"])("th",null,"Username"),Object(c["i"])("th",null,"Fullname"),Object(c["i"])("th",null,"Email"),Object(c["i"])("th",null,"Phone"),Object(c["i"])("th",null,"Account")])],-1),re={key:0},oe=["user"],ae={class:"d-flex align-items-center"},se={class:"ms-3"},le={class:"text-muted mb-0"},ue={class:"fw-normal mb-1"},be={class:"badge text-primary badge-success rounded-pill d-inline"},de=Object(c["k"])("Add account");function pe(t,e,n,i,r,o){var a=this,s=Object(c["M"])("router-link");return t.isAdmin?(Object(c["E"])(),Object(c["h"])("section",Qt,[Object(c["i"])("div",te,[Object(c["i"])("div",ee,[Object(c["i"])("button",{onClick:e[0]||(e[0]=function(t){return a.$router.push("/home")}),class:"py-2 mx-2 btn btn-danger"}," Go Back ")]),ne,Object(c["i"])("table",ce,[ie,r.users?(Object(c["E"])(),Object(c["h"])("tbody",re,[(Object(c["E"])(!0),Object(c["h"])(c["a"],null,Object(c["K"])(r.users,(function(t){return Object(c["E"])(),Object(c["h"])("tr",{key:t.id,user:t},[Object(c["i"])("td",null,[Object(c["i"])("div",ae,[Object(c["i"])("div",se,[Object(c["i"])("p",le,Object(c["P"])(t.id),1)])])]),Object(c["i"])("td",null,[Object(c["i"])("p",ue,Object(c["P"])(t.username),1)]),Object(c["i"])("td",null,[Object(c["i"])("span",be,Object(c["P"])(t.firstname+" "+t.lastname),1)]),Object(c["i"])("td",null,Object(c["P"])(t.email),1),Object(c["i"])("td",null,Object(c["P"])(t.phone),1),Object(c["i"])("td",null,[Object(c["l"])(s,{to:"/addaccount",class:"btn btn-primary"},{default:Object(c["W"])((function(){return[de]})),_:1})])],8,oe)})),128))])):Object(c["g"])("",!0)])])])):Object(c["g"])("",!0)}var fe={name:"Users",computed:Object(x["a"])({},Object(I["b"])(["isAdmin"])),setup:function(){},data:function(){return{users:[]}},mounted:function(){var t=this,e=localStorage.getItem("token");B.request({url:"users/getAllWithoutAccount",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){t.users=e.data})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}))}};const je=A()(fe,[["render",pe]]);var Oe=je,he=function(t){return Object(c["H"])("data-v-2146a112"),t=t(),Object(c["F"])(),t},me={class:"container"},ge={key:0,class:"hello"},ve={key:0,class:"admin-menu"},ye={class:"text-center"},_e=he((function(){return Object(c["i"])("h2",{class:"text-center text-info"},"Employee menu",-1)})),we={class:"row"},ke={class:"col-sm-4"},xe={class:"card"},Ie={class:"card-body"},Ue=he((function(){return Object(c["i"])("h5",{class:"card-title"},"Manage accounts",-1)})),Se=he((function(){return Object(c["i"])("p",{class:"card-text"},"This is quick access to manage the accounts",-1)})),Ae=Object(c["k"])("Accounts view"),Ce={class:"col-sm-4"},De={class:"card"},Te={class:"card-body"},Pe=he((function(){return Object(c["i"])("h5",{class:"card-title"},"Manage users",-1)})),Ee=he((function(){return Object(c["i"])("p",{class:"card-text"},"This is quick access to manage the users",-1)})),$e=Object(c["k"])("User view"),Me={class:"admin-menu"},Le=he((function(){return Object(c["i"])("h2",{class:"text-center text-muted"},"Customer menu",-1)})),qe={class:"row"},Be={class:"col-sm-4"},Ke={class:"card"},Ve={class:"card-body"},Ne=he((function(){return Object(c["i"])("h5",{class:"card-title"},"Deposit",-1)})),Xe=he((function(){return Object(c["i"])("p",{class:"card-text"},"This is quick access to make a deposit",-1)})),Fe=Object(c["k"])("Deposit"),We={class:"col-sm-4"},Ye={class:"card"},ze={class:"card-body"},He=he((function(){return Object(c["i"])("h5",{class:"card-title"},"Withdraw",-1)})),Re=he((function(){return Object(c["i"])("p",{class:"card-text"},"This is quick access to make a withdrawal",-1)})),Je=Object(c["k"])("Withdraw"),Ze={class:"col-sm-4"},Ge={class:"card"},Qe={class:"card-body"},tn=he((function(){return Object(c["i"])("h5",{class:"card-title"},"Make a transaction",-1)})),en=he((function(){return Object(c["i"])("p",{class:"card-text"},"This is quick access to make a transaction",-1)})),nn=Object(c["k"])("Make transaction"),cn={class:"col-sm-4"},rn={class:"card mt-4"},on={class:"card-body"},an=he((function(){return Object(c["i"])("h5",{class:"card-title"},"View Transactions",-1)})),sn=he((function(){return Object(c["i"])("p",{class:"card-text"},"This is quick access to view your transactions",-1)})),ln=Object(c["k"])("View Transactions"),un={key:1,class:"text-center"},bn=he((function(){return Object(c["i"])("p",null,"You are not logged in. Please login!",-1)})),dn=he((function(){return Object(c["i"])("span",null,"Go to login",-1)}));function pn(t,e,n,i,r,o){var a=Object(c["M"])("router-link");return Object(c["E"])(),Object(c["h"])("div",me,[t.isLoggedIn?(Object(c["E"])(),Object(c["h"])("div",ge,[t.isAdmin?(Object(c["E"])(),Object(c["h"])("div",ve,[Object(c["i"])("h1",ye,"Welcome! "+Object(c["P"])(t.getUserName),1),_e,Object(c["i"])("div",we,[Object(c["i"])("div",ke,[Object(c["i"])("div",xe,[Object(c["i"])("div",Ie,[Ue,Se,Object(c["l"])(a,{to:"/accounts",class:"btn btn-primary"},{default:Object(c["W"])((function(){return[Ae]})),_:1})])])]),Object(c["i"])("div",Ce,[Object(c["i"])("div",De,[Object(c["i"])("div",Te,[Pe,Ee,Object(c["l"])(a,{to:"/users",class:"btn btn-primary"},{default:Object(c["W"])((function(){return[$e]})),_:1})])])])])])):Object(c["g"])("",!0),Object(c["i"])("div",Me,[Le,Object(c["i"])("div",qe,[Object(c["i"])("div",Be,[Object(c["i"])("div",Ke,[Object(c["i"])("div",Ve,[Ne,Xe,Object(c["l"])(a,{to:"/deposit",class:"btn btn-success text-white"},{default:Object(c["W"])((function(){return[Fe]})),_:1})])])]),Object(c["i"])("div",We,[Object(c["i"])("div",Ye,[Object(c["i"])("div",ze,[He,Re,Object(c["l"])(a,{to:"/withdraw",class:"btn btn-info text-white"},{default:Object(c["W"])((function(){return[Je]})),_:1})])])]),Object(c["i"])("div",Ze,[Object(c["i"])("div",Ge,[Object(c["i"])("div",Qe,[tn,en,Object(c["l"])(a,{to:"/transaction",class:"btn btn-warning text-white"},{default:Object(c["W"])((function(){return[nn]})),_:1})])])]),Object(c["i"])("div",cn,[Object(c["i"])("div",rn,[Object(c["i"])("div",on,[an,sn,Object(c["l"])(a,{to:"/transactions",class:"btn btn-primary"},{default:Object(c["W"])((function(){return[ln]})),_:1})])])])])])])):Object(c["g"])("",!0),t.isLoggedIn?Object(c["g"])("",!0):(Object(c["E"])(),Object(c["h"])("div",un,[bn,Object(c["l"])(a,{to:"/login",class:"btn w-100 text-center submit vue-butt btn-success btn-lg"},{default:Object(c["W"])((function(){return[dn]})),_:1})]))])}var fn={name:"HelloWorld",computed:Object(x["a"])(Object(x["a"])(Object(x["a"])(Object(x["a"])({},Object(I["b"])(["isLoggedIn"])),Object(I["b"])(["getUserName"])),Object(I["b"])(["getUserRole"])),Object(I["b"])(["isAdmin"]))};n("c82c");const jn=A()(fn,[["render",pn],["__scopeId","data-v-2146a112"]]);var On=jn,hn={key:0,class:"table-accounts mx-4 p-4"},mn={class:"container"},gn={class:"button-container p-2 my-2"},vn={class:"table align-middle mb-0 bg-white shadow-sm"},yn=Object(c["i"])("thead",{class:"bg-light"},[Object(c["i"])("tr",null,[Object(c["i"])("th",null,"IBan"),Object(c["i"])("th",null,"AccountType"),Object(c["i"])("th",null,"ActiveStatus"),Object(c["i"])("th",null,"Balance"),Object(c["i"])("th",null,"AbsLimit"),Object(c["i"])("th",null,"OwnerID")])],-1),_n=["account"],wn={class:"d-flex align-items-center"},kn={class:"ms-3"},xn={class:"text-muted mb-0"},In={class:"fw-normal mb-1"},Un={class:"badge text-primary badge-success rounded-pill d-inline"};function Sn(t,e,n,i,r,o){var a=this;return t.isAdmin?(Object(c["E"])(),Object(c["h"])("section",hn,[Object(c["i"])("div",mn,[Object(c["i"])("div",gn,[Object(c["i"])("button",{onClick:e[0]||(e[0]=function(t){return a.$router.push("/home")}),class:"py-2 mx-2 btn btn-danger"}," Go Back "),Object(c["i"])("button",{onClick:e[1]||(e[1]=function(t){return a.$router.push("/addaccount")}),class:"py-2 mx-2 btn btn-primary"}," Add new Account ")]),Object(c["i"])("table",vn,[yn,Object(c["i"])("tbody",null,[(Object(c["E"])(!0),Object(c["h"])(c["a"],null,Object(c["K"])(r.accounts,(function(t){return Object(c["E"])(),Object(c["h"])("tr",{key:t.id,account:t},[Object(c["i"])("td",null,[Object(c["i"])("div",wn,[Object(c["i"])("div",kn,[Object(c["i"])("p",xn,Object(c["P"])(t.iban),1)])])]),Object(c["i"])("td",null,[Object(c["i"])("p",In,Object(c["P"])(t.accountType),1)]),Object(c["i"])("td",null,[Object(c["i"])("span",Un,Object(c["P"])(t.active),1)]),Object(c["i"])("td",null,"â‚¬"+Object(c["P"])(t.balance),1),Object(c["i"])("td",null,"â‚¬"+Object(c["P"])(t.absLimit),1),Object(c["i"])("td",null,Object(c["P"])(t.ownerId),1)],8,_n)})),128))])])])])):Object(c["g"])("",!0)}var An={name:"Index",computed:Object(x["a"])({},Object(I["b"])(["isAdmin"])),setup:function(){},data:function(){return{accounts:[]}},mounted:function(){var t=this,e=localStorage.getItem("token");B.request({url:"accounts",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){t.accounts=e.data})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}))}};const Cn=A()(An,[["render",Sn]]);var Dn=Cn,Tn={key:0,class:"table-accounts mx-4 p-4"},Pn={class:"container"},En={class:"button-container p-2 my-2"},$n={class:"form-container"},Mn={class:"input-group mb-3"},Ln=Object(c["i"])("span",{class:"input-group-text"},"Search for user",-1),qn=["disabled"],Bn=["disabled"],Kn={class:"input-group mb-3"},Vn=["placeholder"],Nn={class:"form-container"},Xn=Object(c["i"])("h2",{class:"mt-3 mt-lg-5"},"Create an Account",-1),Fn=Object(c["i"])("h5",{class:"mb-4"},null,-1),Wn={id:"mainForm"},Yn={class:"input-group mb-3"},zn=Object(c["i"])("span",{class:"input-group-text"},"Absolute limit",-1),Hn=["disabled"],Rn={class:"input-group mb-3"},Jn=Object(c["i"])("span",{class:"input-group-text"},"Accounttype",-1),Zn={class:""},Gn=["disabled"],Qn={class:"input-group mb-3"},tc=Object(c["i"])("span",{class:"input-group-text"},"Balance",-1),ec=["disabled"],nc={class:"input-group mb-3"},cc=Object(c["i"])("span",{class:"input-group-text"},"Pincode",-1),ic={class:"input-wrapper"},rc={class:"input-group"},oc=["disabled"],ac=["disabled"],sc=["disabled"],lc=["disabled"],uc={class:"input-group mt-4"},bc=["v-if"];function dc(t,e,n,i,r,o){var a=this;return t.isAdmin?(Object(c["E"])(),Object(c["h"])("section",Tn,[Object(c["i"])("div",Pn,[Object(c["i"])("div",En,[Object(c["i"])("button",{onClick:e[0]||(e[0]=function(t){return a.$router.push("/accounts")}),class:"py-2 mx-2 btn btn-danger"}," Go Back ")]),Object(c["i"])("div",$n,[Object(c["i"])("form",{onSubmit:e[3]||(e[3]=Object(c["Z"])((function(){return o.addAccount&&o.addAccount.apply(o,arguments)}),["prevent"])),ref:"form"},[Object(c["i"])("div",Mn,[Ln,Object(c["X"])(Object(c["i"])("input",{disabled:!r.disable,type:"text","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.username=t}),class:"form-control"},null,8,qn),[[c["U"],r.username]]),Object(c["i"])("button",{type:"button",disabled:!r.disable,onClick:e[2]||(e[2]=function(t){return o.searchUser()}),class:"btn btn-success"}," Search User ",8,Bn)]),Object(c["i"])("div",Kn,[Object(c["i"])("input",{disabled:"",type:"text",placeholder:r.placeHolder,class:"text-center form-control"},null,8,Vn)])],544)]),Object(c["i"])("div",Nn,[Xn,Fn,Object(c["i"])("form",Wn,[Object(c["i"])("div",Yn,[zn,Object(c["X"])(Object(c["i"])("input",{onKeypress:e[4]||(e[4]=function(t){return o.isNumber(t)}),disabled:r.disable,"onUpdate:modelValue":e[5]||(e[5]=function(t){return r.abs=t}),required:"required",type:"text",class:"required form-control"},null,40,Hn),[[c["U"],r.abs]])]),Object(c["i"])("div",Rn,[Jn,Object(c["i"])("div",Zn,[Object(c["X"])(Object(c["i"])("select",{disabled:r.disable,"onUpdate:modelValue":e[6]||(e[6]=function(t){return r.selected=t})},[(Object(c["E"])(!0),Object(c["h"])(c["a"],null,Object(c["K"])(r.options,(function(t){return Object(c["E"])(),Object(c["h"])("option",{key:{value:t.value,text:t.text}},Object(c["P"])(t.text),1)})),128))],8,Gn),[[c["T"],r.selected]])])]),Object(c["i"])("div",Qn,[tc,Object(c["X"])(Object(c["i"])("input",{onKeypress:e[7]||(e[7]=function(t){return o.isNumber(t)}),disabled:r.disable,"onUpdate:modelValue":e[8]||(e[8]=function(t){return r.balance=t}),required:"",type:"text",class:"form-control"},null,40,ec),[[c["U"],r.balance]])]),Object(c["i"])("div",nc,[cc,Object(c["i"])("div",ic,[Object(c["i"])("div",null,[Object(c["i"])("div",rc,[Object(c["X"])(Object(c["i"])("input",{class:"form-control",disabled:r.disable,"onUpdate:modelValue":e[9]||(e[9]=function(t){return r.pin_0=t}),onKeyup:e[10]||(e[10]=Object(c["Y"])((function(t){return o.pin_focus("pin_1")}),["right"])),onKeypress:e[11]||(e[11]=function(t){return o.is_valid_pin_value(t,"pin_0")}),ref:"pin_0",type:"text",placeholder:"0"},null,40,oc),[[c["U"],r.pin_0,void 0,{number:!0}]]),Object(c["X"])(Object(c["i"])("input",{class:"form-control",disabled:r.disable,"onUpdate:modelValue":e[12]||(e[12]=function(t){return r.pin_1=t}),onKeyup:[e[13]||(e[13]=Object(c["Y"])((function(t){return o.pin_focus("pin_0")}),["left"])),e[14]||(e[14]=Object(c["Y"])((function(t){return o.pin_focus("pin_2")}),["right"]))],onKeypress:e[15]||(e[15]=function(t){return o.is_valid_pin_value(t,"pin_1")}),ref:"pin_1",type:"text",placeholder:"0"},null,40,ac),[[c["U"],r.pin_1,void 0,{number:!0}]]),Object(c["X"])(Object(c["i"])("input",{class:"form-control",disabled:r.disable,"onUpdate:modelValue":e[16]||(e[16]=function(t){return r.pin_2=t}),onKeyup:[e[17]||(e[17]=Object(c["Y"])((function(t){return o.pin_focus("pin_1")}),["left"])),e[18]||(e[18]=Object(c["Y"])((function(t){return o.pin_focus("pin_3")}),["right"]))],onKeypress:e[19]||(e[19]=function(t){return o.is_valid_pin_value(t,"pin_2")}),ref:"pin_2",type:"text",placeholder:"0"},null,40,sc),[[c["U"],r.pin_2,void 0,{number:!0}]]),Object(c["X"])(Object(c["i"])("input",{class:"form-control",disabled:r.disable,"onUpdate:modelValue":e[20]||(e[20]=function(t){return r.pin_3=t}),onKeyup:e[21]||(e[21]=Object(c["Y"])((function(t){return o.pin_focus("pin_2")}),["left"])),onKeypress:e[22]||(e[22]=function(t){return o.is_valid_pin_value(t,"pin_3")}),ref:"pin_3",type:"text",placeholder:"0"},null,40,lc),[[c["U"],r.pin_3,void 0,{number:!0}]])])])])]),Object(c["i"])("div",uc,[Object(c["i"])("button",{type:"button",class:"btn btn-primary",onClick:e[23]||(e[23]=function(t){return o.addAccount()})}," Create Account "),Object(c["i"])("button",{type:"button",class:"btn btn-danger",onClick:e[24]||(e[24]=function(t){return a.$router.push("/accounts")})}," Cancel "),Object(c["i"])("span",{"v-if":r.errMsg,class:"w-100 text-danger"},Object(c["P"])(r.errMsg),9,bc)])])])])])):Object(c["g"])("",!0)}var pc={name:"AddAccount",computed:Object(x["a"])(Object(x["a"])({},Object(I["b"])(["isLoggedIn"])),Object(I["b"])(["isAdmin"])),watch:{pin:function(){this.$bus.$emit("PIN/change",this.pin)},pin_0:function(t){0!==t.toString().length&&(this.$refs.pin_1.focus(),this.$refs.pin_1.select())},pin_1:function(t){0!==t.toString().length&&(this.$refs.pin_2.focus(),this.$refs.pin_2.select())},pin_2:function(t){0!==t.toString().length&&(this.$refs.pin_3.focus(),this.$refs.pin_3.select())}},data:function(){return{selected:"current",pin_0:null,pin_1:null,pin_2:null,pin_3:null,pinfull:null,options:[{text:"current",value:"current"},{text:"savings",value:"savings"}],username:"",placeHolder:"",fetchedUser:"",balance:"",ownerId:"",abs:"",errMsg:"",disable:!0}},methods:{pin_focus:function(t){this.$refs[t].focus(),this.$refs[t].select()},is_valid_pin_value:function(t,e){var n=String.fromCharCode(t.keyCode),c=null!==this[e]&&0===this.$refs[e].selectionStart&&this.$refs[e].selectionEnd===this[e].toString().length;if((null===this[e]||0===this[e].toString().length||c)&&parseInt(n,10)>=0&&parseInt(n,10)<=9)return!0;t.preventDefault()},isInt:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(e=e<=57)return!0;t.preventDefault()},isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)&&46!==e))return!0;t.preventDefault()},searchUser:function(){var t=this;console.log(this.username),B.get("users/getByUsername/"+this.username).then((function(e){t.placeHolder=e.data.firstname+" "+e.data.lastname,t.ownerId=e.data.id,t.fetchedUser=JSON.stringify(e.data),console.log(t.fetchedUser),t.disable=!1})).catch((function(t){console.log(t)}))},addAccount:function(){var t=this;if(null!=this.pin_0&&null!=this.pin_1&&null!=this.pin_2&&null!=this.pin_3){var e=this.pin_0.toString()+this.pin_1.toString()+this.pin_2.toString()+this.pin_3.toString(),n=JSON.stringify({accountType:this.selected.valueOf(),ownerId:this.ownerId,balance:parseFloat(this.balance),absLimit:parseFloat(this.abs),pinCode:parseInt(e),active:!0}),c=localStorage.getItem("token"),i={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}};B.post("accounts",n,i).then((function(e){console.log(e),t.$router.replace("/accounts")})).catch((function(e){console.log(e),t.errMsg="please fill in all the fields."}))}}}};const fc=A()(pc,[["render",dc]]);var jc=fc,Oc={key:0,class:"container"},hc=Object(c["i"])("h1",{class:"text-center my-2 text-muted"}," Please select an account in the dropdown ",-1),mc={class:"form-container"},gc={class:""},vc={key:0,class:"text-center text-muted"},yc={class:"input-group mx-0 text-center mb-3"},_c=["disabled"],wc=Object(c["i"])("option",{value:null,disabled:""},"Select Account",-1),kc={key:0,class:"form-hider"},xc={class:"input-group mb-3"},Ic=Object(c["i"])("span",{class:"input-group-text"},"Amount to deposit: â‚¬",-1),Uc={class:"input-group mb-3"},Sc=Object(c["i"])("span",{class:"input-group-text"},"Pincode",-1),Ac={class:"input-wrapper"},Cc={class:"input-group"},Dc=["disabled"],Tc=["disabled"],Pc=["disabled"],Ec=["disabled"],$c={class:"input-group mb-3"},Mc={key:0,class:"text-danger"};function Lc(t,e,n,i,r,o){return t.isLoggedIn?(Object(c["E"])(),Object(c["h"])("div",Oc,[hc,Object(c["i"])("div",mc,[Object(c["i"])("div",gc,[r.balance?(Object(c["E"])(),Object(c["h"])("h1",vc," Current account balance: â‚¬"+Object(c["P"])(r.balance),1)):Object(c["g"])("",!0)]),Object(c["i"])("div",yc,[Object(c["X"])(Object(c["i"])("select",{onChange:e[0]||(e[0]=function(t){return o.onChange(t)}),class:"w-100 text-center mx-0",disabled:r.disable,"onUpdate:modelValue":e[1]||(e[1]=function(t){return r.selected=t})},[wc,(Object(c["E"])(!0),Object(c["h"])(c["a"],null,Object(c["K"])(r.accounts,(function(t){return Object(c["E"])(),Object(c["h"])("option",{key:{value:t.iban}},Object(c["P"])(t.iban),1)})),128))],40,_c),[[c["T"],r.selected]])]),Object(c["i"])("form",{onSubmit:e[19]||(e[19]=Object(c["Z"])((function(){return t.login&&t.login.apply(t,arguments)}),["prevent"])),ref:"depoform"},[r.balance?(Object(c["E"])(),Object(c["h"])("div",kc,[Object(c["i"])("div",xc,[Ic,Object(c["X"])(Object(c["i"])("input",{onKeypress:e[2]||(e[2]=function(t){return o.isNumber(t)}),selected:"",type:"text",required:"required","onUpdate:modelValue":e[3]||(e[3]=function(t){return r.balInput=t}),class:"text-center form-control"},null,544),[[c["U"],r.balInput]])]),Object(c["i"])("div",Uc,[Sc,Object(c["i"])("div",Ac,[Object(c["i"])("div",null,[Object(c["i"])("div",Cc,[Object(c["X"])(Object(c["i"])("input",{class:"form-control",disabled:r.disable,"onUpdate:modelValue":e[4]||(e[4]=function(t){return r.pin_0=t}),onKeyup:e[5]||(e[5]=Object(c["Y"])((function(t){return o.pin_focus("pin_1")}),["right"])),onKeypress:e[6]||(e[6]=function(t){return o.is_valid_pin_value(t,"pin_0")}),ref:"pin_0",type:"text",placeholder:"0"},null,40,Dc),[[c["U"],r.pin_0,void 0,{number:!0}]]),Object(c["X"])(Object(c["i"])("input",{class:"form-control",disabled:r.disable,"onUpdate:modelValue":e[7]||(e[7]=function(t){return r.pin_1=t}),onKeyup:[e[8]||(e[8]=Object(c["Y"])((function(t){return o.pin_focus("pin_0")}),["left"])),e[9]||(e[9]=Object(c["Y"])((function(t){return o.pin_focus("pin_2")}),["right"]))],onKeypress:e[10]||(e[10]=function(t){return o.is_valid_pin_value(t,"pin_1")}),ref:"pin_1",type:"text",placeholder:"0"},null,40,Tc),[[c["U"],r.pin_1,void 0,{number:!0}]]),Object(c["X"])(Object(c["i"])("input",{class:"form-control",disabled:r.disable,"onUpdate:modelValue":e[11]||(e[11]=function(t){return r.pin_2=t}),onKeyup:[e[12]||(e[12]=Object(c["Y"])((function(t){return o.pin_focus("pin_1")}),["left"])),e[13]||(e[13]=Object(c["Y"])((function(t){return o.pin_focus("pin_3")}),["right"]))],onKeypress:e[14]||(e[14]=function(t){return o.is_valid_pin_value(t,"pin_2")}),ref:"pin_2",type:"text",placeholder:"0"},null,40,Pc),[[c["U"],r.pin_2,void 0,{number:!0}]]),Object(c["X"])(Object(c["i"])("input",{class:"form-control",disabled:r.disable,"onUpdate:modelValue":e[15]||(e[15]=function(t){return r.pin_3=t}),onKeyup:e[16]||(e[16]=Object(c["Y"])((function(t){return o.pin_focus("pin_2")}),["left"])),onKeypress:e[17]||(e[17]=function(t){return o.is_valid_pin_value(t,"pin_3")}),ref:"pin_3",type:"text",placeholder:"0"},null,40,Ec),[[c["U"],r.pin_3,void 0,{number:!0}]])])])])]),Object(c["i"])("div",$c,[Object(c["i"])("button",{type:"button",class:"w-100 btn btn-primary",onClick:e[18]||(e[18]=function(t){return o.deposit()})}," Deposit ")]),r.errorMsg?(Object(c["E"])(),Object(c["h"])("p",Mc,Object(c["P"])(r.errorMsg),1)):Object(c["g"])("",!0)])):Object(c["g"])("",!0)],544)])])):Object(c["g"])("",!0)}n("fb6a");var qc={name:"Deposit",computed:Object(x["a"])(Object(x["a"])(Object(x["a"])({},Object(I["b"])(["isAdmin"])),Object(I["b"])(["isLoggedIn"])),Object(I["b"])(["getuserID"])),data:function(){return{pin_0:null,pin_1:null,pin_2:null,pin_3:null,pinfull:null,pintoCheck:null,selected:"current",disable:!1,accounts:[],userID:"",balance:"",balInput:"",errorMsg:"",myIban:"",token:""}},watch:{pin:function(){this.$bus.$emit("PIN/change",this.pin)},pin_0:function(t){0!==t.toString().length&&(this.$refs.pin_1.focus(),this.$refs.pin_1.select())},pin_1:function(t){0!==t.toString().length&&(this.$refs.pin_2.focus(),this.$refs.pin_2.select())},pin_2:function(t){0!==t.toString().length&&(this.$refs.pin_3.focus(),this.$refs.pin_3.select())}},mounted:function(){var t=this;this.token=localStorage.getItem("token"),this.userID=localStorage.getItem("userID"),B.request({url:"accounts/getByUserID/"+this.userID,method:"get",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(this.token)}}).then((function(e){console.log(e.data),t.accounts=e.data})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}))},methods:{isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)&&46!==e))return!0;t.preventDefault()},pin_focus:function(t){this.$refs[t].focus(),this.$refs[t].select()},is_valid_pin_value:function(t,e){var n=String.fromCharCode(t.keyCode),c=null!==this[e]&&0===this.$refs[e].selectionStart&&this.$refs[e].selectionEnd===this[e].toString().length;if((null===this[e]||0===this[e].toString().length||c)&&parseInt(n,10)>=0&&parseInt(n,10)<=9)return!0;t.preventDefault()},deposit:function(){if(""!=this.balInput&&null!=this.pin_0&&null!=this.pin_1&&null!=this.pin_2&&null!=this.pin_3){var t=this.pin_0.toString()+this.pin_1.toString()+this.pin_2.toString()+this.pin_3.toString(),e=parseFloat(this.balInput);t==this.pintoCheck&&e?(this.pinfull=parseInt(t),this.depositAxios()):this.errorMsg="Pincode is incorrect",console.log(t+this.pintoCheck)}else this.errorMsg="please fill in all the fields"},depositAxios:function(){var t=this,e=new Date,n=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2),c=JSON.stringify({transactionType:"deposit",timestamp:n,amount:parseFloat(this.balInput),userPerforming:this.userID,from:"NL01INHO0000000001",to:this.myIban,pincode:this.pinfull}),i={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}};B.post("transactions",c,i).then((function(e){console.log(e),t.$router.replace("/transactions")})).catch((function(e){t.errorMsg=e.response.data.reason}))},onChange:function(t){var e=this;B.request({url:"accounts/getByIban/"+t.target.value,method:"get",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(this.token)}}).then((function(t){e.pin_0=null,e.pin_1=null,e.pin_2=null,e.pin_3=null,e.balInput=null,e.errorMsg="",e.balance=t.data.balance,e.pintoCheck=t.data.pinCode,e.myIban=t.data.iban,e.$refs.depoform.reset()})).catch((function(t){console.log(t)})).finally((function(){return e.loading=!1}))}}};const Bc=A()(qc,[["render",Lc]]);var Kc=Bc,Vc={key:0,class:"container"},Nc=Object(c["i"])("h1",{class:"text-center my-2 text-muted"}," Please select an account in the dropdown ",-1),Xc={class:"form-container"},Fc={class:""},Wc={key:0,class:"text-center text-muted"},Yc={class:"input-group mx-0 text-center mb-3"},zc=["disabled"],Hc=Object(c["i"])("option",{value:null,disabled:""},"Select Account",-1),Rc={key:0,class:"form-hider"},Jc={class:"input-group mb-3"},Zc=Object(c["i"])("span",{class:"input-group-text"},"Amount to withdraw: â‚¬",-1),Gc={class:"input-group mb-3"},Qc=Object(c["i"])("span",{class:"input-group-text"},"Pincode",-1),ti={class:"input-wrapper"},ei={class:"input-group"},ni=["disabled"],ci=["disabled"],ii=["disabled"],ri=["disabled"],oi={class:"input-group mb-3"},ai={key:0,class:"text-danger"};function si(t,e,n,i,r,o){return t.isLoggedIn?(Object(c["E"])(),Object(c["h"])("div",Vc,[Nc,Object(c["i"])("div",Xc,[Object(c["i"])("div",Fc,[r.balance?(Object(c["E"])(),Object(c["h"])("h1",Wc," Current account balance: â‚¬"+Object(c["P"])(r.balance),1)):Object(c["g"])("",!0)]),Object(c["i"])("div",Yc,[Object(c["X"])(Object(c["i"])("select",{onChange:e[0]||(e[0]=function(t){return o.onChange(t)}),class:"w-100 text-center mx-0",disabled:r.disable,"onUpdate:modelValue":e[1]||(e[1]=function(t){return r.selected=t})},[Hc,(Object(c["E"])(!0),Object(c["h"])(c["a"],null,Object(c["K"])(r.accounts,(function(t){return Object(c["E"])(),Object(c["h"])("option",{key:{value:t.iban}},Object(c["P"])(t.iban),1)})),128))],40,zc),[[c["T"],r.selected]])]),Object(c["i"])("form",{onSubmit:e[19]||(e[19]=Object(c["Z"])((function(){return t.login&&t.login.apply(t,arguments)}),["prevent"])),ref:"depoform"},[r.balance?(Object(c["E"])(),Object(c["h"])("div",Rc,[Object(c["i"])("div",Jc,[Zc,Object(c["X"])(Object(c["i"])("input",{onKeypress:e[2]||(e[2]=function(t){return o.isNumber(t)}),selected:"",type:"text",required:"required","onUpdate:modelValue":e[3]||(e[3]=function(t){return r.balInput=t}),class:"text-center form-control"},null,544),[[c["U"],r.balInput]])]),Object(c["i"])("div",Gc,[Qc,Object(c["i"])("div",ti,[Object(c["i"])("div",null,[Object(c["i"])("div",ei,[Object(c["X"])(Object(c["i"])("input",{class:"form-control",disabled:r.disable,"onUpdate:modelValue":e[4]||(e[4]=function(t){return r.pin_0=t}),onKeyup:e[5]||(e[5]=Object(c["Y"])((function(t){return o.pin_focus("pin_1")}),["right"])),onKeypress:e[6]||(e[6]=function(t){return o.is_valid_pin_value(t,"pin_0")}),ref:"pin_0",type:"text",placeholder:"0"},null,40,ni),[[c["U"],r.pin_0,void 0,{number:!0}]]),Object(c["X"])(Object(c["i"])("input",{class:"form-control",disabled:r.disable,"onUpdate:modelValue":e[7]||(e[7]=function(t){return r.pin_1=t}),onKeyup:[e[8]||(e[8]=Object(c["Y"])((function(t){return o.pin_focus("pin_0")}),["left"])),e[9]||(e[9]=Object(c["Y"])((function(t){return o.pin_focus("pin_2")}),["right"]))],onKeypress:e[10]||(e[10]=function(t){return o.is_valid_pin_value(t,"pin_1")}),ref:"pin_1",type:"text",placeholder:"0"},null,40,ci),[[c["U"],r.pin_1,void 0,{number:!0}]]),Object(c["X"])(Object(c["i"])("input",{class:"form-control",disabled:r.disable,"onUpdate:modelValue":e[11]||(e[11]=function(t){return r.pin_2=t}),onKeyup:[e[12]||(e[12]=Object(c["Y"])((function(t){return o.pin_focus("pin_1")}),["left"])),e[13]||(e[13]=Object(c["Y"])((function(t){return o.pin_focus("pin_3")}),["right"]))],onKeypress:e[14]||(e[14]=function(t){return o.is_valid_pin_value(t,"pin_2")}),ref:"pin_2",type:"text",placeholder:"0"},null,40,ii),[[c["U"],r.pin_2,void 0,{number:!0}]]),Object(c["X"])(Object(c["i"])("input",{class:"form-control",disabled:r.disable,"onUpdate:modelValue":e[15]||(e[15]=function(t){return r.pin_3=t}),onKeyup:e[16]||(e[16]=Object(c["Y"])((function(t){return o.pin_focus("pin_2")}),["left"])),onKeypress:e[17]||(e[17]=function(t){return o.is_valid_pin_value(t,"pin_3")}),ref:"pin_3",type:"text",placeholder:"0"},null,40,ri),[[c["U"],r.pin_3,void 0,{number:!0}]])])])])]),Object(c["i"])("div",oi,[Object(c["i"])("button",{type:"button",class:"w-100 btn btn-primary",onClick:e[18]||(e[18]=function(t){return o.withdraw()})}," Withdraw ")]),r.errorMsg?(Object(c["E"])(),Object(c["h"])("p",ai,Object(c["P"])(r.errorMsg),1)):Object(c["g"])("",!0)])):Object(c["g"])("",!0)],544)])])):Object(c["g"])("",!0)}var li={name:"Withdraw",computed:Object(x["a"])(Object(x["a"])(Object(x["a"])({},Object(I["b"])(["isAdmin"])),Object(I["b"])(["isLoggedIn"])),Object(I["b"])(["getuserID"])),data:function(){return{pin_0:null,pin_1:null,pin_2:null,pin_3:null,pinfull:null,pintoCheck:null,selected:"current",disable:!1,accounts:[],userID:"",balance:"",balInput:"",errorMsg:"",myIban:"",token:"",absLimit:""}},watch:{pin:function(){this.$bus.$emit("PIN/change",this.pin)},pin_0:function(t){0!==t.toString().length&&(this.$refs.pin_1.focus(),this.$refs.pin_1.select())},pin_1:function(t){0!==t.toString().length&&(this.$refs.pin_2.focus(),this.$refs.pin_2.select())},pin_2:function(t){0!==t.toString().length&&(this.$refs.pin_3.focus(),this.$refs.pin_3.select())}},mounted:function(){var t=this;this.token=localStorage.getItem("token"),this.userID=localStorage.getItem("userID"),B.request({url:"accounts/getByUserID/"+this.userID,method:"get",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(this.token)}}).then((function(e){console.log(e.data),t.accounts=e.data})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}))},methods:{isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)&&46!==e))return!0;t.preventDefault()},pin_focus:function(t){this.$refs[t].focus(),this.$refs[t].select()},is_valid_pin_value:function(t,e){var n=String.fromCharCode(t.keyCode),c=null!==this[e]&&0===this.$refs[e].selectionStart&&this.$refs[e].selectionEnd===this[e].toString().length;if((null===this[e]||0===this[e].toString().length||c)&&parseInt(n,10)>=0&&parseInt(n,10)<=9)return!0;t.preventDefault()},withdraw:function(){if(""!=this.balInput&&null!=this.pin_0&&null!=this.pin_1&&null!=this.pin_2&&null!=this.pin_3){var t=this.pin_0.toString()+this.pin_1.toString()+this.pin_2.toString()+this.pin_3.toString(),e=parseFloat(this.balInput);this.balance-e<this.absLimit?this.errorMsg="Cannot create transaction; Cannot exceed absolute limit.":t==this.pintoCheck&&e?(this.pinfull=parseInt(t),this.withdrawAxios()):this.errorMsg="Pincode is incorrect"}else this.errorMsg="please fill in all the fields"},withdrawAxios:function(){var t=this,e=new Date,n=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2),c=JSON.stringify({transactionType:"withdraw",timestamp:n,amount:parseFloat(this.balInput),userPerforming:this.userID,to:"NL01INHO0000000001",from:this.myIban,pincode:this.pinfull}),i={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}};B.post("transactions",c,i).then((function(e){console.log(e),t.$router.replace("/transactions")})).catch((function(e){console.log(c),console.log(e),t.errorMsg=e.response.data.reason}))},onChange:function(t){var e=this;B.request({url:"accounts/getByIban/"+t.target.value,method:"get",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(this.token)}}).then((function(t){e.pin_0=null,e.pin_1=null,e.pin_2=null,e.pin_3=null,e.balInput=null,e.errorMsg="",e.balance=t.data.balance,e.pintoCheck=t.data.pinCode,e.myIban=t.data.iban,e.absLimit=t.data.absLimit,e.$refs.depoform.reset()})).catch((function(t){console.log(t)})).finally((function(){return e.loading=!1}))}}};const ui=A()(li,[["render",si]]);var bi=ui,di={key:0,class:"container"},pi=Object(c["i"])("h1",{class:"text-center my-2 text-muted"}," Please select an account in the dropdown ",-1),fi={class:"form-container"},ji={class:""},Oi={key:0,class:"text-center text-muted"},hi={class:"input-group mx-0 text-center mb-3"},mi=["disabled"],gi=Object(c["i"])("option",{value:null,disabled:""},"Select Account",-1),vi={key:0,class:"input-group mb-3"},yi=Object(c["i"])("span",{class:"input-group-text"},"Iban to make a deposit to",-1),_i=["disabled"],wi=["disabled"],ki={key:0,class:"form-hider"},xi={class:"input-group mb-3"},Ii=Object(c["i"])("span",{class:"input-group-text"},"Amount to transfer: â‚¬",-1),Ui={class:"input-group mb-3"},Si={key:0,class:"text-danger"};function Ai(t,e,n,i,r,o){return t.isLoggedIn?(Object(c["E"])(),Object(c["h"])("div",di,[pi,Object(c["i"])("div",fi,[Object(c["i"])("div",ji,[r.balance?(Object(c["E"])(),Object(c["h"])("h1",Oi," Current account balance: â‚¬"+Object(c["P"])(r.balance),1)):Object(c["g"])("",!0)]),Object(c["i"])("div",hi,[Object(c["X"])(Object(c["i"])("select",{onChange:e[0]||(e[0]=function(t){return o.onChange(t)}),class:"w-100 text-center mx-0",disabled:r.disable,"onUpdate:modelValue":e[1]||(e[1]=function(t){return r.selected=t})},[gi,(Object(c["E"])(!0),Object(c["h"])(c["a"],null,Object(c["K"])(r.accounts,(function(t){return Object(c["E"])(),Object(c["h"])("option",{key:{value:t.iban}},Object(c["P"])(t.iban),1)})),128))],40,mi),[[c["T"],r.selected]])]),r.balance?(Object(c["E"])(),Object(c["h"])("div",vi,[yi,Object(c["X"])(Object(c["i"])("input",{disabled:r.disable,type:"text","onUpdate:modelValue":e[2]||(e[2]=function(t){return r.ibanSearch=t}),class:"form-control"},null,8,_i),[[c["U"],r.ibanSearch]]),Object(c["i"])("button",{type:"button",disabled:r.disable,onClick:e[3]||(e[3]=function(t){return o.searchAccount()}),class:"btn btn-success"}," Search Iban ",8,wi)])):Object(c["g"])("",!0),Object(c["i"])("form",{onSubmit:e[7]||(e[7]=Object(c["Z"])((function(){return t.login&&t.login.apply(t,arguments)}),["prevent"])),ref:"depoform"},[r.balance?(Object(c["E"])(),Object(c["h"])("div",ki,[Object(c["i"])("div",xi,[Ii,Object(c["X"])(Object(c["i"])("input",{onKeypress:e[4]||(e[4]=function(t){return o.isNumber(t)}),selected:"",type:"text",required:"required","onUpdate:modelValue":e[5]||(e[5]=function(t){return r.balInput=t}),class:"text-center form-control"},null,544),[[c["U"],r.balInput]])]),Object(c["i"])("div",Ui,[Object(c["i"])("button",{type:"button",class:"w-100 btn btn-primary",onClick:e[6]||(e[6]=function(t){return o.makeTrans()})}," Transfer ")]),r.errorMsg?(Object(c["E"])(),Object(c["h"])("p",Si,Object(c["P"])(r.errorMsg),1)):Object(c["g"])("",!0)])):Object(c["g"])("",!0)],544)])])):Object(c["g"])("",!0)}var Ci={name:"MakeTrans",computed:Object(x["a"])(Object(x["a"])(Object(x["a"])({},Object(I["b"])(["isAdmin"])),Object(I["b"])(["isLoggedIn"])),Object(I["b"])(["getuserID"])),setup:function(){},data:function(){return{selected:"current",disable:!1,accounts:[],userID:"",balance:"",balInput:"",errorMsg:"",myIban:"",toIban:"",token:"",ibanSearch:"",fetchedAccount:[]}},mounted:function(){var t=this;this.token=localStorage.getItem("token"),this.userID=localStorage.getItem("userID"),B.request({url:"accounts/getByUserID/"+this.userID,method:"get",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(this.token)}}).then((function(e){console.log(e.data),t.accounts=e.data})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}))},methods:{searchAccount:function(){var t=this;B.get("accounts/getByIban/"+this.ibanSearch).then((function(e){t.fetchedAccount=e.data,t.toIban=e.data.iban,t.disable=!0,console.log(t.fetchedAccount)})).catch((function(e){t.errorMsg=e,console.log(e)}))},isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)&&46!==e))return!0;t.preventDefault()},makeTrans:function(){var t=parseFloat(this.balInput);this.myIban!=this.toIban?(this.toIban?t?this.myIban?this.makeTransAxios():this.errorMsg="Something went wrong selecting your iban.":this.errorMsg="Your balance is too low":this.errorMsg="No correct iban has been set to make a transaction",console.log(t)):this.errorMsg="Iban cant be the same you are transfering to"},makeTransAxios:function(){var t=this,e=new Date,n=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2),c=JSON.stringify({transactionType:"regular",timestamp:n,amount:this.balInput,userPerforming:this.userID,from:this.myIban,to:this.toIban,pincode:null}),i={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)}};B.post("transactions",c,i).then((function(e){console.log(e),t.$router.replace("/accounts")})).catch((function(e){t.errorMsg=e.response.data.reason,console.log(e)}))},onChange:function(t){var e=this;B.request({url:"accounts/getByIban/"+t.target.value,method:"get",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(this.token)}}).then((function(t){e.balInput=null,e.errorMsg="",e.balance=t.data.balance,e.myIban=t.data.iban,e.$refs.depoform.reset()})).catch((function(t){console.log(t)})).finally((function(){return e.loading=!1}))}}};const Di=A()(Ci,[["render",Ai]]);var Ti=Di,Pi={class:"table-transactions mx-4 p-4"},Ei={class:"container"},$i={class:"button-container p-2 my-2"},Mi={class:"table align-middle mb-0 bg-white shadow-sm"},Li={class:"bg-light"};function qi(t,e,n,i,r,o){var a=this;return Object(c["E"])(),Object(c["h"])("section",Pi,[Object(c["i"])("div",Ei,[Object(c["i"])("div",$i,[Object(c["i"])("button",{onClick:e[0]||(e[0]=function(t){return a.$router.push("/home")}),class:"py-2 mx-2 btn btn-danger"}," Go Back ")]),Object(c["i"])("table",Mi,[Object(c["i"])("thead",Li,[Object(c["i"])("tr",null,[Object(c["i"])("th",{onClick:e[1]||(e[1]=function(t){return o.sortBy("from")})},"From"),Object(c["i"])("th",{onClick:e[2]||(e[2]=function(t){return o.sortBy("to")})},"To"),Object(c["i"])("th",{onClick:e[3]||(e[3]=function(t){return o.sortBy("amount")})},"Amount"),Object(c["i"])("th",{onClick:e[4]||(e[4]=function(t){return o.sortBy("timestamp")})},"Date"),Object(c["i"])("th",{onClick:e[5]||(e[5]=function(t){return o.sortBy("transactionType")})},"Type")])]),Object(c["i"])("tbody",null,[(Object(c["E"])(!0),Object(c["h"])(c["a"],null,Object(c["K"])(o.sortedTransactions,(function(t){return Object(c["E"])(),Object(c["h"])("tr",{key:t.id},[Object(c["i"])("td",null,Object(c["P"])(o.extractIBAN(t.from)),1),Object(c["i"])("td",null,Object(c["P"])(t.to),1),Object(c["i"])("td",null,"â‚¬"+Object(c["P"])(t.amount),1),Object(c["i"])("td",null,Object(c["P"])(o.formatDate(t.timestamp)),1),Object(c["i"])("td",null,Object(c["P"])(t.transactionType),1)])})),128))])])])])}var Bi=n("2909"),Ki=(n("4e82"),{name:"UserTransactions",computed:Object(x["a"])(Object(x["a"])({},Object(I["b"])(["getUserName"])),{},{sortedTransactions:function(){return Object(Bi["a"])(this.transactions)}}),data:function(){return{transactions:[],sortKey:"",sortOrder:1}},methods:{formatDate:function(t){var e=new Date(t);return e.toLocaleString()},extractIBAN:function(t){var e=t.indexOf("iban=")+5,n=t.indexOf(",",e);return t.substring(e,n)},sortBy:function(t){var e=this;this.sortKey===t?this.sortOrder=-this.sortOrder:(this.sortKey=t,this.sortOrder=1),this.transactions.sort((function(n,c){var i=n[t],r=c[t];return e.sortOrder*(i<r?-1:i>r?1:0)}))}},mounted:function(){var t=this,e=localStorage.getItem("token");B.get("transactions/user",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){t.transactions=e.data})).catch((function(e){console.log(e),t.errored=!0}))}});const Vi=A()(Ki,[["render",qi]]);var Ni=Vi,Xi=[{path:"/",component:dt},{path:"/login",component:dt},{path:"/register",component:Gt},{path:"/users",component:Oe},{path:"/home",component:On},{path:"/accounts",component:Dn},{path:"/addaccount",component:jc},{path:"/deposit",component:Kc},{path:"/withdraw",component:bi},{path:"/transaction",component:Ti},{path:"/transactions",component:Ni}],Fi=Object($["a"])({history:Object($["b"])(),routes:Xi}),Wi=Object(c["e"])(E);Wi.use(Fi),Wi.use(V),Wi.mount("#app")},"7ae9":function(t,e,n){},"8e60":function(t,e,n){},9901:function(t,e,n){"use strict";n("7ae9")},c82c:function(t,e,n){"use strict";n("124e")},d6b9:function(t,e,n){t.exports=n.p+"img/inhollandbank.f5ac0ae1.png"}});
//# sourceMappingURL=app.6be64dee.js.map