{"remainingRequest":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\AllTransactions.vue?vue&type=template&id=382b42cc","dependencies":[{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\AllTransactions.vue","mtime":1720720628798},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719996933867},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1719997025590},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1719996935780},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719996933867},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1719996935174}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxzZWN0aW9uIGNsYXNzPSJ0YWJsZS10cmFuc2FjdGlvbnMgbXgtNCBwLTQiPg0KICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+DQogICAgICA8ZGl2IGNsYXNzPSJidXR0b24tY29udGFpbmVyIHAtMiBteS0yIj4NCiAgICAgICAgPGJ1dHRvbiBAY2xpY2s9ImdvQmFjayIgY2xhc3M9InB5LTIgbXgtMiBidG4gYnRuLWRhbmdlciI+R28gQmFjazwvYnV0dG9uPg0KICAgICAgPC9kaXY+DQoNCiAgICAgIDxkaXYgY2xhc3M9InNlYXJjaC11c2VyLWZvcm0gcC0yIG15LTIiPg0KICAgICAgICA8bGFiZWwgZm9yPSJzZWFyY2hVc2VySW5wdXQiIGNsYXNzPSJmb3JtLWxhYmVsIj5TZWFyY2ggVXNlcjo8L2xhYmVsPg0KICAgICAgICA8ZGl2IGNsYXNzPSJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIj4NCiAgICAgICAgICA8aW5wdXQNCiAgICAgICAgICAgIHR5cGU9InRleHQiDQogICAgICAgICAgICBpZD0ic2VhcmNoVXNlcklucHV0Ig0KICAgICAgICAgICAgdi1tb2RlbD0ic2VhcmNoVXNlclF1ZXJ5Ig0KICAgICAgICAgICAgY2xhc3M9ImZvcm0tY29udHJvbCINCiAgICAgICAgICAgIHBsYWNlaG9sZGVyPSJFbnRlciB1c2VybmFtZSINCiAgICAgICAgICAvPg0KICAgICAgICAgIDxidXR0b24gQGNsaWNrPSJzZWFyY2hVc2VyIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IG1zLTIiPlNlYXJjaDwvYnV0dG9uPg0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KICAgICAgPGRpdiB2LWlmPSJlcnJvck1lc3NhZ2UiIGNsYXNzPSJ0ZXh0LWRhbmdlciI+e3sgZXJyb3JNZXNzYWdlIH19PC9kaXY+DQogICAgICA8dGFibGUNCiAgICAgICAgdi1pZj0idHJhbnNhY3Rpb25zLmxlbmd0aCA+IDAiDQogICAgICAgIGNsYXNzPSJ0YWJsZSBhbGlnbi1taWRkbGUgbWItMCBiZy13aGl0ZSBzaGFkb3ctc20iDQogICAgICA+DQogICAgICAgIDx0aGVhZCBjbGFzcz0iYmctbGlnaHQiPg0KICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgIDx0aD5Gcm9tPC90aD4NCiAgICAgICAgICAgIDx0aD5UbzwvdGg+DQogICAgICAgICAgICA8dGg+QW1vdW50PC90aD4NCiAgICAgICAgICAgIDx0aD5EYXRlPC90aD4NCiAgICAgICAgICAgIDx0aD5Jbml0aWF0b3I8L3RoPg0KICAgICAgICAgICAgPHRoPlR5cGU8L3RoPg0KICAgICAgICAgIDwvdHI+DQogICAgICAgIDwvdGhlYWQ+DQogICAgICAgIDx0Ym9keT4NCiAgICAgICAgICA8dHIgdi1mb3I9InRyYW5zYWN0aW9uIGluIHRyYW5zYWN0aW9ucyIgOmtleT0idHJhbnNhY3Rpb24uaWQiPg0KICAgICAgICAgICAgPHRkPnt7IGV4dHJhY3RJQkFOKHRyYW5zYWN0aW9uLmZyb20pIH19PC90ZD4NCiAgICAgICAgICAgIDx0ZD57eyB0cmFuc2FjdGlvbi50byB9fTwvdGQ+DQogICAgICAgICAgICA8dGQ+4oKse3sgdHJhbnNhY3Rpb24uYW1vdW50IH19PC90ZD4NCiAgICAgICAgICAgIDx0ZD57eyBmb3JtYXREYXRlKHRyYW5zYWN0aW9uLnRpbWVzdGFtcCkgfX08L3RkPg0KICAgICAgICAgICAgPHRkPnt7IGdldFVzZXJUeXBlcyh0cmFuc2FjdGlvbi51c2VyUGVyZm9ybWluZykgfX08L3RkPg0KICAgICAgICAgICAgPHRkPnt7IHRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uVHlwZSB9fTwvdGQ+DQogICAgICAgICAgPC90cj4NCiAgICAgICAgPC90Ym9keT4NCiAgICAgIDwvdGFibGU+DQogICAgICA8ZGl2IHYtZWxzZSBjbGFzcz0idGV4dC1jZW50ZXIgcC00Ij5ObyB0cmFuc2FjdGlvbnMgZm91bmQuPC9kaXY+DQogICAgPC9kaXY+DQogIDwvc2VjdGlvbj4NCg=="},{"version":3,"sources":["C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\AllTransactions.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1E,CAAC,CAAC,CAAC,CAAC,CAAC;;MAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAA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","file":"C:/Users/31624/Documents/GitHub/frontend-bankapi-vue/src/components/transactions/AllTransactions.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <section class=\"table-transactions mx-4 p-4\">\r\n    <div class=\"container\">\r\n      <div class=\"button-container p-2 my-2\">\r\n        <button @click=\"goBack\" class=\"py-2 mx-2 btn btn-danger\">Go Back</button>\r\n      </div>\r\n\r\n      <div class=\"search-user-form p-2 my-2\">\r\n        <label for=\"searchUserInput\" class=\"form-label\">Search User:</label>\r\n        <div class=\"d-flex align-items-center\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"searchUserInput\"\r\n            v-model=\"searchUserQuery\"\r\n            class=\"form-control\"\r\n            placeholder=\"Enter username\"\r\n          />\r\n          <button @click=\"searchUser\" class=\"btn btn-primary ms-2\">Search</button>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"errorMessage\" class=\"text-danger\">{{ errorMessage }}</div>\r\n      <table\r\n        v-if=\"transactions.length > 0\"\r\n        class=\"table align-middle mb-0 bg-white shadow-sm\"\r\n      >\r\n        <thead class=\"bg-light\">\r\n          <tr>\r\n            <th>From</th>\r\n            <th>To</th>\r\n            <th>Amount</th>\r\n            <th>Date</th>\r\n            <th>Initiator</th>\r\n            <th>Type</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"transaction in transactions\" :key=\"transaction.id\">\r\n            <td>{{ extractIBAN(transaction.from) }}</td>\r\n            <td>{{ transaction.to }}</td>\r\n            <td>â‚¬{{ transaction.amount }}</td>\r\n            <td>{{ formatDate(transaction.timestamp) }}</td>\r\n            <td>{{ getUserTypes(transaction.userPerforming) }}</td>\r\n            <td>{{ transaction.transactionType }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div v-else class=\"text-center p-4\">No transactions found.</div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"../../axios-auth\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"AllTransactions\",\r\n  computed: {\r\n    ...mapGetters([\"getUserName\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      transactions: [],\r\n      userMap: {},\r\n      searchUserQuery: \"\",\r\n      selectedUser: null,\r\n      errorMessage: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    formatDate(dateString) {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleString();\r\n    },\r\n    extractIBAN(fromField) {\r\n      const startIndex = fromField.indexOf(\"iban=\") + 5;\r\n      const endIndex = fromField.indexOf(\",\", startIndex);\r\n      return fromField.substring(startIndex, endIndex);\r\n    },\r\n    async fetchTransactions() {\r\n      try {\r\n        let token = localStorage.getItem(\"token\");\r\n        const response = await axios.get(\"transactions/employee\", {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        this.transactions = response.data.sort(\r\n          (a, b) => new Date(b.timestamp) - new Date(a.timestamp)\r\n        );\r\n        await this.fetchUserDetails();\r\n      } catch (error) {\r\n        console.error(\"Error fetching transactions:\", error);\r\n      }\r\n    },\r\n    async fetchUserDetails() {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const userIds = [...new Set(this.transactions.map((t) => t.userPerforming))];\r\n\r\n        const userRequests = userIds.map((id) =>\r\n          axios.get(`users/${id}`, {\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          })\r\n        );\r\n\r\n        const responses = await Promise.all(userRequests);\r\n        const userMap = {};\r\n        responses.forEach((response) => {\r\n          const userId = response.data.id;\r\n          const role = response.data.userTypes;\r\n          userMap[userId] = role.includes(\"ROLE_EMPLOYEE\") ? \"Employee\" : \"Customer\";\r\n        });\r\n        this.userMap = userMap;\r\n      } catch (error) {\r\n        console.error(\"Error fetching user details:\", error);\r\n      }\r\n    },\r\n    async searchUser() {\r\n      if (this.searchUserQuery.trim() === \"\") {\r\n        this.errorMessage = \"Please enter a username to search.\";\r\n        return;\r\n      }\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const response = await axios.get(`users/username/${this.searchUserQuery}`, {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        this.selectedUser = response.data;\r\n        await this.fetchTransactionsForUser(this.selectedUser.id);\r\n        this.errorMessage = \"\";\r\n      } catch (error) {\r\n        console.error(\"Error searching user:\", error);\r\n        this.errorMessage = \"User not found.\";\r\n        this.transactions = [];\r\n      }\r\n    },\r\n    async fetchTransactionsForUser(userId) {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const response = await axios.get(`transactions/employee?userId=${userId}`, {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        this.transactions = response.data.sort(\r\n          (a, b) => new Date(b.timestamp) - new Date(a.timestamp)\r\n        );\r\n        this.fetchUserDetails();\r\n      } catch (error) {\r\n        console.error(\"Error fetching transactions for user:\", error);\r\n        if (error.response && error.response.data && error.response.data.reason) {\r\n          this.errorMessage = error.response.data.reason;\r\n        } else {\r\n          this.errorMessage = \"An error occurred while fetching transactions.\";\r\n        }\r\n        this.transactions = [];\r\n      }\r\n    },\r\n    goBack() {\r\n      this.$router.push(\"/home\");\r\n    },\r\n    getUserTypes(userId) {\r\n      return this.userMap[userId];\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchTransactions();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"]}]}