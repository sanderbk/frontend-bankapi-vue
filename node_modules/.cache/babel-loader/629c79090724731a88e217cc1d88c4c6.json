{"remainingRequest":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\store\\store.js","dependencies":[{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\store\\store.js","mtime":1718036833159},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\babel.config.js","mtime":1718036833122},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718062523967},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1718062524944},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\eslint-loader\\index.js","mtime":1718062524226}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICIuLi9heGlvcy1hdXRoIjsKdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUoewogIHN0YXRlOiBmdW5jdGlvbiBzdGF0ZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRva2VuOiBudWxsLAogICAgICB1c2VybmFtZTogbnVsbCwKICAgICAgdXNlcnJvbGU6IG51bGwsCiAgICAgIHVzZXJJRDogbnVsbAogICAgfTsKICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oc3RhdGUpIHsKICAgICAgcmV0dXJuICEhc3RhdGUudG9rZW47CiAgICB9LAogICAgZ2V0VXNlck5hbWU6IGZ1bmN0aW9uIGdldFVzZXJOYW1lKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VybmFtZTsKICAgIH0sCiAgICBpc0FkbWluOiBmdW5jdGlvbiBpc0FkbWluKHN0YXRlKSB7CiAgICAgIGlmIChzdGF0ZS51c2Vycm9sZSkgewogICAgICAgIGlmIChzdGF0ZS51c2Vycm9sZS50b1N0cmluZygpLmluY2x1ZGVzKCJST0xFX0VNUExPWUVFIikpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZ2V0VXNlclJvbGU6IGZ1bmN0aW9uIGdldFVzZXJSb2xlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2Vycm9sZTsKICAgIH0sCiAgICBnZXR1c2VySUQ6IGZ1bmN0aW9uIGdldHVzZXJJRChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlcklEOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBhdXRoZW50aWNhdGVVc2VyOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVVc2VyKHN0YXRlLCBwYXJhbWV0ZXJzKSB7CiAgICAgIHN0YXRlLnRva2VuID0gcGFyYW1ldGVycy50b2tlbjsKICAgICAgc3RhdGUudXNlcm5hbWUgPSBwYXJhbWV0ZXJzLnVzZXJuYW1lOwogICAgICBzdGF0ZS51c2Vycm9sZSA9IHBhcmFtZXRlcnMudXNlcnJvbGU7CiAgICAgIHN0YXRlLnVzZXJJRCA9IHBhcmFtZXRlcnMudXNlcklEOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHBhcmFtZXRlcnMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGF4aW9zLnBvc3QoImxvZ2luIiwgewogICAgICAgICAgdXNlcm5hbWU6IHBhcmFtZXRlcnMudXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogcGFyYW1ldGVycy5wYXNzd29yZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICJCZWFyZXIgIiArIHJlc3VsdC5kYXRhLnRva2VuOwogICAgICAgICAgY29tbWl0KCdhdXRoZW50aWNhdGVVc2VyJywgcmVzdWx0LmRhdGEpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgcmVzdWx0LmRhdGEudG9rZW4pOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJyb2xlJywgcmVzdWx0LmRhdGEudXNlcnJvbGUpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJRCcsIHJlc3VsdC5kYXRhLnVzZXJJRCk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcm5hbWUnLCByZXN1bHQuZGF0YS51c2VybmFtZSk7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBhdXRvTG9naW46IGZ1bmN0aW9uIGF1dG9Mb2dpbihfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgdmFyIHVzZXJuYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJyk7CiAgICAgIHZhciB1c2Vycm9sZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2Vycm9sZScpOwogICAgICB2YXIgdXNlcklEID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJRCcpOwogICAgICBpZiAodG9rZW4gJiYgdXNlcm5hbWUpIHsKICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsiQXV0aG9yaXphdGlvbiJdID0gIkJlYXJlciAiICsgdG9rZW47CiAgICAgICAgY29tbWl0KCdhdXRoZW50aWNhdGVVc2VyJywgewogICAgICAgICAgdG9rZW46IHRva2VuLAogICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICAgICAgdXNlcnJvbGU6IHVzZXJyb2xlLAogICAgICAgICAgdXNlcklEOiB1c2VySUQKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHN0b3JlOw=="},{"version":3,"names":["createStore","axios","store","state","token","username","userrole","userID","getters","isLoggedIn","getUserName","isAdmin","toString","includes","getUserRole","getuserID","mutations","authenticateUser","parameters","actions","login","_ref","commit","Promise","resolve","reject","post","password","then","result","defaults","headers","common","data","localStorage","setItem","catch","error","autoLogin","_ref2","getItem"],"sources":["C:/Users/31624/Documents/GitHub/frontend-bankapi-vue/src/store/store.js"],"sourcesContent":["import { createStore } from 'vuex'\r\nimport axios from \"../axios-auth\";\r\nconst store = createStore({\r\n    state() {\r\n        return {\r\n            token: null,\r\n            username: null,\r\n            userrole: null,\r\n            userID: null\r\n        }\r\n    },\r\n    getters: {\r\n        isLoggedIn(state) {\r\n            return !!state.token;\r\n        },\r\n        getUserName(state) {\r\n            return state.username;\r\n        },\r\n        isAdmin(state) {\r\n            if (state.userrole) {\r\n                if (state.userrole.toString().includes(\"ROLE_EMPLOYEE\")) {\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n        },\r\n        getUserRole(state) {\r\n            return state.userrole;\r\n        },\r\n        getuserID(state) {\r\n            return state.userID;\r\n        },\r\n    },\r\n    mutations: {\r\n        authenticateUser(state, parameters) {\r\n            state.token = parameters.token\r\n            state.username = parameters.username\r\n            state.userrole = parameters.userrole\r\n            state.userID = parameters.userID\r\n        }\r\n    },\r\n    actions: {\r\n\r\n        login({ commit }, parameters) {\r\n            return new Promise((resolve, reject) => {\r\n                axios.post(\"login\", {\r\n                    username: parameters.username,\r\n                    password: parameters.password,\r\n                })\r\n                    .then((result) => {\r\n                        axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" +\r\n                            result.data.token;\r\n\r\n                        commit('authenticateUser', result.data);\r\n                        localStorage.setItem('token', result.data.token);\r\n\r\n\r\n\r\n                        localStorage.setItem('userrole', result.data.userrole);\r\n                        localStorage.setItem('userID', result.data.userID);\r\n                        localStorage.setItem('username', result.data.username);\r\n\r\n\r\n\r\n\r\n\r\n                        resolve()\r\n\r\n                    })\r\n                    .catch((error) => {\r\n                        reject(error)\r\n                    });\r\n            })\r\n        },\r\n        autoLogin({ commit }) {\r\n            const token = localStorage.getItem('token');\r\n            const username = localStorage.getItem('username');\r\n            const userrole = localStorage.getItem('userrole');\r\n            const userID = localStorage.getItem('userID');\r\n            if (token && username) {\r\n                axios.defaults.headers.common[\"Authorization\"] =\r\n                    \"Bearer \" + token;\r\n                commit('authenticateUser', {\r\n                    token: token,\r\n                    username: username,\r\n                    userrole: userrole,\r\n                    userID: userID\r\n                });\r\n            }\r\n        }\r\n    }\r\n});\r\nexport default store;\r\n"],"mappings":"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","ignoreList":[]}]}