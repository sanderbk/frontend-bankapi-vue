{"remainingRequest":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\Transactions.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\Transactions.vue","mtime":1719321624215},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\babel.config.js","mtime":1718036833122},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719996933867},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1719996933857},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1719997025590},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719996933867},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1719996935174}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gIi4uLy4uL2F4aW9zLWF1dGgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVzZXJUcmFuc2FjdGlvbnMiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0cmFuc2FjdGlvbnM6IFtdLAogICAgICBmcm9tQWNjb3VudEZpbHRlcjogIiIsCiAgICAgIHRvQWNjb3VudEZpbHRlcjogIiIsCiAgICAgIGFtb3VudEZpbHRlcjogbnVsbCwKICAgICAgYW1vdW50RmlsdGVyVHlwZTogImVxdWFsIiwKICAgICAgc3RhcnRUaW1lRmlsdGVyOiBudWxsLAogICAgICBlbmRUaW1lRmlsdGVyOiBudWxsLAogICAgICBzaG93RmlsdGVyT3B0aW9uczogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmb3JtYXREYXRlKGRhdGVTdHJpbmcpIHsKICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpOwogICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVN0cmluZygpOwogICAgfSwKICAgIGV4dHJhY3RJQkFOKGZyb21GaWVsZCkgewogICAgICBjb25zdCBzdGFydEluZGV4ID0gZnJvbUZpZWxkLmluZGV4T2YoImliYW49IikgKyA1OwogICAgICBjb25zdCBlbmRJbmRleCA9IGZyb21GaWVsZC5pbmRleE9mKCIsIiwgc3RhcnRJbmRleCk7CiAgICAgIHJldHVybiBmcm9tRmllbGQuc3Vic3RyaW5nKHN0YXJ0SW5kZXgsIGVuZEluZGV4KTsKICAgIH0sCiAgICBmZXRjaEZpbHRlcmVkVHJhbnNhY3Rpb25zKCkgewogICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICBheGlvcy5nZXQoYHRyYW5zYWN0aW9ucy91c2VyL2ZpbHRlcmAsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YAogICAgICAgIH0sCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBmcm9tQWNjb3VudDogdGhpcy5mcm9tQWNjb3VudEZpbHRlciwKICAgICAgICAgIHRvQWNjb3VudDogdGhpcy50b0FjY291bnRGaWx0ZXIsCiAgICAgICAgICBhbW91bnQ6IHRoaXMuYW1vdW50RmlsdGVyLAogICAgICAgICAgYW1vdW50RmlsdGVyVHlwZTogdGhpcy5hbW91bnRGaWx0ZXJUeXBlLAogICAgICAgICAgc3RhcnRUaW1lOiB0aGlzLnN0YXJ0VGltZUZpbHRlciwKICAgICAgICAgIGVuZFRpbWU6IHRoaXMuZW5kVGltZUZpbHRlcgogICAgICAgIH0KICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy50cmFuc2FjdGlvbnMgPSByZXNwb25zZS5kYXRhLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIudGltZXN0YW1wKSAtIG5ldyBEYXRlKGEudGltZXN0YW1wKSk7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBmZXRjaGluZyB0cmFuc2FjdGlvbnM6IiwgZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICB0b2dnbGVGaWx0ZXJPcHRpb25zKCkgewogICAgICB0aGlzLnNob3dGaWx0ZXJPcHRpb25zID0gIXRoaXMuc2hvd0ZpbHRlck9wdGlvbnM7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaEZpbHRlcmVkVHJhbnNhY3Rpb25zKCk7CiAgfQp9Ow=="},{"version":3,"names":["axios","name","data","transactions","fromAccountFilter","toAccountFilter","amountFilter","amountFilterType","startTimeFilter","endTimeFilter","showFilterOptions","methods","formatDate","dateString","date","Date","toLocaleString","extractIBAN","fromField","startIndex","indexOf","endIndex","substring","fetchFilteredTransactions","token","localStorage","getItem","get","headers","Accept","Authorization","params","fromAccount","toAccount","amount","startTime","endTime","then","response","sort","a","b","timestamp","catch","error","console","toggleFilterOptions","mounted"],"sources":["C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\Transactions.vue"],"sourcesContent":["<template>\r\n  <section class=\"table-transactions mx-4 p-4\">\r\n    <div class=\"container\">\r\n      <div class=\"button-container p-2 my-2\">\r\n        <button @click=\"$router.push('/home')\" class=\"py-2 mx-2 btn btn-danger\">\r\n          Go Back\r\n        </button>\r\n        <button @click=\"toggleFilterOptions\" class=\"py-2 mx-2 btn btn-primary\">\r\n          Filter Options\r\n        </button>\r\n      </div>\r\n\r\n      <div v-if=\"showFilterOptions\" class=\"filter-container p-2 my-2\">\r\n        <label class=\"mx-2\">From Account:</label>\r\n        <input v-model=\"fromAccountFilter\" type=\"text\" class=\"form-control mx-2\" placeholder=\"Enter From Account IBAN\"\r\n               @input=\"fetchFilteredTransactions\">\r\n\r\n        <label class=\"mx-2\">To Account:</label>\r\n        <input v-model=\"toAccountFilter\" type=\"text\" class=\"form-control mx-2\" placeholder=\"Enter To Account IBAN\"\r\n               @input=\"fetchFilteredTransactions\">\r\n\r\n        <label class=\"mx-2\">Amount:</label>\r\n        <input v-model.number=\"amountFilter\" type=\"number\" class=\"form-control mx-2\" placeholder=\"Enter Amount\"\r\n               @input=\"fetchFilteredTransactions\">\r\n\r\n        <label class=\"mx-2\">Filter Type:</label>\r\n        <select v-model=\"amountFilterType\" class=\"form-control mx-2\" @change=\"fetchFilteredTransactions\">\r\n          <option value=\"equal\">Equal to</option>\r\n          <option value=\"greater\">Greater than</option>\r\n          <option value=\"less\">Less than</option>\r\n        </select>\r\n\r\n        <label class=\"mx-2\">Start Time:</label>\r\n        <input v-model=\"startTimeFilter\" type=\"datetime-local\" class=\"form-control mx-2\"\r\n               @change=\"fetchFilteredTransactions\">\r\n\r\n        <label class=\"mx-2\">End Time:</label>\r\n        <input v-model=\"endTimeFilter\" type=\"datetime-local\" class=\"form-control mx-2\"\r\n               @change=\"fetchFilteredTransactions\">\r\n      </div>\r\n\r\n      <table class=\"table align-middle mb-0 bg-white shadow-sm\">\r\n        <thead class=\"bg-light\">\r\n        <tr>\r\n          <th>From</th>\r\n          <th>To</th>\r\n          <th>Amount</th>\r\n          <th>Date</th>\r\n          <th>Type</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr v-for=\"transaction in transactions\" :key=\"transaction.id\">\r\n          <td>{{ extractIBAN(transaction.from) }}</td>\r\n          <td>{{ transaction.to }}</td>\r\n          <td>â‚¬{{ transaction.amount.toFixed(2) }}</td>\r\n          <td>{{ formatDate(transaction.timestamp) }}</td>\r\n          <td>{{ transaction.transactionType }}</td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"../../axios-auth\";\r\n\r\nexport default {\r\n  name: \"UserTransactions\",\r\n  data() {\r\n    return {\r\n      transactions: [],\r\n      fromAccountFilter: \"\",\r\n      toAccountFilter: \"\",\r\n      amountFilter: null,\r\n      amountFilterType: \"equal\",\r\n      startTimeFilter: null,\r\n      endTimeFilter: null,\r\n      showFilterOptions: false,\r\n    };\r\n  },\r\n  methods: {\r\n    formatDate(dateString) {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleString();\r\n    },\r\n    extractIBAN(fromField) {\r\n      const startIndex = fromField.indexOf(\"iban=\") + 5;\r\n      const endIndex = fromField.indexOf(\",\", startIndex);\r\n      return fromField.substring(startIndex, endIndex);\r\n    },\r\n    fetchFilteredTransactions() {\r\n      const token = localStorage.getItem(\"token\");\r\n      axios\r\n          .get(`transactions/user/filter`, {\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n            params: {\r\n              fromAccount: this.fromAccountFilter,\r\n              toAccount: this.toAccountFilter,\r\n              amount: this.amountFilter,\r\n              amountFilterType: this.amountFilterType,\r\n              startTime: this.startTimeFilter,\r\n              endTime: this.endTimeFilter,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            this.transactions = response.data.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error fetching transactions:\", error);\r\n          });\r\n    },\r\n    toggleFilterOptions() {\r\n      this.showFilterOptions = !this.showFilterOptions;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchFilteredTransactions();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"],"mappings":"AAkEA,OAAOA,KAAI,MAAO,kBAAkB;AAEpC,eAAe;EACbC,IAAI,EAAE,kBAAkB;EACxBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,EAAE;MAChBC,iBAAiB,EAAE,EAAE;MACrBC,eAAe,EAAE,EAAE;MACnBC,YAAY,EAAE,IAAI;MAClBC,gBAAgB,EAAE,OAAO;MACzBC,eAAe,EAAE,IAAI;MACrBC,aAAa,EAAE,IAAI;MACnBC,iBAAiB,EAAE;IACrB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAACC,UAAU,EAAE;MACrB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,UAAU,CAAC;MACjC,OAAOC,IAAI,CAACE,cAAc,CAAC,CAAC;IAC9B,CAAC;IACDC,WAAWA,CAACC,SAAS,EAAE;MACrB,MAAMC,UAAS,GAAID,SAAS,CAACE,OAAO,CAAC,OAAO,IAAI,CAAC;MACjD,MAAMC,QAAO,GAAIH,SAAS,CAACE,OAAO,CAAC,GAAG,EAAED,UAAU,CAAC;MACnD,OAAOD,SAAS,CAACI,SAAS,CAACH,UAAU,EAAEE,QAAQ,CAAC;IAClD,CAAC;IACDE,yBAAyBA,CAAA,EAAG;MAC1B,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C1B,KAAI,CACC2B,GAAG,CAAC,0BAA0B,EAAE;QAC/BC,OAAO,EAAE;UACPC,MAAM,EAAE,kBAAkB;UAC1B,cAAc,EAAE,kBAAkB;UAClCC,aAAa,EAAE,UAAUN,KAAK;QAChC,CAAC;QACDO,MAAM,EAAE;UACNC,WAAW,EAAE,IAAI,CAAC5B,iBAAiB;UACnC6B,SAAS,EAAE,IAAI,CAAC5B,eAAe;UAC/B6B,MAAM,EAAE,IAAI,CAAC5B,YAAY;UACzBC,gBAAgB,EAAE,IAAI,CAACA,gBAAgB;UACvC4B,SAAS,EAAE,IAAI,CAAC3B,eAAe;UAC/B4B,OAAO,EAAE,IAAI,CAAC3B;QAChB;MACF,CAAC,EACA4B,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAI,CAACnC,YAAW,GAAImC,QAAQ,CAACpC,IAAI,CAACqC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAI1B,IAAI,CAAC0B,CAAC,CAACC,SAAS,IAAI,IAAI3B,IAAI,CAACyB,CAAC,CAACE,SAAS,CAAC,CAAC;MACjG,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD,CAAC,CAAC;IACR,CAAC;IACDE,mBAAmBA,CAAA,EAAG;MACpB,IAAI,CAACpC,iBAAgB,GAAI,CAAC,IAAI,CAACA,iBAAiB;IAClD;EACF,CAAC;EACDqC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACxB,yBAAyB,CAAC,CAAC;EAClC;AACF,CAAC","ignoreList":[]}]}