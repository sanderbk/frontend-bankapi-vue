{"remainingRequest":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\AllTransactions.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\AllTransactions.vue","mtime":1720720628798},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\babel.config.js","mtime":1718036833122},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719996933867},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1719997025590},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719996933867},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1719996935174}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQuZGlmZmVyZW5jZS52Mi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQuaW50ZXJzZWN0aW9uLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5pcy1kaXNqb2ludC1mcm9tLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5pcy1zdWJzZXQtb2YudjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuc2V0LmlzLXN1cGVyc2V0LW9mLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5zeW1tZXRyaWMtZGlmZmVyZW5jZS52Mi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQudW5pb24udjIuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiLi4vLi4vYXhpb3MtYXV0aCI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBbGxUcmFuc2FjdGlvbnMiLAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsiZ2V0VXNlck5hbWUiXSkKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0cmFuc2FjdGlvbnM6IFtdLAogICAgICB1c2VyTWFwOiB7fSwKICAgICAgc2VhcmNoVXNlclF1ZXJ5OiAiIiwKICAgICAgc2VsZWN0ZWRVc2VyOiBudWxsLAogICAgICBlcnJvck1lc3NhZ2U6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0RGF0ZShkYXRlU3RyaW5nKSB7CiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTsKICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVTdHJpbmcoKTsKICAgIH0sCiAgICBleHRyYWN0SUJBTihmcm9tRmllbGQpIHsKICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGZyb21GaWVsZC5pbmRleE9mKCJpYmFuPSIpICsgNTsKICAgICAgY29uc3QgZW5kSW5kZXggPSBmcm9tRmllbGQuaW5kZXhPZigiLCIsIHN0YXJ0SW5kZXgpOwogICAgICByZXR1cm4gZnJvbUZpZWxkLnN1YnN0cmluZyhzdGFydEluZGV4LCBlbmRJbmRleCk7CiAgICB9LAogICAgYXN5bmMgZmV0Y2hUcmFuc2FjdGlvbnMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgbGV0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoInRyYW5zYWN0aW9ucy9lbXBsb3llZSIsIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy50cmFuc2FjdGlvbnMgPSByZXNwb25zZS5kYXRhLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIudGltZXN0YW1wKSAtIG5ldyBEYXRlKGEudGltZXN0YW1wKSk7CiAgICAgICAgYXdhaXQgdGhpcy5mZXRjaFVzZXJEZXRhaWxzKCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZmV0Y2hpbmcgdHJhbnNhY3Rpb25zOiIsIGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGZldGNoVXNlckRldGFpbHMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICAgICAgICBjb25zdCB1c2VySWRzID0gWy4uLm5ldyBTZXQodGhpcy50cmFuc2FjdGlvbnMubWFwKHQgPT4gdC51c2VyUGVyZm9ybWluZykpXTsKICAgICAgICBjb25zdCB1c2VyUmVxdWVzdHMgPSB1c2VySWRzLm1hcChpZCA9PiBheGlvcy5nZXQoYHVzZXJzLyR7aWR9YCwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAKICAgICAgICAgIH0KICAgICAgICB9KSk7CiAgICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwodXNlclJlcXVlc3RzKTsKICAgICAgICBjb25zdCB1c2VyTWFwID0ge307CiAgICAgICAgcmVzcG9uc2VzLmZvckVhY2gocmVzcG9uc2UgPT4gewogICAgICAgICAgY29uc3QgdXNlcklkID0gcmVzcG9uc2UuZGF0YS5pZDsKICAgICAgICAgIGNvbnN0IHJvbGUgPSByZXNwb25zZS5kYXRhLnVzZXJUeXBlczsKICAgICAgICAgIHVzZXJNYXBbdXNlcklkXSA9IHJvbGUuaW5jbHVkZXMoIlJPTEVfRU1QTE9ZRUUiKSA/ICJFbXBsb3llZSIgOiAiQ3VzdG9tZXIiOwogICAgICAgIH0pOwogICAgICAgIHRoaXMudXNlck1hcCA9IHVzZXJNYXA7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZmV0Y2hpbmcgdXNlciBkZXRhaWxzOiIsIGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHNlYXJjaFVzZXIoKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaFVzZXJRdWVyeS50cmltKCkgPT09ICIiKSB7CiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAiUGxlYXNlIGVudGVyIGEgdXNlcm5hbWUgdG8gc2VhcmNoLiI7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgdXNlcnMvdXNlcm5hbWUvJHt0aGlzLnNlYXJjaFVzZXJRdWVyeX1gLCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMuc2VsZWN0ZWRVc2VyID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBhd2FpdCB0aGlzLmZldGNoVHJhbnNhY3Rpb25zRm9yVXNlcih0aGlzLnNlbGVjdGVkVXNlci5pZCk7CiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAiIjsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBzZWFyY2hpbmcgdXNlcjoiLCBlcnJvcik7CiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAiVXNlciBub3QgZm91bmQuIjsKICAgICAgICB0aGlzLnRyYW5zYWN0aW9ucyA9IFtdOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgZmV0Y2hUcmFuc2FjdGlvbnNGb3JVc2VyKHVzZXJJZCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYHRyYW5zYWN0aW9ucy9lbXBsb3llZT91c2VySWQ9JHt1c2VySWR9YCwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLnRyYW5zYWN0aW9ucyA9IHJlc3BvbnNlLmRhdGEuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi50aW1lc3RhbXApIC0gbmV3IERhdGUoYS50aW1lc3RhbXApKTsKICAgICAgICB0aGlzLmZldGNoVXNlckRldGFpbHMoKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBmZXRjaGluZyB0cmFuc2FjdGlvbnMgZm9yIHVzZXI6IiwgZXJyb3IpOwogICAgICAgIGlmIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5kYXRhICYmIGVycm9yLnJlc3BvbnNlLmRhdGEucmVhc29uKSB7CiAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEucmVhc29uOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyB0cmFuc2FjdGlvbnMuIjsKICAgICAgICB9CiAgICAgICAgdGhpcy50cmFuc2FjdGlvbnMgPSBbXTsKICAgICAgfQogICAgfSwKICAgIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9ob21lIik7CiAgICB9LAogICAgZ2V0VXNlclR5cGVzKHVzZXJJZCkgewogICAgICByZXR1cm4gdGhpcy51c2VyTWFwW3VzZXJJZF07CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaFRyYW5zYWN0aW9ucygpOwogIH0KfTs="},{"version":3,"names":["axios","mapGetters","name","computed","data","transactions","userMap","searchUserQuery","selectedUser","errorMessage","methods","formatDate","dateString","date","Date","toLocaleString","extractIBAN","fromField","startIndex","indexOf","endIndex","substring","fetchTransactions","token","localStorage","getItem","response","get","headers","Accept","Authorization","sort","a","b","timestamp","fetchUserDetails","error","console","userIds","Set","map","t","userPerforming","userRequests","id","responses","Promise","all","forEach","userId","role","userTypes","includes","searchUser","trim","fetchTransactionsForUser","reason","goBack","$router","push","getUserTypes","mounted"],"sources":["C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\AllTransactions.vue"],"sourcesContent":["<template>\r\n  <section class=\"table-transactions mx-4 p-4\">\r\n    <div class=\"container\">\r\n      <div class=\"button-container p-2 my-2\">\r\n        <button @click=\"goBack\" class=\"py-2 mx-2 btn btn-danger\">Go Back</button>\r\n      </div>\r\n\r\n      <div class=\"search-user-form p-2 my-2\">\r\n        <label for=\"searchUserInput\" class=\"form-label\">Search User:</label>\r\n        <div class=\"d-flex align-items-center\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"searchUserInput\"\r\n            v-model=\"searchUserQuery\"\r\n            class=\"form-control\"\r\n            placeholder=\"Enter username\"\r\n          />\r\n          <button @click=\"searchUser\" class=\"btn btn-primary ms-2\">Search</button>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"errorMessage\" class=\"text-danger\">{{ errorMessage }}</div>\r\n      <table\r\n        v-if=\"transactions.length > 0\"\r\n        class=\"table align-middle mb-0 bg-white shadow-sm\"\r\n      >\r\n        <thead class=\"bg-light\">\r\n          <tr>\r\n            <th>From</th>\r\n            <th>To</th>\r\n            <th>Amount</th>\r\n            <th>Date</th>\r\n            <th>Initiator</th>\r\n            <th>Type</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"transaction in transactions\" :key=\"transaction.id\">\r\n            <td>{{ extractIBAN(transaction.from) }}</td>\r\n            <td>{{ transaction.to }}</td>\r\n            <td>â‚¬{{ transaction.amount }}</td>\r\n            <td>{{ formatDate(transaction.timestamp) }}</td>\r\n            <td>{{ getUserTypes(transaction.userPerforming) }}</td>\r\n            <td>{{ transaction.transactionType }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div v-else class=\"text-center p-4\">No transactions found.</div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"../../axios-auth\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"AllTransactions\",\r\n  computed: {\r\n    ...mapGetters([\"getUserName\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      transactions: [],\r\n      userMap: {},\r\n      searchUserQuery: \"\",\r\n      selectedUser: null,\r\n      errorMessage: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    formatDate(dateString) {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleString();\r\n    },\r\n    extractIBAN(fromField) {\r\n      const startIndex = fromField.indexOf(\"iban=\") + 5;\r\n      const endIndex = fromField.indexOf(\",\", startIndex);\r\n      return fromField.substring(startIndex, endIndex);\r\n    },\r\n    async fetchTransactions() {\r\n      try {\r\n        let token = localStorage.getItem(\"token\");\r\n        const response = await axios.get(\"transactions/employee\", {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        this.transactions = response.data.sort(\r\n          (a, b) => new Date(b.timestamp) - new Date(a.timestamp)\r\n        );\r\n        await this.fetchUserDetails();\r\n      } catch (error) {\r\n        console.error(\"Error fetching transactions:\", error);\r\n      }\r\n    },\r\n    async fetchUserDetails() {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const userIds = [...new Set(this.transactions.map((t) => t.userPerforming))];\r\n\r\n        const userRequests = userIds.map((id) =>\r\n          axios.get(`users/${id}`, {\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          })\r\n        );\r\n\r\n        const responses = await Promise.all(userRequests);\r\n        const userMap = {};\r\n        responses.forEach((response) => {\r\n          const userId = response.data.id;\r\n          const role = response.data.userTypes;\r\n          userMap[userId] = role.includes(\"ROLE_EMPLOYEE\") ? \"Employee\" : \"Customer\";\r\n        });\r\n        this.userMap = userMap;\r\n      } catch (error) {\r\n        console.error(\"Error fetching user details:\", error);\r\n      }\r\n    },\r\n    async searchUser() {\r\n      if (this.searchUserQuery.trim() === \"\") {\r\n        this.errorMessage = \"Please enter a username to search.\";\r\n        return;\r\n      }\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const response = await axios.get(`users/username/${this.searchUserQuery}`, {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        this.selectedUser = response.data;\r\n        await this.fetchTransactionsForUser(this.selectedUser.id);\r\n        this.errorMessage = \"\";\r\n      } catch (error) {\r\n        console.error(\"Error searching user:\", error);\r\n        this.errorMessage = \"User not found.\";\r\n        this.transactions = [];\r\n      }\r\n    },\r\n    async fetchTransactionsForUser(userId) {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const response = await axios.get(`transactions/employee?userId=${userId}`, {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        this.transactions = response.data.sort(\r\n          (a, b) => new Date(b.timestamp) - new Date(a.timestamp)\r\n        );\r\n        this.fetchUserDetails();\r\n      } catch (error) {\r\n        console.error(\"Error fetching transactions for user:\", error);\r\n        if (error.response && error.response.data && error.response.data.reason) {\r\n          this.errorMessage = error.response.data.reason;\r\n        } else {\r\n          this.errorMessage = \"An error occurred while fetching transactions.\";\r\n        }\r\n        this.transactions = [];\r\n      }\r\n    },\r\n    goBack() {\r\n      this.$router.push(\"/home\");\r\n    },\r\n    getUserTypes(userId) {\r\n      return this.userMap[userId];\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchTransactions();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"],"mappings":";;;;;;;;AAoDA,OAAOA,KAAI,MAAO,kBAAkB;AACpC,SAASC,UAAS,QAAS,MAAM;AAEjC,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,QAAQ,EAAE;IACR,GAAGF,UAAU,CAAC,CAAC,aAAa,CAAC;EAC/B,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,EAAE;MAChBC,OAAO,EAAE,CAAC,CAAC;MACXC,eAAe,EAAE,EAAE;MACnBC,YAAY,EAAE,IAAI;MAClBC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAACC,UAAU,EAAE;MACrB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,UAAU,CAAC;MACjC,OAAOC,IAAI,CAACE,cAAc,CAAC,CAAC;IAC9B,CAAC;IACDC,WAAWA,CAACC,SAAS,EAAE;MACrB,MAAMC,UAAS,GAAID,SAAS,CAACE,OAAO,CAAC,OAAO,IAAI,CAAC;MACjD,MAAMC,QAAO,GAAIH,SAAS,CAACE,OAAO,CAAC,GAAG,EAAED,UAAU,CAAC;MACnD,OAAOD,SAAS,CAACI,SAAS,CAACH,UAAU,EAAEE,QAAQ,CAAC;IAClD,CAAC;IACD,MAAME,iBAAiBA,CAAA,EAAG;MACxB,IAAI;QACF,IAAIC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QACzC,MAAMC,QAAO,GAAI,MAAM1B,KAAK,CAAC2B,GAAG,CAAC,uBAAuB,EAAE;UACxDC,OAAO,EAAE;YACPC,MAAM,EAAE,kBAAkB;YAC1B,cAAc,EAAE,kBAAkB;YAClCC,aAAa,EAAE,UAAUP,KAAK;UAChC;QACF,CAAC,CAAC;QACF,IAAI,CAAClB,YAAW,GAAIqB,QAAQ,CAACtB,IAAI,CAAC2B,IAAI,CACpC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAInB,IAAI,CAACmB,CAAC,CAACC,SAAS,IAAI,IAAIpB,IAAI,CAACkB,CAAC,CAACE,SAAS,CACxD,CAAC;QACD,MAAM,IAAI,CAACC,gBAAgB,CAAC,CAAC;MAC/B,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD;IACF,CAAC;IACD,MAAMD,gBAAgBA,CAAA,EAAG;MACvB,IAAI;QACF,MAAMZ,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMa,OAAM,GAAI,CAAC,GAAG,IAAIC,GAAG,CAAC,IAAI,CAAClC,YAAY,CAACmC,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,cAAc,CAAC,CAAC,CAAC;QAE5E,MAAMC,YAAW,GAAIL,OAAO,CAACE,GAAG,CAAEI,EAAE,IAClC5C,KAAK,CAAC2B,GAAG,CAAC,SAASiB,EAAE,EAAE,EAAE;UACvBhB,OAAO,EAAE;YACPC,MAAM,EAAE,kBAAkB;YAC1B,cAAc,EAAE,kBAAkB;YAClCC,aAAa,EAAE,UAAUP,KAAK;UAChC;QACF,CAAC,CACH,CAAC;QAED,MAAMsB,SAAQ,GAAI,MAAMC,OAAO,CAACC,GAAG,CAACJ,YAAY,CAAC;QACjD,MAAMrC,OAAM,GAAI,CAAC,CAAC;QAClBuC,SAAS,CAACG,OAAO,CAAEtB,QAAQ,IAAK;UAC9B,MAAMuB,MAAK,GAAIvB,QAAQ,CAACtB,IAAI,CAACwC,EAAE;UAC/B,MAAMM,IAAG,GAAIxB,QAAQ,CAACtB,IAAI,CAAC+C,SAAS;UACpC7C,OAAO,CAAC2C,MAAM,IAAIC,IAAI,CAACE,QAAQ,CAAC,eAAe,IAAI,UAAS,GAAI,UAAU;QAC5E,CAAC,CAAC;QACF,IAAI,CAAC9C,OAAM,GAAIA,OAAO;MACxB,EAAE,OAAO8B,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD;IACF,CAAC;IACD,MAAMiB,UAAUA,CAAA,EAAG;MACjB,IAAI,IAAI,CAAC9C,eAAe,CAAC+C,IAAI,CAAC,MAAM,EAAE,EAAE;QACtC,IAAI,CAAC7C,YAAW,GAAI,oCAAoC;QACxD;MACF;MACA,IAAI;QACF,MAAMc,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMC,QAAO,GAAI,MAAM1B,KAAK,CAAC2B,GAAG,CAAC,kBAAkB,IAAI,CAACpB,eAAe,EAAE,EAAE;UACzEqB,OAAO,EAAE;YACPC,MAAM,EAAE,kBAAkB;YAC1B,cAAc,EAAE,kBAAkB;YAClCC,aAAa,EAAE,UAAUP,KAAK;UAChC;QACF,CAAC,CAAC;QACF,IAAI,CAACf,YAAW,GAAIkB,QAAQ,CAACtB,IAAI;QACjC,MAAM,IAAI,CAACmD,wBAAwB,CAAC,IAAI,CAAC/C,YAAY,CAACoC,EAAE,CAAC;QACzD,IAAI,CAACnC,YAAW,GAAI,EAAE;MACxB,EAAE,OAAO2B,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7C,IAAI,CAAC3B,YAAW,GAAI,iBAAiB;QACrC,IAAI,CAACJ,YAAW,GAAI,EAAE;MACxB;IACF,CAAC;IACD,MAAMkD,wBAAwBA,CAACN,MAAM,EAAE;MACrC,IAAI;QACF,MAAM1B,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMC,QAAO,GAAI,MAAM1B,KAAK,CAAC2B,GAAG,CAAC,gCAAgCsB,MAAM,EAAE,EAAE;UACzErB,OAAO,EAAE;YACPC,MAAM,EAAE,kBAAkB;YAC1B,cAAc,EAAE,kBAAkB;YAClCC,aAAa,EAAE,UAAUP,KAAK;UAChC;QACF,CAAC,CAAC;QACF,IAAI,CAAClB,YAAW,GAAIqB,QAAQ,CAACtB,IAAI,CAAC2B,IAAI,CACpC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAInB,IAAI,CAACmB,CAAC,CAACC,SAAS,IAAI,IAAIpB,IAAI,CAACkB,CAAC,CAACE,SAAS,CACxD,CAAC;QACD,IAAI,CAACC,gBAAgB,CAAC,CAAC;MACzB,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;QAC7D,IAAIA,KAAK,CAACV,QAAO,IAAKU,KAAK,CAACV,QAAQ,CAACtB,IAAG,IAAKgC,KAAK,CAACV,QAAQ,CAACtB,IAAI,CAACoD,MAAM,EAAE;UACvE,IAAI,CAAC/C,YAAW,GAAI2B,KAAK,CAACV,QAAQ,CAACtB,IAAI,CAACoD,MAAM;QAChD,OAAO;UACL,IAAI,CAAC/C,YAAW,GAAI,gDAAgD;QACtE;QACA,IAAI,CAACJ,YAAW,GAAI,EAAE;MACxB;IACF,CAAC;IACDoD,MAAMA,CAAA,EAAG;MACP,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;IAC5B,CAAC;IACDC,YAAYA,CAACX,MAAM,EAAE;MACnB,OAAO,IAAI,CAAC3C,OAAO,CAAC2C,MAAM,CAAC;IAC7B;EACF,CAAC;EACDY,OAAOA,CAAA,EAAG;IACR,IAAI,CAACvC,iBAAiB,CAAC,CAAC;EAC1B;AACF,CAAC","ignoreList":[]}]}