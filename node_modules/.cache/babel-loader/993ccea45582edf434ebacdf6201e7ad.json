{"remainingRequest":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\store\\store.js","dependencies":[{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\store\\store.js","mtime":1719324617020},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\babel.config.js","mtime":1718036833122},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719996933867},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1719996933857},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1719997025590},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\eslint-loader\\index.js","mtime":1719996934196}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGF4aW9zIGZyb20gIi4uL2F4aW9zLWF1dGgiOwpjb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKHsKICBzdGF0ZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRva2VuOiBudWxsLAogICAgICB1c2VybmFtZTogbnVsbCwKICAgICAgdXNlcnJvbGU6IG51bGwsCiAgICAgIHVzZXJJRDogbnVsbAogICAgfTsKICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9nZ2VkSW4oc3RhdGUpIHsKICAgICAgcmV0dXJuICEhc3RhdGUudG9rZW47CiAgICB9LAogICAgZ2V0VXNlck5hbWUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXJuYW1lOwogICAgfSwKICAgIGlzQWRtaW4oc3RhdGUpIHsKICAgICAgaWYgKHN0YXRlLnVzZXJyb2xlKSB7CiAgICAgICAgaWYgKHN0YXRlLnVzZXJyb2xlLnRvU3RyaW5nKCkuaW5jbHVkZXMoIlJPTEVfRU1QTE9ZRUUiKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZXRVc2VyUm9sZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlcnJvbGU7CiAgICB9LAogICAgZ2V0dXNlcklEKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VySUQ7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGF1dGhlbnRpY2F0ZVVzZXIoc3RhdGUsIHBhcmFtZXRlcnMpIHsKICAgICAgc3RhdGUudG9rZW4gPSBwYXJhbWV0ZXJzLnRva2VuOwogICAgICBzdGF0ZS51c2VybmFtZSA9IHBhcmFtZXRlcnMudXNlcm5hbWU7CiAgICAgIHN0YXRlLnVzZXJyb2xlID0gcGFyYW1ldGVycy51c2Vycm9sZTsKICAgICAgc3RhdGUudXNlcklEID0gcGFyYW1ldGVycy51c2VySUQ7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbih7CiAgICAgIGNvbW1pdAogICAgfSwgcGFyYW1ldGVycykgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIGF4aW9zLnBvc3QoImxvZ2luIiwgewogICAgICAgICAgdXNlcm5hbWU6IHBhcmFtZXRlcnMudXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogcGFyYW1ldGVycy5wYXNzd29yZAogICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyJBdXRob3JpemF0aW9uIl0gPSAiQmVhcmVyICIgKyByZXN1bHQuZGF0YS50b2tlbjsKICAgICAgICAgIGNvbW1pdCgiYXV0aGVudGljYXRlVXNlciIsIHJlc3VsdC5kYXRhKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlc3VsdC5kYXRhLnRva2VuKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2Vycm9sZSIsIHJlc3VsdC5kYXRhLnVzZXJyb2xlKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VySUQiLCByZXN1bHQuZGF0YS51c2VySUQpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJuYW1lIiwgcmVzdWx0LmRhdGEudXNlcm5hbWUpOwogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGF1dG9Mb2dpbih7CiAgICAgIGNvbW1pdAogICAgfSkgewogICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICBjb25zdCB1c2VybmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VybmFtZSIpOwogICAgICBjb25zdCB1c2Vycm9sZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2Vycm9sZSIpOwogICAgICBjb25zdCB1c2VySUQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcklEIik7CiAgICAgIGlmICh0b2tlbiAmJiB1c2VybmFtZSkgewogICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyJBdXRob3JpemF0aW9uIl0gPSAiQmVhcmVyICIgKyB0b2tlbjsKICAgICAgICBjb21taXQoImF1dGhlbnRpY2F0ZVVzZXIiLCB7CiAgICAgICAgICB0b2tlbjogdG9rZW4sCiAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgICAgICB1c2Vycm9sZTogdXNlcnJvbGUsCiAgICAgICAgICB1c2VySUQ6IHVzZXJJRAogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgc3RvcmU7"},{"version":3,"names":["createStore","axios","store","state","token","username","userrole","userID","getters","isLoggedIn","getUserName","isAdmin","toString","includes","getUserRole","getuserID","mutations","authenticateUser","parameters","actions","login","commit","Promise","resolve","reject","post","password","then","result","defaults","headers","common","data","localStorage","setItem","catch","error","autoLogin","getItem"],"sources":["C:/Users/31624/Documents/GitHub/frontend-bankapi-vue/src/store/store.js"],"sourcesContent":["import { createStore } from \"vuex\";\r\nimport axios from \"../axios-auth\";\r\nconst store = createStore({\r\n  state() {\r\n    return {\r\n      token: null,\r\n      username: null,\r\n      userrole: null,\r\n      userID: null,\r\n    };\r\n  },\r\n  getters: {\r\n    isLoggedIn(state) {\r\n      return !!state.token;\r\n    },\r\n    getUserName(state) {\r\n      return state.username;\r\n    },\r\n    isAdmin(state) {\r\n      if (state.userrole) {\r\n        if (state.userrole.toString().includes(\"ROLE_EMPLOYEE\")) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n    },\r\n    getUserRole(state) {\r\n      return state.userrole;\r\n    },\r\n    getuserID(state) {\r\n      return state.userID;\r\n    },\r\n  },\r\n  mutations: {\r\n    authenticateUser(state, parameters) {\r\n      state.token = parameters.token;\r\n      state.username = parameters.username;\r\n      state.userrole = parameters.userrole;\r\n      state.userID = parameters.userID;\r\n    },\r\n  },\r\n  actions: {\r\n    login({ commit }, parameters) {\r\n      return new Promise((resolve, reject) => {\r\n        axios\r\n          .post(\"login\", {\r\n            username: parameters.username,\r\n            password: parameters.password,\r\n          })\r\n          .then((result) => {\r\n            axios.defaults.headers.common[\"Authorization\"] =\r\n              \"Bearer \" + result.data.token;\r\n\r\n            commit(\"authenticateUser\", result.data);\r\n            localStorage.setItem(\"token\", result.data.token);\r\n\r\n            localStorage.setItem(\"userrole\", result.data.userrole);\r\n            localStorage.setItem(\"userID\", result.data.userID);\r\n            localStorage.setItem(\"username\", result.data.username);\r\n\r\n            resolve();\r\n          })\r\n          .catch((error) => {\r\n            reject(error);\r\n          });\r\n      });\r\n    },\r\n    autoLogin({ commit }) {\r\n      const token = localStorage.getItem(\"token\");\r\n      const username = localStorage.getItem(\"username\");\r\n      const userrole = localStorage.getItem(\"userrole\");\r\n      const userID = localStorage.getItem(\"userID\");\r\n      if (token && username) {\r\n        axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\r\n        commit(\"authenticateUser\", {\r\n          token: token,\r\n          username: username,\r\n          userrole: userrole,\r\n          userID: userID,\r\n        });\r\n      }\r\n    },\r\n  },\r\n});\r\nexport default store;\r\n"],"mappings":"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","ignoreList":[]}]}