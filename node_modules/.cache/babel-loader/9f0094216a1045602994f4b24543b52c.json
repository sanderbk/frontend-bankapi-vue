{"remainingRequest":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\MakeTrans.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\MakeTrans.vue","mtime":1719996726847},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\babel.config.js","mtime":1718036833122},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719996933867},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1719997025590},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719996933867},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1719996935174}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gIi4uLy4uL2F4aW9zLWF1dGgiOwppbXBvcnQgeyBWdWVUYWJzLCBWVGFiIH0gZnJvbSAidnVlLW5hdi10YWJzIjsKLy95b3UgY2FuIGFsc28gaW1wb3J0IHRoaXMgaW4geW91ciBzdHlsZSB0YWcKaW1wb3J0ICJ2dWUtbmF2LXRhYnMvdGhlbWVzL3Z1ZS10YWJzLmNzcyI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNYWtlVHJhbnMiLAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsiaXNBZG1pbiJdKSwKICAgIC4uLm1hcEdldHRlcnMoWyJpc0xvZ2dlZEluIl0pLAogICAgLi4ubWFwR2V0dGVycyhbImdldHVzZXJJRCJdKQogIH0sCiAgY29tcG9uZW50czogewogICAgVnVlVGFicywKICAgIFZUYWIKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZDogbnVsbCwKICAgICAgc2VsZWN0ZWRUb0FjY291bnQ6IG51bGwsCiAgICAgIGRpc2FibGU6IGZhbHNlLAogICAgICBhY2NvdW50czogW10sCiAgICAgIGFjY291bnRzRmV0Y2hlZDogW10sCiAgICAgIGFjY291bnRzTm90RmV0Y2hlZE1zZzogIiIsCiAgICAgIHVzZXJJRDogIiIsCiAgICAgIGJhbElucHV0OiAiIiwKICAgICAgZXJyb3JNc2c6ICIiLAogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHNlbGVjdGVkQWNjb3VudDogbnVsbCwKICAgICAgdG9rZW46ICIiCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMudG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICAgIHRoaXMudXNlcklEID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJRCIpOwogICAgYXhpb3MucmVxdWVzdCh7CiAgICAgIHVybDogImFjY291bnRzL3VzZXJpZC8iICsgdGhpcy51c2VySUQsCiAgICAgIG1ldGhvZDogImdldCIsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgiLAogICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLnRva2VufWAKICAgICAgfQogICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICB0aGlzLmFjY291bnRzID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB0aGlzLmVycm9yZWQgPSB0cnVlOwogICAgfSkuZmluYWxseSgoKSA9PiB0aGlzLmxvYWRpbmcgPSBmYWxzZSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWFyY2hVc2VyKCkgewogICAgICBpZiAodGhpcy51c2VybmFtZS5sZW5ndGggPj0gMykgewogICAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcm5hbWUpOwogICAgICAgIGF4aW9zLmdldCgiYWNjb3VudHMvbmFtZS8iICsgdGhpcy51c2VybmFtZSkudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5hY2NvdW50c0ZldGNoZWQgPSByZXMuZGF0YTsKICAgICAgICAgIHRoaXMucGxhY2VIb2xkZXIgPSByZXMuZGF0YS5maXJzdG5hbWUgKyAiICIgKyByZXMuZGF0YS5sYXN0bmFtZTsKICAgICAgICAgIHRoaXMub3duZXJJZCA9IHJlcy5kYXRhLmlkOwogICAgICAgICAgdGhpcy5mZXRjaGVkVXNlciA9IEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhKTsKICAgICAgICAgIHRoaXMuZXJyTXNnID0gIiI7CiAgICAgICAgICAvLyB0aGlzLmZpbmRJYmFuQnlVc2VybmFtZShyZXMuZGF0YS51c2VybmFtZSk7CiAgICAgICAgICAvL3RoaXMuZGlzYWJsZSA9IHRydWU7CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgdGhpcy5lcnJNc2cgPSAiVXNlciBub3QgZm91bmQiOwogICAgICAgICAgdGhpcy5hY2NvdW50c0ZldGNoZWQgPSBbXTsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIGZpbmRJYmFuQnlVc2VybmFtZSh1c2VybmFtZSkgewogICAgLy8gICBpZiAoIXVzZXJuYW1lKSB7CiAgICAvLyAgICAgY29uc29sZS5lcnJvcigiVXNlcm5hbWUgaXMgdW5kZWZpbmVkIG9yIG51bGwiKTsKICAgIC8vICAgICByZXR1cm47CiAgICAvLyAgIH0KICAgIC8vICAgYXhpb3MKICAgIC8vICAgICAucmVxdWVzdCh7CiAgICAvLyAgICAgICB1cmw6IGBhY2NvdW50cy91c2VybmFtZS8ke3VzZXJuYW1lfWAsCiAgICAvLyAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgLy8gICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgIC8vICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04IiwKICAgIC8vICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMudG9rZW59YCwKICAgIC8vICAgICAgIH0sCiAgICAvLyAgICAgfSkKICAgIC8vICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgIC8vICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgLy8gICAgICAgdGhpcy5hY2NvdW50c0ZldGNoZWQgPSByZXNwb25zZS5kYXRhOwogICAgLy8gICAgIH0pCiAgICAvLyAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgLy8gICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZmV0Y2hpbmcgSUJBTiBieSB1c2VybmFtZToiLCBlcnJvcik7CiAgICAvLyAgICAgICB0aGlzLmVycm9yTXNnID0gIkZhaWxlZCB0byBmZXRjaCBhY2NvdW50cyBieSB1c2VybmFtZS4iOwogICAgLy8gICAgIH0pOwogICAgLy8gfSwKICAgIHNlbGVjdEliYW4oYWNjb3VudCwgZXZlbnQpIHsKICAgICAgY29uc3QgcGFyZW50VHIgPSBldmVudC50YXJnZXQuY2xvc2VzdCgidHIiKTsKICAgICAgaWYgKHBhcmVudFRyKSB7CiAgICAgICAgcGFyZW50VHIuY2xhc3NMaXN0LmFkZCgic2VsZWN0ZWQtdHIiKTsKICAgICAgfQogICAgICB0aGlzLnNlbGVjdGVkVG9BY2NvdW50ID0gYWNjb3VudC5pYmFuOwogICAgICB0aGlzLmRpc2FibGUgPSB0cnVlOwogICAgfSwKICAgIG1ha2VUcmFucygpIHsKICAgICAgY29uc3QgYmFsRmxvYXQgPSBwYXJzZUZsb2F0KHRoaXMuYmFsSW5wdXQpOwogICAgICBpZiAoIWlzTmFOKGJhbEZsb2F0KSkgewogICAgICAgIHRoaXMubWFrZVRyYW5zQXhpb3MoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yTXNnID0gIkNhbm5vdCBjcmVhdGUgdHJhbnNhY3Rpb247IFBsZWFzZSBlbnRlciBhIHZhbGlkIGFtb3VudCBncmVhdGVyIHRoYW4gMC4iOwogICAgICB9CiAgICB9LAogICAgbWFrZVRyYW5zQXhpb3MoKSB7CiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgY29uc3QgZGF0ZSA9IHRvZGF5LmdldEZ1bGxZZWFyKCkgKyAiLSIgKyAoIjAiICsgKHRvZGF5LmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpICsgIi0iICsgKCIwIiArIHRvZGF5LmdldERhdGUoKSkuc2xpY2UoLTIpICsgIlQiICsgKCIwIiArIHRvZGF5LmdldEhvdXJzKCkpLnNsaWNlKC0yKSArICI6IiArICgiMCIgKyB0b2RheS5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKSArICI6IiArICgiMCIgKyB0b2RheS5nZXRTZWNvbmRzKCkpLnNsaWNlKC0yKTsKICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICB0cmFuc2FjdGlvblR5cGU6ICJyZWd1bGFyIiwKICAgICAgICB0aW1lc3RhbXA6IGRhdGUsCiAgICAgICAgYW1vdW50OiB0aGlzLmJhbElucHV0LAogICAgICAgIHVzZXJQZXJmb3JtaW5nOiB0aGlzLnVzZXJJRCwKICAgICAgICBmcm9tOiB0aGlzLnNlbGVjdGVkLAogICAgICAgIHRvOiB0aGlzLnNlbGVjdGVkVG9BY2NvdW50LAogICAgICAgIHBpbmNvZGU6IG51bGwKICAgICAgfSk7CiAgICAgIGxldCBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMudG9rZW59YAogICAgICAgIH0KICAgICAgfTsKICAgICAgYXhpb3MucG9zdCgidHJhbnNhY3Rpb25zIiwgZGF0YSwgY29uZmlnKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoIi90cmFuc2FjdGlvbnMiKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlcnJvci5yZXNwb25zZS5kYXRhLnJlYXNvbjsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgIGF4aW9zLnJlcXVlc3QoewogICAgICAgIHVybDogImFjY291bnRzL2liYW4vIiArIGV2ZW50LnRhcmdldC52YWx1ZSwKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04IiwKICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLnRva2VufWAKICAgICAgICB9CiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuYmFsSW5wdXQgPSBudWxsOwogICAgICAgIHRoaXMuZXJyb3JNc2cgPSAiIjsKICAgICAgICB0aGlzLnNlbGVjdGVkQWNjb3VudCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pLmZpbmFsbHkoKCkgPT4gdGhpcy5sb2FkaW5nID0gZmFsc2UpOwogICAgfSwKICAgIG9uQ2hhbmdlMihldmVudCkgewogICAgICBheGlvcy5yZXF1ZXN0KHsKICAgICAgICB1cmw6ICJhY2NvdW50cy9pYmFuLyIgKyBldmVudC50YXJnZXQudmFsdWUsCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCIsCiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy50b2tlbn1gCiAgICAgICAgfQogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmVycm9yTXNnID0gIiI7CiAgICAgICAgdGhpcy5zZWxlY3RlZFRvQWNjb3VudCA9IHJlc3BvbnNlLmRhdGEuaWJhbjsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSkuZmluYWxseSgoKSA9PiB0aGlzLmxvYWRpbmcgPSBmYWxzZSk7CiAgICB9LAogICAgaXNOdW1iZXI6IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0ID0gZXZ0ID8gZXZ0IDogd2luZG93LmV2ZW50OwogICAgICB2YXIgY2hhckNvZGUgPSBldnQud2hpY2ggPyBldnQud2hpY2ggOiBldnQua2V5Q29kZTsKICAgICAgaWYgKGNoYXJDb2RlID4gMzEgJiYgKGNoYXJDb2RlIDwgNDggfHwgY2hhckNvZGUgPiA1NykgJiYgY2hhckNvZGUgIT09IDQ2KSB7CiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["axios","VueTabs","VTab","mapGetters","name","computed","components","data","selected","selectedToAccount","disable","accounts","accountsFetched","accountsNotFetchedMsg","userID","balInput","errorMsg","username","selectedAccount","token","mounted","localStorage","getItem","request","url","method","headers","Accept","Authorization","then","response","console","log","catch","error","errored","finally","loading","methods","searchUser","length","get","res","placeHolder","firstname","lastname","ownerId","id","fetchedUser","JSON","stringify","errMsg","selectIban","account","event","parentTr","target","closest","classList","add","iban","makeTrans","balFloat","parseFloat","isNaN","makeTransAxios","today","Date","date","getFullYear","getMonth","slice","getDate","getHours","getMinutes","getSeconds","transactionType","timestamp","amount","userPerforming","from","to","pincode","config","post","$router","replace","reason","onChange","value","onChange2","isNumber","evt","window","charCode","which","keyCode","preventDefault"],"sources":["C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\MakeTrans.vue"],"sourcesContent":["<template>\r\n  <Vue-tabs>\r\n    <V-tab title=\"First tab\"> First tab content </V-tab>\r\n  </Vue-tabs>\r\n\r\n  <div v-if=\"isLoggedIn\" class=\"container\">\r\n    <h1 class=\"text-center my-2 text-muted\">Please select an account in the dropdown</h1>\r\n    <div class=\"form-container\">\r\n      <div>\r\n        <h1\r\n          v-if=\"selectedAccount && selectedAccount.balance !== null\"\r\n          class=\"text-center text-muted\"\r\n        >\r\n          Current account balance: €{{ selectedAccount.balance }}\r\n        </h1>\r\n        <h1\r\n          v-if=\"selectedAccount && selectedAccount.balance === null\"\r\n          class=\"text-center text-muted\"\r\n        >\r\n          Account balance is not available.\r\n        </h1>\r\n      </div>\r\n\r\n      <div class=\"input-group mx-0 text-center mb-3\">\r\n        <select\r\n          @change=\"onChange($event)\"\r\n          class=\"w-100 text-center mx-0\"\r\n          :disabled=\"disable\"\r\n          v-model=\"selected\"\r\n        >\r\n          <option :value=\"null\" disabled>Select Account</option>\r\n          <option v-for=\"account in accounts\" :key=\"account.iban\" :value=\"account.iban\">\r\n            Iban: {{ account.iban }} Owner: {{ account.username }} AccountType:\r\n            {{ account.accountType }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n      <div\r\n        v-if=\"selectedAccount && selectedAccount.balance !== null\"\r\n        class=\"input-group mb-3\"\r\n      >\r\n        <span class=\"input-group-text\">Search for user</span>\r\n        <input\r\n          :disabled=\"disable\"\r\n          type=\"text\"\r\n          @input=\"searchUser()\"\r\n          v-model=\"username\"\r\n          class=\"form-control\"\r\n        />\r\n        <button type=\"button\" :disabled=\"disable\" class=\"btn btn-success\">\r\n          Search User\r\n        </button>\r\n      </div>\r\n\r\n      <div v-if=\"accountsFetched.length != 0\" class=\"\">\r\n        <table class=\"table align-middle mb-0 bg-white shadow-sm\">\r\n          <thead class=\"bg-light\">\r\n            <tr>\r\n              <th>IBan</th>\r\n              <th>Balance</th>\r\n              <th>AbsLimit</th>\r\n              <th>Owner</th>\r\n              <th>Owner Name</th>\r\n              <th v-if=\"!selectedToAccount\">Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"account in accountsFetched\" :key=\"account.id\" :account=\"account\">\r\n              <td>\r\n                <div class=\"d-flex align-items-center\">\r\n                  <div class=\"ms-3\">\r\n                    <p class=\"text-muted mb-0\">{{ account.iban }}</p>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td>€{{ account.balance }}</td>\r\n              <td>€{{ account.absLimit }}</td>\r\n              <td>\r\n                <span class=\"badge text-primary badge-success rounded-pill d-inline\">\r\n                  {{ account.username }}\r\n                </span>\r\n              </td>\r\n              <td>\r\n                {{ account.firstname + \" \" + account.lastname }}\r\n              </td>\r\n              <td v-if=\"!selectedToAccount\">\r\n                <a @click=\"selectIban(account, $event)\" class=\"btn btn-secondary\"\r\n                  >Select Account</a\r\n                >\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div\r\n        v-if=\"selectedAccount && selectedAccount.balance !== null\"\r\n        class=\"input-group my-3\"\r\n      >\r\n        <span class=\"input-group-text w-100 text-center\">Iban to make a deposit to</span>\r\n        <select\r\n          @change=\"onChange2($event)\"\r\n          class=\"w-100 text-center mx-0\"\r\n          :disabled=\"!disable\"\r\n          v-model=\"selectedToAccount\"\r\n        >\r\n          <option :value=\"null\" disabled>Select Account</option>\r\n          <option\r\n            v-for=\"account in accountsFetched\"\r\n            :key=\"account.iban\"\r\n            :value=\"account.iban\"\r\n          >\r\n            Iban: {{ account.iban }} Owner: {{ account.username }} AccountType:\r\n            {{ account.accountType }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n\r\n      <form v-on:submit.prevent=\"login\" ref=\"depoform\">\r\n        <div\r\n          v-if=\"selectedAccount && selectedAccount.balance !== null\"\r\n          class=\"form-hider\"\r\n        >\r\n          <div class=\"input-group mb-3\">\r\n            <span class=\"input-group-text\">Amount to transfer: €</span>\r\n            <input\r\n              @keypress=\"isNumber($event)\"\r\n              type=\"text\"\r\n              required=\"required\"\r\n              :disabled=\"!disable\"\r\n              v-model=\"balInput\"\r\n              class=\"text-center form-control\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"input-group mb-3\">\r\n            <button type=\"button\" class=\"w-100 btn btn-primary\" @click=\"makeTrans()\">\r\n              Transfer\r\n            </button>\r\n          </div>\r\n          <p v-if=\"errorMsg\" class=\"text-danger\">{{ errorMsg }}</p>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"../../axios-auth\";\r\nimport { VueTabs, VTab } from \"vue-nav-tabs\";\r\n//you can also import this in your style tag\r\nimport \"vue-nav-tabs/themes/vue-tabs.css\";\r\n\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"MakeTrans\",\r\n  computed: {\r\n    ...mapGetters([\"isAdmin\"]),\r\n    ...mapGetters([\"isLoggedIn\"]),\r\n    ...mapGetters([\"getuserID\"]),\r\n  },\r\n  components: {\r\n    VueTabs,\r\n    VTab,\r\n  },\r\n  data() {\r\n    return {\r\n      selected: null,\r\n      selectedToAccount: null,\r\n      disable: false,\r\n      accounts: [],\r\n      accountsFetched: [],\r\n      accountsNotFetchedMsg: \"\",\r\n      userID: \"\",\r\n      balInput: \"\",\r\n      errorMsg: \"\",\r\n      username: \"\",\r\n      selectedAccount: null,\r\n      token: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    this.token = localStorage.getItem(\"token\");\r\n    this.userID = localStorage.getItem(\"userID\");\r\n    axios\r\n      .request({\r\n        url: \"accounts/userid/\" + this.userID,\r\n        method: \"get\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json; charset=UTF-8\",\r\n          Authorization: `Bearer ${this.token}`,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        this.accounts = response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        this.errored = true;\r\n      })\r\n      .finally(() => (this.loading = false));\r\n  },\r\n  methods: {\r\n    searchUser() {\r\n      if (this.username.length >= 3) {\r\n        console.log(this.username);\r\n        axios\r\n          .get(\"accounts/name/\" + this.username)\r\n          .then((res) => {\r\n            this.accountsFetched = res.data;\r\n\r\n            this.placeHolder = res.data.firstname + \" \" + res.data.lastname;\r\n            this.ownerId = res.data.id;\r\n            this.fetchedUser = JSON.stringify(res.data);\r\n            this.errMsg = \"\";\r\n            // this.findIbanByUsername(res.data.username);\r\n            //this.disable = true;\r\n          })\r\n          .catch((error) => {\r\n            this.errMsg = \"User not found\";\r\n            this.accountsFetched = [];\r\n            console.log(error);\r\n          });\r\n      }\r\n    },\r\n    // findIbanByUsername(username) {\r\n    //   if (!username) {\r\n    //     console.error(\"Username is undefined or null\");\r\n    //     return;\r\n    //   }\r\n    //   axios\r\n    //     .request({\r\n    //       url: `accounts/username/${username}`,\r\n    //       method: \"get\",\r\n    //       headers: {\r\n    //         Accept: \"application/json\",\r\n    //         \"Content-Type\": \"application/json; charset=UTF-8\",\r\n    //         Authorization: `Bearer ${this.token}`,\r\n    //       },\r\n    //     })\r\n    //     .then((response) => {\r\n    //       console.log(response.data);\r\n    //       this.accountsFetched = response.data;\r\n    //     })\r\n    //     .catch((error) => {\r\n    //       console.error(\"Error fetching IBAN by username:\", error);\r\n    //       this.errorMsg = \"Failed to fetch accounts by username.\";\r\n    //     });\r\n    // },\r\n    selectIban(account, event) {\r\n      const parentTr = event.target.closest(\"tr\");\r\n      if (parentTr) {\r\n        parentTr.classList.add(\"selected-tr\");\r\n      }\r\n\r\n      this.selectedToAccount = account.iban;\r\n\r\n      this.disable = true;\r\n    },\r\n    makeTrans() {\r\n      const balFloat = parseFloat(this.balInput);\r\n      if (!isNaN(balFloat)) {\r\n        this.makeTransAxios();\r\n      } else {\r\n        this.errorMsg =\r\n          \"Cannot create transaction; Please enter a valid amount greater than 0.\";\r\n      }\r\n    },\r\n    makeTransAxios() {\r\n      const today = new Date();\r\n      const date =\r\n        today.getFullYear() +\r\n        \"-\" +\r\n        (\"0\" + (today.getMonth() + 1)).slice(-2) +\r\n        \"-\" +\r\n        (\"0\" + today.getDate()).slice(-2) +\r\n        \"T\" +\r\n        (\"0\" + today.getHours()).slice(-2) +\r\n        \":\" +\r\n        (\"0\" + today.getMinutes()).slice(-2) +\r\n        \":\" +\r\n        (\"0\" + today.getSeconds()).slice(-2);\r\n\r\n      const data = JSON.stringify({\r\n        transactionType: \"regular\",\r\n        timestamp: date,\r\n        amount: this.balInput,\r\n        userPerforming: this.userID,\r\n        from: this.selected,\r\n        to: this.selectedToAccount,\r\n        pincode: null,\r\n      });\r\n\r\n      let config = {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.token}`,\r\n        },\r\n      };\r\n\r\n      axios\r\n        .post(\"transactions\", data, config)\r\n        .then((response) => {\r\n          console.log(response);\r\n          this.$router.replace(\"/transactions\");\r\n        })\r\n        .catch((error) => {\r\n          this.errorMsg = error.response.data.reason;\r\n          console.log(error);\r\n        });\r\n    },\r\n    onChange(event) {\r\n      axios\r\n        .request({\r\n          url: \"accounts/iban/\" + event.target.value,\r\n          method: \"get\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json; charset=UTF-8\",\r\n            Authorization: `Bearer ${this.token}`,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.balInput = null;\r\n          this.errorMsg = \"\";\r\n          this.selectedAccount = response.data;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        })\r\n        .finally(() => (this.loading = false));\r\n    },\r\n    onChange2(event) {\r\n      axios\r\n        .request({\r\n          url: \"accounts/iban/\" + event.target.value,\r\n          method: \"get\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json; charset=UTF-8\",\r\n            Authorization: `Bearer ${this.token}`,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.errorMsg = \"\";\r\n          this.selectedToAccount = response.data.iban;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        })\r\n        .finally(() => (this.loading = false));\r\n    },\r\n    isNumber: function (evt) {\r\n      evt = evt ? evt : window.event;\r\n      var charCode = evt.which ? evt.which : evt.keyCode;\r\n      if (charCode > 31 && (charCode < 48 || charCode > 57) && charCode !== 46) {\r\n        evt.preventDefault();\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.selected-tr {\r\n  background: #0d6efd;\r\n  color: white;\r\n}\r\n\r\n.selected-tr .btn {\r\n  background: white;\r\n  border-color: white;\r\n  color: #0d6efd;\r\n}\r\n\r\n.selected-tr p {\r\n  color: white !important;\r\n  font-weight: 600;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}