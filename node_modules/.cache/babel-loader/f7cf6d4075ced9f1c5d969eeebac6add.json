{"remainingRequest":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\Transactions.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\Transactions.vue","mtime":1718049652609},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\babel.config.js","mtime":1718036833122},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718062523967},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1718062523953},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1718062524944},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718062523967},{"path":"C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1718062525123}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9Vc2Vycy8zMTYyNC9Eb2N1bWVudHMvR2l0SHViL2Zyb250ZW5kLWJhbmthcGktdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzLzMxNjI0L0RvY3VtZW50cy9HaXRIdWIvZnJvbnRlbmQtYmFua2FwaS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gIi4uLy4uL2F4aW9zLWF1dGgiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNlclRyYW5zYWN0aW9ucyIsCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbImdldFVzZXJOYW1lIl0pKSwge30sIHsKICAgIHNvcnRlZFRyYW5zYWN0aW9uczogZnVuY3Rpb24gc29ydGVkVHJhbnNhY3Rpb25zKCkgewogICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMudHJhbnNhY3Rpb25zKTsKICAgIH0KICB9KSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHJhbnNhY3Rpb25zOiBbXSwKICAgICAgc29ydEtleTogJycsCiAgICAgIHNvcnRPcmRlcjogMQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZVN0cmluZykgewogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpOwogICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVN0cmluZygpOwogICAgfSwKICAgIGV4dHJhY3RJQkFOOiBmdW5jdGlvbiBleHRyYWN0SUJBTihmcm9tRmllbGQpIHsKICAgICAgdmFyIHN0YXJ0SW5kZXggPSBmcm9tRmllbGQuaW5kZXhPZigiaWJhbj0iKSArIDU7CiAgICAgIHZhciBlbmRJbmRleCA9IGZyb21GaWVsZC5pbmRleE9mKCIsIiwgc3RhcnRJbmRleCk7CiAgICAgIHJldHVybiBmcm9tRmllbGQuc3Vic3RyaW5nKHN0YXJ0SW5kZXgsIGVuZEluZGV4KTsKICAgIH0sCiAgICBzb3J0Qnk6IGZ1bmN0aW9uIHNvcnRCeShrZXkpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgaWYgKHRoaXMuc29ydEtleSA9PT0ga2V5KSB7CiAgICAgICAgdGhpcy5zb3J0T3JkZXIgPSAtdGhpcy5zb3J0T3JkZXI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zb3J0S2V5ID0ga2V5OwogICAgICAgIHRoaXMuc29ydE9yZGVyID0gMTsKICAgICAgfQogICAgICB0aGlzLnRyYW5zYWN0aW9ucy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgdmFyIHggPSBhW2tleV07CiAgICAgICAgdmFyIHkgPSBiW2tleV07CiAgICAgICAgcmV0dXJuIF90aGlzLnNvcnRPcmRlciAqICh4IDwgeSA/IC0xIDogeCA+IHkgPyAxIDogMCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgICBheGlvcy5nZXQoInRyYW5zYWN0aW9ucy91c2VyIiwgewogICAgICBoZWFkZXJzOiB7CiAgICAgICAgQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRva2VuKQogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpczIudHJhbnNhY3Rpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIF90aGlzMi5lcnJvcmVkID0gdHJ1ZTsKICAgIH0pOwogIH0KfTs="},{"version":3,"mappings":";;;AAiCA,OAAOA,KAAI,MAAO,kBAAkB;AACpC,SAASC,UAAS,QAAS,MAAM;AAEjC,eAAe;EACbC,IAAI,EAAE,kBAAkB;EACxBC,QAAQ,kCACHF,UAAU,CAAC,CAAC,aAAa,CAAC,CAAC;IAC9BG,kBAAkB,gCAAG;MACnB,0BAAW,IAAI,CAACC,YAAY;IAC9B;EAAC,EACF;EACDC,IAAI,kBAAG;IACL,OAAO;MACLD,YAAY,EAAE,EAAE;MAChBE,OAAO,EAAE,EAAE;MACXC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAU,sBAACC,UAAU,EAAE;MACrB,IAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,UAAU,CAAC;MACjC,OAAOC,IAAI,CAACE,cAAc,CAAC,CAAC;IAC9B,CAAC;IACDC,WAAW,uBAACC,SAAS,EAAE;MACrB,IAAMC,UAAS,GAAID,SAAS,CAACE,OAAO,CAAC,OAAO,IAAI,CAAC;MACjD,IAAMC,QAAO,GAAIH,SAAS,CAACE,OAAO,CAAC,GAAG,EAAED,UAAU,CAAC;MACnD,OAAOD,SAAS,CAACI,SAAS,CAACH,UAAU,EAAEE,QAAQ,CAAC;IAClD,CAAC;IACDE,MAAM,kBAACC,GAAG,EAAE;MAAA;MACV,IAAI,IAAI,CAACf,OAAM,KAAMe,GAAG,EAAE;QACxB,IAAI,CAACd,SAAQ,GAAI,CAAC,IAAI,CAACA,SAAS;MAClC,OAAO;QACL,IAAI,CAACD,OAAM,GAAIe,GAAG;QAClB,IAAI,CAACd,SAAQ,GAAI,CAAC;MACpB;MACA,IAAI,CAACH,YAAY,CAACkB,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC,EAAK;QAC/B,IAAMC,IAAIF,CAAC,CAACF,GAAG,CAAC;QAChB,IAAMK,IAAIF,CAAC,CAACH,GAAG,CAAC;QAChB,OAAOM,KAAI,CAACpB,SAAQ,IAAMkB,IAAIC,CAAC,GAAI,CAAC,IAAMD,IAAIC,CAAC,GAAI,IAAI,CAAE,CAAC;MAC5D,CAAC,CAAC;IACJ;EACF,CAAC;EACDE,OAAO,qBAAG;IAAA;IACR,IAAIC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IACzChC,KAAI,CACCiC,GAAG,sBAAsB;MACxBC,OAAO,EAAE;QACPC,MAAM,EAAE,kBAAkB;QAC1B,cAAc,EAAE,kBAAkB;QAClCC,aAAa,mBAAYN,KAAK;MAChC;IACF,CAAC,EACAO,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClBC,MAAI,CAAClC,YAAW,GAAIiC,QAAQ,CAAChC,IAAI;IACnC,CAAC,EACAkC,KAAK,CAAC,UAACC,KAAK,EAAK;MAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBF,MAAI,CAACK,OAAM,GAAI,IAAI;IACrB,CAAC,CAAC;EACR;AACF,CAAC","names":["axios","mapGetters","name","computed","sortedTransactions","transactions","data","sortKey","sortOrder","methods","formatDate","dateString","date","Date","toLocaleString","extractIBAN","fromField","startIndex","indexOf","endIndex","substring","sortBy","key","sort","a","b","x","y","_this","mounted","token","localStorage","getItem","get","headers","Accept","Authorization","then","response","_this2","catch","error","console","log","errored"],"sourceRoot":"","sources":["C:\\Users\\31624\\Documents\\GitHub\\frontend-bankapi-vue\\src\\components\\transactions\\Transactions.vue"],"sourcesContent":["<template>\r\n  <section class=\"table-transactions mx-4 p-4\">\r\n    <div class=\"container\">\r\n      <div class=\"button-container p-2 my-2\">\r\n        <button @click=\"this.$router.push('/home')\" class=\"py-2 mx-2 btn btn-danger\">\r\n          Go Back\r\n        </button>\r\n      </div>\r\n      <table class=\"table align-middle mb-0 bg-white shadow-sm\">\r\n        <thead class=\"bg-light\">\r\n        <tr>\r\n          <th @click=\"sortBy('from')\">From</th>\r\n          <th @click=\"sortBy('to')\">To</th>\r\n          <th @click=\"sortBy('amount')\">Amount</th>\r\n          <th @click=\"sortBy('timestamp')\">Date</th>\r\n          <th @click=\"sortBy('transactionType')\">Type</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr v-for=\"transaction in sortedTransactions\" :key=\"transaction.id\">\r\n          <td>{{ extractIBAN(transaction.from) }}</td>\r\n          <td>{{ transaction.to }}</td>\r\n          <td>â‚¬{{ transaction.amount }}</td>\r\n          <td>{{ formatDate(transaction.timestamp) }}</td>\r\n          <td>{{ transaction.transactionType }}</td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"../../axios-auth\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"UserTransactions\",\r\n  computed: {\r\n    ...mapGetters([\"getUserName\"]),\r\n    sortedTransactions() {\r\n      return [...this.transactions];\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      transactions: [],\r\n      sortKey: '',\r\n      sortOrder: 1,\r\n    };\r\n  },\r\n  methods: {\r\n    formatDate(dateString) {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleString();\r\n    },\r\n    extractIBAN(fromField) {\r\n      const startIndex = fromField.indexOf(\"iban=\") + 5;\r\n      const endIndex = fromField.indexOf(\",\", startIndex);\r\n      return fromField.substring(startIndex, endIndex);\r\n    },\r\n    sortBy(key) {\r\n      if (this.sortKey === key) {\r\n        this.sortOrder = -this.sortOrder;\r\n      } else {\r\n        this.sortKey = key;\r\n        this.sortOrder = 1;\r\n      }\r\n      this.transactions.sort((a, b) => {\r\n        const x = a[key];\r\n        const y = b[key];\r\n        return this.sortOrder * ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    let token = localStorage.getItem(\"token\");\r\n    axios\r\n        .get(`transactions/user`, {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.transactions = response.data;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          this.errored = true;\r\n        });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"]}]}