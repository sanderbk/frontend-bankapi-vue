{"remainingRequest":"C:\\Users\\31624\\Documents\\GitHub\\bankAPIv3\\BankAPIv3\\frontend-vue\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\31624\\Documents\\GitHub\\bankAPIv3\\BankAPIv3\\frontend-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\31624\\Documents\\GitHub\\bankAPIv3\\BankAPIv3\\frontend-vue\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\31624\\Documents\\GitHub\\bankAPIv3\\BankAPIv3\\frontend-vue\\src\\store\\store.js","dependencies":[{"path":"C:\\Users\\31624\\Documents\\GitHub\\bankAPIv3\\BankAPIv3\\frontend-vue\\src\\store\\store.js","mtime":1718036833159},{"path":"C:\\Users\\31624\\Documents\\GitHub\\bankAPIv3\\BankAPIv3\\frontend-vue\\babel.config.js","mtime":1718036833122},{"path":"C:\\Users\\31624\\Documents\\GitHub\\bankAPIv3\\BankAPIv3\\frontend-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718054930790},{"path":"C:\\Users\\31624\\Documents\\GitHub\\bankAPIv3\\BankAPIv3\\frontend-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1718054929328},{"path":"C:\\Users\\31624\\Documents\\GitHub\\bankAPIv3\\BankAPIv3\\frontend-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1718054930927},{"path":"C:\\Users\\31624\\Documents\\GitHub\\bankAPIv3\\BankAPIv3\\frontend-vue\\node_modules\\eslint-loader\\index.js","mtime":1718054930526}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICIuLi9heGlvcy1hdXRoIjsKdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUoewogIHN0YXRlOiBmdW5jdGlvbiBzdGF0ZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRva2VuOiBudWxsLAogICAgICB1c2VybmFtZTogbnVsbCwKICAgICAgdXNlcnJvbGU6IG51bGwsCiAgICAgIHVzZXJJRDogbnVsbAogICAgfTsKICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oc3RhdGUpIHsKICAgICAgcmV0dXJuICEhc3RhdGUudG9rZW47CiAgICB9LAogICAgZ2V0VXNlck5hbWU6IGZ1bmN0aW9uIGdldFVzZXJOYW1lKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VybmFtZTsKICAgIH0sCiAgICBpc0FkbWluOiBmdW5jdGlvbiBpc0FkbWluKHN0YXRlKSB7CiAgICAgIGlmIChzdGF0ZS51c2Vycm9sZSkgewogICAgICAgIGlmIChzdGF0ZS51c2Vycm9sZS50b1N0cmluZygpLmluY2x1ZGVzKCJST0xFX0VNUExPWUVFIikpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZ2V0VXNlclJvbGU6IGZ1bmN0aW9uIGdldFVzZXJSb2xlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2Vycm9sZTsKICAgIH0sCiAgICBnZXR1c2VySUQ6IGZ1bmN0aW9uIGdldHVzZXJJRChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlcklEOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBhdXRoZW50aWNhdGVVc2VyOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVVc2VyKHN0YXRlLCBwYXJhbWV0ZXJzKSB7CiAgICAgIHN0YXRlLnRva2VuID0gcGFyYW1ldGVycy50b2tlbjsKICAgICAgc3RhdGUudXNlcm5hbWUgPSBwYXJhbWV0ZXJzLnVzZXJuYW1lOwogICAgICBzdGF0ZS51c2Vycm9sZSA9IHBhcmFtZXRlcnMudXNlcnJvbGU7CiAgICAgIHN0YXRlLnVzZXJJRCA9IHBhcmFtZXRlcnMudXNlcklEOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHBhcmFtZXRlcnMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGF4aW9zLnBvc3QoImxvZ2luIiwgewogICAgICAgICAgdXNlcm5hbWU6IHBhcmFtZXRlcnMudXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogcGFyYW1ldGVycy5wYXNzd29yZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICJCZWFyZXIgIiArIHJlc3VsdC5kYXRhLnRva2VuOwogICAgICAgICAgY29tbWl0KCdhdXRoZW50aWNhdGVVc2VyJywgcmVzdWx0LmRhdGEpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgcmVzdWx0LmRhdGEudG9rZW4pOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJyb2xlJywgcmVzdWx0LmRhdGEudXNlcnJvbGUpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJRCcsIHJlc3VsdC5kYXRhLnVzZXJJRCk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcm5hbWUnLCByZXN1bHQuZGF0YS51c2VybmFtZSk7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBhdXRvTG9naW46IGZ1bmN0aW9uIGF1dG9Mb2dpbihfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgdmFyIHVzZXJuYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJyk7CiAgICAgIHZhciB1c2Vycm9sZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2Vycm9sZScpOwogICAgICB2YXIgdXNlcklEID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJRCcpOwoKICAgICAgaWYgKHRva2VuICYmIHVzZXJuYW1lKSB7CiAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICJCZWFyZXIgIiArIHRva2VuOwogICAgICAgIGNvbW1pdCgnYXV0aGVudGljYXRlVXNlcicsIHsKICAgICAgICAgIHRva2VuOiB0b2tlbiwKICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgICAgIHVzZXJyb2xlOiB1c2Vycm9sZSwKICAgICAgICAgIHVzZXJJRDogdXNlcklECiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn0pOwpleHBvcnQgZGVmYXVsdCBzdG9yZTs="},{"version":3,"sources":["C:/Users/31624/Documents/GitHub/bankAPIv3/BankAPIv3/frontend-vue/src/store/store.js"],"names":["createStore","axios","store","state","token","username","userrole","userID","getters","isLoggedIn","getUserName","isAdmin","toString","includes","getUserRole","getuserID","mutations","authenticateUser","parameters","actions","login","commit","Promise","resolve","reject","post","password","then","result","defaults","headers","common","data","localStorage","setItem","catch","error","autoLogin","getItem"],"mappings":"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","sourcesContent":["import { createStore } from 'vuex'\r\nimport axios from \"../axios-auth\";\r\nconst store = createStore({\r\n    state() {\r\n        return {\r\n            token: null,\r\n            username: null,\r\n            userrole: null,\r\n            userID: null\r\n        }\r\n    },\r\n    getters: {\r\n        isLoggedIn(state) {\r\n            return !!state.token;\r\n        },\r\n        getUserName(state) {\r\n            return state.username;\r\n        },\r\n        isAdmin(state) {\r\n            if (state.userrole) {\r\n                if (state.userrole.toString().includes(\"ROLE_EMPLOYEE\")) {\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n        },\r\n        getUserRole(state) {\r\n            return state.userrole;\r\n        },\r\n        getuserID(state) {\r\n            return state.userID;\r\n        },\r\n    },\r\n    mutations: {\r\n        authenticateUser(state, parameters) {\r\n            state.token = parameters.token\r\n            state.username = parameters.username\r\n            state.userrole = parameters.userrole\r\n            state.userID = parameters.userID\r\n        }\r\n    },\r\n    actions: {\r\n\r\n        login({ commit }, parameters) {\r\n            return new Promise((resolve, reject) => {\r\n                axios.post(\"login\", {\r\n                    username: parameters.username,\r\n                    password: parameters.password,\r\n                })\r\n                    .then((result) => {\r\n                        axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" +\r\n                            result.data.token;\r\n\r\n                        commit('authenticateUser', result.data);\r\n                        localStorage.setItem('token', result.data.token);\r\n\r\n\r\n\r\n                        localStorage.setItem('userrole', result.data.userrole);\r\n                        localStorage.setItem('userID', result.data.userID);\r\n                        localStorage.setItem('username', result.data.username);\r\n\r\n\r\n\r\n\r\n\r\n                        resolve()\r\n\r\n                    })\r\n                    .catch((error) => {\r\n                        reject(error)\r\n                    });\r\n            })\r\n        },\r\n        autoLogin({ commit }) {\r\n            const token = localStorage.getItem('token');\r\n            const username = localStorage.getItem('username');\r\n            const userrole = localStorage.getItem('userrole');\r\n            const userID = localStorage.getItem('userID');\r\n            if (token && username) {\r\n                axios.defaults.headers.common[\"Authorization\"] =\r\n                    \"Bearer \" + token;\r\n                commit('authenticateUser', {\r\n                    token: token,\r\n                    username: username,\r\n                    userrole: userrole,\r\n                    userID: userID\r\n                });\r\n            }\r\n        }\r\n    }\r\n});\r\nexport default store;\r\n"]}]}